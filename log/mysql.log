  [1m[36mLti2Tc::Registry Load (0.5ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
  [1m[36mLti2Tc::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-04-23 14:16:36 -0700
Processing by Admin::RegisterNewToolController#index as HTML
Completed 401 Unauthorized in 1ms
Started GET "/admin/login" for 127.0.0.1 at 2015-04-23 14:16:36 -0700
Processing by ActiveAdmin::Devise::SessionsController#new as HTML
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/devise/shared/_links.erb (1.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out (54.6ms)
Completed 200 OK in 2498ms (Views: 2458.9ms | ActiveRecord: 25.9ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-23 14:16:38 -0700
Started GET "/assets/active_admin/print.css" for 127.0.0.1 at 2015-04-23 14:16:38 -0700
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-23 14:16:38 -0700
Started POST "/admin/login" for 127.0.0.1 at 2015-04-23 14:16:41 -0700
Processing by ActiveAdmin::Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "admin_user"=>{"email"=>"admin@lumos.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"<p>active_admin.devise.login.submit</p>"}
  [1m[35mAdminUser Load (1.5ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`email` = 'admin@lumos.org'  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `admin_users` SET `current_sign_in_at` = '2015-04-23 21:16:41', `last_sign_in_at` = '2015-04-22 18:30:31', `sign_in_count` = 223, `updated_at` = '2015-04-23 21:16:41' WHERE `admin_users`.`id` = 2
  [1m[36m (2.6ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:4000/admin/register_new_tool
Completed 302 Found in 103ms (ActiveRecord: 4.7ms)
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-04-23 14:16:41 -0700
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[35mAdminUser Load (0.4ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (6.9ms)[0m  INSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_profile_guid`, `updated_at`) VALUES ('2015-04-23 21:16:41', 'f5a2a980-cc2b-0132-536d-20c9d07c6451', 'a65670158eae1675198661a10139069e', 'prepared', 'f5a35b20-cc2b-0132-536d-20c9d07c6451', '2015-04-23 21:16:41')
  [1m[36m (6.1ms)[0m  [1mCOMMIT[0m
  Rendered admin/register_new_tool/_register_new_tool.html.haml (6.0ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (62.9ms)
Completed 200 OK in 70ms (Views: 51.1ms | ActiveRecord: 15.2ms)
Started GET "/assets/active_admin/nested_menu_arrow.gif" for 127.0.0.1 at 2015-04-23 14:16:41 -0700
Started GET "/assets/active_admin/nested_menu_arrow_dark.gif" for 127.0.0.1 at 2015-04-23 14:16:41 -0700
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-04-23 14:16:43 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  Rendered admin/dashboard/_dashboard.html.haml (3.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (30.4ms)
Completed 200 OK in 33ms (Views: 31.2ms | ActiveRecord: 0.3ms)
Started GET "/admin/course_actions" for 127.0.0.1 at 2015-04-23 14:16:46 -0700
Processing by Admin::CourseActionsController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mCourse Load (0.6ms)[0m  SELECT `courses`.* FROM `courses`   ORDER BY course_label
  Rendered admin/course_actions/_course_actions.html.haml (3.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (56.3ms)
Completed 200 OK in 59ms (Views: 52.6ms | ActiveRecord: 4.9ms)
Started GET "/admin/course_page?method=show&course_id=2" for 127.0.0.1 at 2015-04-23 14:16:51 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"show", "course_id"=>"2"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mCourse Load (0.8ms)[0m  SELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1
  [1m[36mLti2Tc::Link Load (0.4ms)[0m  [1mSELECT `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`course_id` = 2[0m
  [1m[35mGradeItem Load (0.4ms)[0m  SELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 301 LIMIT 1
  [1m[36mGradeResult Load (0.4ms)[0m  [1mSELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2395 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1[0m
  [1m[35mGradeItem Load (0.2ms)[0m  SELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 304 LIMIT 1
  [1m[36mGradeResult Load (0.2ms)[0m  [1mSELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2404 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.5ms)[0m  SELECT `lti2_tc_resources`.* FROM `lti2_tc_resources`   ORDER BY resource_name
  [1m[36mGradeItem Load (0.8ms)[0m  [1mSELECT `grade_items`.* FROM `grade_items`   ORDER BY label[0m
  [1m[35mLti2Tc::Resource Load (0.3ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2389 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2392 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.3ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2395 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2398 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.3ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2401 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2404 LIMIT 1[0m
  Rendered admin/course_page/_course_page.html.haml (32.8ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (99.6ms)
Completed 200 OK in 103ms (Views: 86.6ms | ActiveRecord: 14.1ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-04-23 14:16:56 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  Rendered admin/dashboard/_dashboard.html.haml (0.9ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (32.6ms)
Completed 200 OK in 35ms (Views: 33.1ms | ActiveRecord: 0.3ms)
Started GET "/admin/admin_actions" for 127.0.0.1 at 2015-04-23 14:16:57 -0700
Processing by Admin::AdminActionsController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  Rendered admin/admin_actions/_admin_actions.html.haml (2.8ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (30.7ms)
Completed 200 OK in 33ms (Views: 31.5ms | ActiveRecord: 0.3ms)
Started GET "/admin/tool_actions" for 127.0.0.1 at 2015-04-23 14:16:59 -0700
Processing by Admin::ToolActionsController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.6ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (4.2ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (46.3ms)
Completed 200 OK in 48ms (Views: 42.4ms | ActiveRecord: 4.8ms)
Started GET "/admin/tool_actions?method=reregister&tool_id=141" for 127.0.0.1 at 2015-04-23 14:17:05 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"method"=>"reregister", "tool_id"=>"141"}
  [1m[35mAdminUser Load (0.4ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.5ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 141 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 141 LIMIT 1  [["id", "141"]]
  [1m[36mLti2Tc::DeploymentRequest Load (0.4ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = '74c33940-cb7b-0132-536b-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (3.5ms)[0m  [1mUPDATE `lti2_tc_tools` SET `registration_return_url` = 'http://rails.kinexis.com:4000/admin/tool_actions', `updated_at` = '2015-04-23 21:17:05' WHERE `lti2_tc_tools`.`id` = 141[0m
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `status` = 'reregistering', `updated_at` = '2015-04-23 21:17:05' WHERE `lti2_tc_deployment_requests`.`id` = 275
  [1m[36m (17.6ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.5ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '74c340c0-cb7b-0132-536b-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  Rendered inline template (0.4ms)
  [1m[36mLti2Tc::Tool Load (0.3ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (0.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (94.3ms)
Completed 200 OK in 97ms (Views: 50.5ms | ActiveRecord: 44.6ms)
Started GET "/lti2_tc/tool_consumer_profiles/74c340c0-cb7b-0132-536b-20c9d07c6451" for 127.0.0.1 at 2015-04-23 14:17:05 -0700
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"74c340c0-cb7b-0132-536b-20c9d07c6451"}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '74c340c0-cb7b-0132-536b-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/74c340c0-cb7b-0132-536b-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/74c340c0-cb7b-0132-536b-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "74c340c0-cb7b-0132-536b-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.3ms)
Started GET "/admin/tool_actions?status=failure&lti_errormsg=Invalid+signature&lti_errorlog=Invalid+signature" for 127.0.0.1 at 2015-04-23 14:17:21 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"status"=>"failure", "lti_errormsg"=>"Invalid signature", "lti_errorlog"=>"Invalid signature"}
Completed 401 Unauthorized in 0ms
Started GET "/admin/login" for 127.0.0.1 at 2015-04-23 14:17:21 -0700
Processing by ActiveAdmin::Devise::SessionsController#new as HTML
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/devise/shared/_links.erb (0.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out (22.3ms)
Completed 200 OK in 27ms (Views: 24.0ms | ActiveRecord: 0.0ms)
Started GET "/assets/active_admin/print.css" for 127.0.0.1 at 2015-04-23 14:17:21 -0700
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-23 14:17:21 -0700
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-23 14:17:21 -0700
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-04-23 14:17:30 -0700
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_profile_guid`, `updated_at`) VALUES ('2015-04-23 21:17:30', '12d95000-cc2c-0132-536d-20c9d07c6451', '315ccc6f844d625b63b1fd8ff74a48ee', 'prepared', '12d95250-cc2c-0132-536d-20c9d07c6451', '2015-04-23 21:17:30')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  Rendered admin/register_new_tool/_register_new_tool.html.haml (0.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (32.1ms)
Completed 200 OK in 35ms (Views: 32.0ms | ActiveRecord: 1.1ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-04-23 14:17:32 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  Rendered admin/dashboard/_dashboard.html.haml (0.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (31.8ms)
Completed 200 OK in 36ms (Views: 32.7ms | ActiveRecord: 0.4ms)
Started GET "/admin/admin_actions" for 127.0.0.1 at 2015-04-23 14:17:36 -0700
Processing by Admin::AdminActionsController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  Rendered admin/admin_actions/_admin_actions.html.haml (0.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (40.1ms)
Completed 200 OK in 42ms (Views: 40.6ms | ActiveRecord: 0.3ms)
Started GET "/admin/tool_actions" for 127.0.0.1 at 2015-04-23 14:17:38 -0700
Processing by Admin::ToolActionsController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.4ms)[0m  SELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name
  Rendered admin/tool_actions/_tool_actions.html.haml (0.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (28.2ms)
Completed 200 OK in 31ms (Views: 28.5ms | ActiveRecord: 0.7ms)
Started GET "/admin/tool_actions?method=reregister&tool_id=141" for 127.0.0.1 at 2015-04-23 14:17:41 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"method"=>"reregister", "tool_id"=>"141"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.5ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 141 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 141 LIMIT 1[0m  [["id", "141"]]
  [1m[35mLti2Tc::DeploymentRequest Load (0.7ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = '74c33940-cb7b-0132-536b-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mLti2Tc::ToolConsumerProfile Load (0.2ms)[0m  [1mSELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '74c340c0-cb7b-0132-536b-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `lti2_tc_tool_consumer_profiles` SET `tc_profile` = '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/74c340c0-cb7b-0132-536b-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/74c340c0-cb7b-0132-536b-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"74c340c0-cb7b-0132-536b-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', `updated_at` = '2015-04-23 21:17:41' WHERE `lti2_tc_tool_consumer_profiles`.`id` = 245[0m
  [1m[35m (0.7ms)[0m  COMMIT
  Rendered inline template (0.4ms)
  [1m[36mLti2Tc::Tool Load (0.4ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (0.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (44.3ms)
Completed 200 OK in 46ms (Views: 41.0ms | ActiveRecord: 3.9ms)
Started GET "/lti2_tc/tool_consumer_profiles/74c340c0-cb7b-0132-536b-20c9d07c6451" for 127.0.0.1 at 2015-04-23 14:17:41 -0700
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"74c340c0-cb7b-0132-536b-20c9d07c6451"}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '74c340c0-cb7b-0132-536b-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/74c340c0-cb7b-0132-536b-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/74c340c0-cb7b-0132-536b-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "74c340c0-cb7b-0132-536b-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.3ms)
Started GET "/admin/tool_actions?status=failure&lti_errormsg=Invalid+signature&lti_errorlog=Invalid+signature" for 127.0.0.1 at 2015-04-23 14:17:44 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"status"=>"failure", "lti_errormsg"=>"Invalid signature", "lti_errorlog"=>"Invalid signature"}
Completed 401 Unauthorized in 1ms
Started GET "/admin/login" for 127.0.0.1 at 2015-04-23 14:17:44 -0700
Processing by ActiveAdmin::Devise::SessionsController#new as HTML
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/devise/shared/_links.erb (0.9ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out (22.3ms)
Completed 200 OK in 26ms (Views: 24.0ms | ActiveRecord: 0.0ms)
Started GET "/admin/tool_actions?status=failure&lti_errormsg=Invalid+signature&lti_errorlog=Invalid+signature" for 127.0.0.1 at 2015-04-23 14:17:45 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"status"=>"failure", "lti_errormsg"=>"Invalid signature", "lti_errorlog"=>"Invalid signature"}
Completed 401 Unauthorized in 1ms
Started GET "/admin/login" for 127.0.0.1 at 2015-04-23 14:17:45 -0700
Processing by ActiveAdmin::Devise::SessionsController#new as HTML
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/devise/shared/_links.erb (0.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out (25.9ms)
Completed 200 OK in 28ms (Views: 27.1ms | ActiveRecord: 0.0ms)
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-04-23 14:17:49 -0700
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_profile_guid`, `updated_at`) VALUES ('2015-04-23 21:17:49', '1e1ef8b0-cc2c-0132-536d-20c9d07c6451', '8820612cd6f81f97d257dd23f1f453e7', 'prepared', '1e1efac0-cc2c-0132-536d-20c9d07c6451', '2015-04-23 21:17:49')[0m
  [1m[35m (0.7ms)[0m  COMMIT
  Rendered admin/register_new_tool/_register_new_tool.html.haml (0.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (36.2ms)
Completed 200 OK in 40ms (Views: 36.0ms | ActiveRecord: 1.4ms)
  [1m[36mLti2Tc::Registry Load (0.4ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-04-23 16:50:25 -0700
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[35mAdminUser Load (0.9ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (6.8ms)[0m  INSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_profile_guid`, `updated_at`) VALUES ('2015-04-23 23:50:25', '6fb20ec0-cc41-0132-536e-20c9d07c6451', 'ce6ac69f1d1e1297a608ec353bf1535b', 'prepared', '6fb2f600-cc41-0132-536e-20c9d07c6451', '2015-04-23 23:50:25')
  [1m[36m (12.1ms)[0m  [1mCOMMIT[0m
  Rendered admin/register_new_tool/_register_new_tool.html.haml (4.8ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (160.9ms)
Completed 200 OK in 220ms (Views: 149.9ms | ActiveRecord: 44.6ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-23 16:50:25 -0700
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-23 16:50:25 -0700
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-04-23 16:50:27 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  Rendered admin/dashboard/_dashboard.html.haml (3.7ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (31.2ms)
Completed 200 OK in 33ms (Views: 31.8ms | ActiveRecord: 0.3ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-23 16:50:27 -0700
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-23 16:50:27 -0700
Started GET "/admin/admin_actions" for 127.0.0.1 at 2015-04-23 16:50:28 -0700
Processing by Admin::AdminActionsController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  Rendered admin/admin_actions/_admin_actions.html.haml (2.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (29.2ms)
Completed 200 OK in 32ms (Views: 29.9ms | ActiveRecord: 0.3ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-23 16:50:28 -0700
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-23 16:50:28 -0700
Started GET "/admin/tool_actions" for 127.0.0.1 at 2015-04-23 16:50:29 -0700
Processing by Admin::ToolActionsController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (1.3ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (4.6ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (46.1ms)
Completed 200 OK in 48ms (Views: 43.8ms | ActiveRecord: 3.2ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-23 16:50:29 -0700
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-23 16:50:29 -0700
Started GET "/admin/tool_actions?method=reregister&tool_id=141" for 127.0.0.1 at 2015-04-23 16:50:32 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"method"=>"reregister", "tool_id"=>"141"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.9ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 141 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 141 LIMIT 1  [["id", "141"]]
  [1m[36mLti2Tc::DeploymentRequest Load (0.3ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = '74c33940-cb7b-0132-536b-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '74c340c0-cb7b-0132-536b-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `lti2_tc_tool_consumer_profiles` SET `tc_profile` = '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/{tc_profile_guid}#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"74c340c0-cb7b-0132-536b-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', `updated_at` = '2015-04-23 23:50:32' WHERE `lti2_tc_tool_consumer_profiles`.`id` = 245
  [1m[36m (12.4ms)[0m  [1mCOMMIT[0m
  Rendered inline template (0.5ms)
  [1m[35mLti2Tc::Tool Load (0.3ms)[0m  SELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name
  Rendered admin/tool_actions/_tool_actions.html.haml (0.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (88.2ms)
Completed 200 OK in 91ms (Views: 53.4ms | ActiveRecord: 35.6ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-23 16:50:32 -0700
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-23 16:50:32 -0700
Started GET "/lti2_tc/tool_consumer_profiles/74c340c0-cb7b-0132-536b-20c9d07c6451" for 127.0.0.1 at 2015-04-23 16:50:33 -0700
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"74c340c0-cb7b-0132-536b-20c9d07c6451"}
  [1m[36mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  [1mSELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '74c340c0-cb7b-0132-536b-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1[0m
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/74c340c0-cb7b-0132-536b-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/74c340c0-cb7b-0132-536b-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "74c340c0-cb7b-0132-536b-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 5ms (Views: 2.2ms | ActiveRecord: 0.3ms)
Started POST "/lti2_tc/tools" for 127.0.0.1 at 2015-04-23 16:50:37 -0700
Processing by Lti2Tc::ToolsController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"74c33940-cb7b-0132-536b-20c9d07c6451", :oauth_nonce=>"8123758812667", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1429833037", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"K1tLfdVxLAPdmbwGChmusWBJ9W0=", :oauth_signature=>"k08oMQZr/WGuhv1IYHPctbIlgwc="}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.4ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '74c340c0-cb7b-0132-536b-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
ToolProxy as received: 
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/74c340c0-cb7b-0132-536b-20c9d07c6451#"
    }
  ],
  "@type": "ToolProxy",
  "@id": "ToolProxyProposal_at_2015-04-23T23:50:37Z",
  "lti_version": "LTI-2p0",
  "tool_proxy_guid": "74c33940-cb7b-0132-536b-20c9d07c6451",
  "tool_consumer_profile": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/74c340c0-cb7b-0132-536b-20c9d07c6451",
  "tool_profile": {
    "base_url_choice": [
      {
        "default_base_url": "http://rails.kinexis.com:5000",
        "selector": {
          "applies_to": [
            "IconEndpoint",
            "MessageHandler"
          ]
        }
      }
    ],
    "lti_version": "LTI-2p0",
    "message": [
      {
        "message_type": [
          "ToolProxyRegistrationRequest",
          "ToolProxyReregistrationRequest"
        ],
        "parameter": [
          {
            "name": "tc_profile_url",
            "variable": "ToolConsumerProfile.url"
          }
        ],
        "path": "http://rails.kinexis.com:5000/lti2_tp/reregistrations"
      }
    ],
    "product_instance": {
      "guid": "fd75124a-140e-470f-944c-114d2d92bb40",
      "product_info": {
        "description": {
          "default_value": "Fabericious reflowable ePub3 Textbook",
          "key": "tool.description"
        },
        "product_family": {
          "code": "assessment-tool",
          "vendor": {
            "code": "fabericious.org",
            "contact": {
              "email": "info@fabericious.com"
            },
            "description": {
              "default_value": "Fabericious is a leading provider of interactive tools for education",
              "key": "tool.vendor.description"
            },
            "vendor_name": {
              "default_value": "Fab",
              "key": "tool.vendor.name"
            },
            "timestamp": "2012-04-05T09:08:16-04:00",
            "website": "{http://rails.kinexis.com:5000}"
          }
        },
        "product_name": {
          "default_value": "LTI2 BookTools",
          "key": "tool.name"
        },
        "product_version": "10.3",
        "technical_description": {
          "default_value": "Support provided for all LTI 1 extensions as well as LTI 2",
          "key": "tool.technical"
        }
      },
      "service_provider": {
        "description": {
          "default_value": "Provider of high performance managed hosting environments",
          "key": "service_provider.description"
        },
        "guid": "18e7ea50-3d6d-4f6b-aff2-ed3ab577716c",
        "service_provider_name": {
          "default_value": "Amazon Cloud",
          "key": "service_provider.name"
        },
        "support": {
          "email": "support@ec2.fabericious.com"
        },
        "timestamp": "2012-04-05T09:08:16-04:00"
      },
      "support": {
        "email": "helpdesk@fabericious.com"
      }
    },
    "resource_handler": [
      {
        "description": {
          "default_value": "Settings service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "tool_proxy_custom_url",
                "variable": "ToolProxy.custom.url"
              },
              {
                "name": "tool_proxy_binding_custom_url",
                "variable": "ToolProxyBinding.custom.url"
              },
              {
                "name": "lti_link_custom_url",
                "variable": "LtiLink.custom.url"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "ToolProxy.custom.url",
              "ToolProxyBinding.custom.url",
              "LtiLink.custom.url"
            ],
            "path": "/settings"
          }
        ],
        "resource_name": {
          "default_value": "Settings",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "setting"
        }
      },
      {
        "description": {
          "default_value": "Echo service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "fixed": "Narcissus",
                "name": "referrer"
              },
              {
                "fixed": "3.14159",
                "name": "pi"
              },
              {
                "name": "user_primary_email",
                "variable": "Person.email.primary"
              },
              {
                "name": "discipline",
                "variable": "CourseOffering.label"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary"
            ],
            "path": "/echoes"
          }
        ],
        "resource_name": {
          "default_value": "Echo",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "echo"
        }
      },
      {
        "description": {
          "default_value": "Interactive resource",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "vbid"
              },
              {
                "name": "result_uri",
                "variable": "Result.uri"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "Result.autocreate"
            ],
            "path": "/iresources"
          }
        ],
        "resource_name": {
          "default_value": "InteractiveResource",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "iresource"
        }
      }
    ],
    "service_offered": [
      {
        "@id": "http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection",
        "@type": "RestService",
        "action": [
          "PUT"
        ],
        "endpoint": "http://rails.kinexis.com:5000/lti2_tp/tool_proxies",
        "format": [
          ""
        ]
      }
    ]
  },
  "security_contract": {
    "shared_secret": "0bb4f1c1f0d69b123a84158c4a9cffb2",
    "tool_service": [
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.collection",
        "action": [
          "POST"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:Result.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:LtiLinkSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxyBindingSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxySettings",
        "action": [
          "GET",
          "PUT"
        ]
      }
    ]
  }
}
  [1m[36mLti2Tc::DeploymentRequest Load (0.3ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = '74c33940-cb7b-0132-536b-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `confirm_url` = 'http://rails.kinexis.com:5000/lti2_tp/tool_proxies/74c33940-cb7b-0132-536b-20c9d07c6451?correlation=771f6700-cc41-0132-536f-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/74c340c0-cb7b-0132-536b-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-04-23T23:50:37Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"74c33940-cb7b-0132-536b-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/74c340c0-cb7b-0132-536b-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"0bb4f1c1f0d69b123a84158c4a9cffb2\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-04-23 23:50:37' WHERE `lti2_tc_deployment_requests`.`id` = 275[0m
  [1m[35m (12.3ms)[0m  COMMIT
  [1m[36mLti2Tc::Tool Load (0.3ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = '74c33940-cb7b-0132-536b-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `lti2_tc_tools` SET `status` = 'reregistering', `updated_at` = '2015-04-23 23:50:37' WHERE `lti2_tc_tools`.`id` = 141[0m
  [1m[35m (0.3ms)[0m  COMMIT
  Rendered text template (0.0ms)
Completed 201 Created in 25ms (Views: 2.0ms | ActiveRecord: 14.7ms)
Started GET "/admin/tool_actions?status=success" for 127.0.0.1 at 2015-04-23 16:50:38 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"status"=>"success"}
Completed 401 Unauthorized in 1ms
Started GET "/admin/login" for 127.0.0.1 at 2015-04-23 16:50:38 -0700
Processing by ActiveAdmin::Devise::SessionsController#new as HTML
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/devise/shared/_links.erb (1.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out (77.5ms)
Completed 200 OK in 88ms (Views: 85.0ms | ActiveRecord: 0.0ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-23 16:50:38 -0700
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-23 16:50:38 -0700
Started POST "/admin/login" for 127.0.0.1 at 2015-04-23 16:50:48 -0700
Processing by ActiveAdmin::Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "admin_user"=>{"email"=>"admin@lumos.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"<p>active_admin.devise.login.submit</p>"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`email` = 'admin@lumos.org'  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE `admin_users` SET `current_sign_in_at` = '2015-04-23 23:50:48', `last_sign_in_at` = '2015-04-23 21:16:41', `sign_in_count` = 224, `updated_at` = '2015-04-23 23:50:48' WHERE `admin_users`.`id` = 2[0m
  [1m[35m (12.0ms)[0m  COMMIT
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success
Completed 302 Found in 106ms (ActiveRecord: 14.4ms)
Started GET "/admin/tool_actions?status=success" for 127.0.0.1 at 2015-04-23 16:50:48 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"status"=>"success"}
  [1m[36mAdminUser Load (0.8ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.4ms)[0m  SELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name
  Rendered admin/tool_actions/_tool_actions.html.haml (0.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (29.6ms)
Completed 200 OK in 33ms (Views: 30.1ms | ActiveRecord: 1.2ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-23 16:50:48 -0700
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-23 16:50:48 -0700
Started GET "/assets/active_admin/nested_menu_arrow.gif" for 127.0.0.1 at 2015-04-23 16:50:48 -0700
Started GET "/assets/active_admin/nested_menu_arrow_dark.gif" for 127.0.0.1 at 2015-04-23 16:50:48 -0700
Started GET "/lti2_tc/reregister_continue?tool_id=141" for 127.0.0.1 at 2015-04-23 16:50:51 -0700
Processing by Lti2Tc::ToolsController#reregister_continue as HTML
  Parameters: {"tool_id"=>"141"}
  [1m[36mLti2Tc::Tool Load (0.3ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 141 LIMIT 1[0m
  [1m[35mLti2Tc::DeploymentRequest Load (0.2ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = '74c33940-cb7b-0132-536b-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `lti2_tc_tools` SET `secret` = '0bb4f1c1f0d69b123a84158c4a9cffb2', `status` = 'reregistered', `tool_proxy` = '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/74c340c0-cb7b-0132-536b-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"http://rails.kinexis.com:4000/tools/74c33940-cb7b-0132-536b-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"74c33940-cb7b-0132-536b-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/74c340c0-cb7b-0132-536b-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"0bb4f1c1f0d69b123a84158c4a9cffb2\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', `updated_at` = '2015-04-23 23:50:51' WHERE `lti2_tc_tools`.`id` = 141
  [1m[36m (12.4ms)[0m  [1mCOMMIT[0m
Redirected to http://rails.kinexis.com:4000/admin/tool_actions
Completed 302 Found in 87ms (ActiveRecord: 13.6ms)
Started GET "/admin/tool_actions" for 127.0.0.1 at 2015-04-23 16:50:51 -0700
Processing by Admin::ToolActionsController#index as HTML
  [1m[35mAdminUser Load (0.5ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.4ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (0.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (27.6ms)
Completed 200 OK in 31ms (Views: 28.2ms | ActiveRecord: 0.9ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-23 16:50:51 -0700
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-23 16:50:51 -0700
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-04-23 16:50:54 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  Rendered admin/dashboard/_dashboard.html.haml (0.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (23.8ms)
Completed 200 OK in 26ms (Views: 24.3ms | ActiveRecord: 0.3ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-23 16:50:54 -0700
Started GET "/admin/course_actions" for 127.0.0.1 at 2015-04-23 16:50:56 -0700
Processing by Admin::CourseActionsController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mCourse Load (0.4ms)[0m  SELECT `courses`.* FROM `courses`   ORDER BY course_label
  Rendered admin/course_actions/_course_actions.html.haml (2.7ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (36.3ms)
Completed 200 OK in 39ms (Views: 33.8ms | ActiveRecord: 3.8ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-23 16:50:56 -0700
Started GET "/admin/course_page?method=show&course_id=2" for 127.0.0.1 at 2015-04-23 16:50:58 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"show", "course_id"=>"2"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mCourse Load (0.4ms)[0m  SELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1
  [1m[36mLti2Tc::Link Load (0.4ms)[0m  [1mSELECT `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`course_id` = 2[0m
  [1m[35mGradeItem Load (0.2ms)[0m  SELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 301 LIMIT 1
  [1m[36mGradeResult Load (0.2ms)[0m  [1mSELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2395 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1[0m
  [1m[35mGradeItem Load (0.2ms)[0m  SELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 304 LIMIT 1
  [1m[36mGradeResult Load (0.2ms)[0m  [1mSELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2404 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.5ms)[0m  SELECT `lti2_tc_resources`.* FROM `lti2_tc_resources`   ORDER BY resource_name
  [1m[36mGradeItem Load (0.4ms)[0m  [1mSELECT `grade_items`.* FROM `grade_items`   ORDER BY label[0m
  [1m[35mLti2Tc::Resource Load (0.3ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2389 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2392 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.1ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2395 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2398 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2401 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2404 LIMIT 1[0m
  Rendered admin/course_page/_course_page.html.haml (28.0ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (91.8ms)
Completed 200 OK in 95ms (Views: 78.9ms | ActiveRecord: 14.4ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-23 16:50:58 -0700
Started GET "/admin/course_page?method=link&link_id=2401" for 127.0.0.1 at 2015-04-23 16:51:01 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"link", "link_id"=>"2401"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Link Load (0.5ms)[0m  [1mSELECT  `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`id` = 2401 LIMIT 1[0m
  [1m[35mCourse Load (0.4ms)[0m  SELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1
  [1m[36mEnrollment Load (0.6ms)[0m  [1mSELECT  `enrollments`.* FROM `enrollments`  WHERE `enrollments`.`admin_user_id` = 2 AND `enrollments`.`course_id` = 2  ORDER BY `enrollments`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.4ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2401 LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.5ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 141 LIMIT 1[0m
  [1m[35mLti2Tc::ToolSetting Load (0.3ms)[0m  SELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 141 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Tool'
  [1m[36mLti2Tc::ToolSetting Load (0.3ms)[0m  [1mSELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 141 AND `lti2_tc_tool_settings`.`scopeable_id` = 2 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Context'[0m
  [1m[35mLti2Tc::ToolSetting Load (0.3ms)[0m  SELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 141 AND `lti2_tc_tool_settings`.`scopeable_id` = 2401 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Ltilink'
  Rendered inline template (0.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (83.3ms)
Completed 200 OK in 85ms (Views: 57.4ms | ActiveRecord: 26.6ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-23 16:51:01 -0700
Started GET "/admin/course_page?method=show&course_id=2" for 127.0.0.1 at 2015-04-23 16:51:02 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"show", "course_id"=>"2"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mCourse Load (0.3ms)[0m  SELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1
  [1m[36mLti2Tc::Link Load (0.3ms)[0m  [1mSELECT `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`course_id` = 2[0m
  [1m[35mGradeItem Load (0.4ms)[0m  SELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 301 LIMIT 1
  [1m[36mGradeResult Load (0.4ms)[0m  [1mSELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2395 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1[0m
  [1m[35mGradeItem Load (0.7ms)[0m  SELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 304 LIMIT 1
  [1m[36mGradeResult Load (0.9ms)[0m  [1mSELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2404 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.9ms)[0m  SELECT `lti2_tc_resources`.* FROM `lti2_tc_resources`   ORDER BY resource_name
  [1m[36mGradeItem Load (0.2ms)[0m  [1mSELECT `grade_items`.* FROM `grade_items`   ORDER BY label[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2389 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2392 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2395 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2398 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.1ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2401 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2404 LIMIT 1[0m
  Rendered admin/course_page/_course_page.html.haml (6.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (45.6ms)
Completed 200 OK in 48ms (Views: 41.1ms | ActiveRecord: 5.4ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-23 16:51:02 -0700
  [1m[36mLti2Tc::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-04-24 11:24:18 -0700
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[35mAdminUser Load (0.5ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (6.8ms)[0m  INSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_profile_guid`, `updated_at`) VALUES ('2015-04-24 18:24:18', '0b8e9c80-ccdd-0132-5371-20c9d07c6451', 'dee5ab21c73f52311ce8e4719713d534', 'prepared', '0b8f8460-ccdd-0132-5371-20c9d07c6451', '2015-04-24 18:24:18')
  [1m[36m (13.8ms)[0m  [1mCOMMIT[0m
  Rendered admin/register_new_tool/_register_new_tool.html.haml (5.2ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (155.7ms)
Completed 200 OK in 210ms (Views: 145.8ms | ActiveRecord: 43.0ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-04-24 11:24:20 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  Rendered admin/dashboard/_dashboard.html.haml (6.2ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (40.0ms)
Completed 200 OK in 42ms (Views: 40.7ms | ActiveRecord: 0.3ms)
Started GET "/admin/admin_actions" for 127.0.0.1 at 2015-04-24 11:24:22 -0700
Processing by Admin::AdminActionsController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  Rendered admin/admin_actions/_admin_actions.html.haml (3.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (32.4ms)
Completed 200 OK in 35ms (Views: 33.2ms | ActiveRecord: 0.3ms)
Started GET "/admin/tool_actions" for 127.0.0.1 at 2015-04-24 11:24:23 -0700
Processing by Admin::ToolActionsController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.4ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (5.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (52.5ms)
Completed 200 OK in 55ms (Views: 50.9ms | ActiveRecord: 2.4ms)
Started GET "/admin/tool_actions?method=reregister&tool_id=141" for 127.0.0.1 at 2015-04-24 11:24:25 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"method"=>"reregister", "tool_id"=>"141"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.5ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 141 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 141 LIMIT 1  [["id", "141"]]
  [1m[36mLti2Tc::DeploymentRequest Load (0.9ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = '74c33940-cb7b-0132-536b-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '74c340c0-cb7b-0132-536b-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  Rendered inline template (0.5ms)
  [1m[36mLti2Tc::Tool Load (0.4ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (0.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (75.5ms)
Completed 200 OK in 77ms (Views: 50.4ms | ActiveRecord: 25.7ms)
Started GET "/lti2_tc/tool_consumer_profiles/74c340c0-cb7b-0132-536b-20c9d07c6451" for 127.0.0.1 at 2015-04-24 11:24:26 -0700
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"74c340c0-cb7b-0132-536b-20c9d07c6451"}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.5ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '74c340c0-cb7b-0132-536b-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/74c340c0-cb7b-0132-536b-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/74c340c0-cb7b-0132-536b-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "74c340c0-cb7b-0132-536b-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 5ms (Views: 1.4ms | ActiveRecord: 0.5ms)
Started POST "/lti2_tc/tools" for 127.0.0.1 at 2015-04-24 11:24:29 -0700
Processing by Lti2Tc::ToolsController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"74c33940-cb7b-0132-536b-20c9d07c6451", :oauth_nonce=>"6594959921860", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1429899869", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"cKPRScVRncY9xFdnoAefArErA9E=", :oauth_signature=>"rXrSh2yIAadQ6eRtoZvF2f3TyqQ="}
  [1m[36mLti2Tc::ToolConsumerProfile Load (0.4ms)[0m  [1mSELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '74c340c0-cb7b-0132-536b-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1[0m
ToolProxy as received: 
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/74c340c0-cb7b-0132-536b-20c9d07c6451#"
    }
  ],
  "@type": "ToolProxy",
  "@id": "ToolProxyProposal_at_2015-04-24T18:24:29Z",
  "lti_version": "LTI-2p0",
  "tool_proxy_guid": "74c33940-cb7b-0132-536b-20c9d07c6451",
  "tool_consumer_profile": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/74c340c0-cb7b-0132-536b-20c9d07c6451",
  "tool_profile": {
    "base_url_choice": [
      {
        "default_base_url": "http://rails.kinexis.com:5000",
        "selector": {
          "applies_to": [
            "IconEndpoint",
            "MessageHandler"
          ]
        }
      }
    ],
    "lti_version": "LTI-2p0",
    "message": [
      {
        "message_type": [
          "ToolProxyRegistrationRequest",
          "ToolProxyReregistrationRequest"
        ],
        "parameter": [
          {
            "name": "tc_profile_url",
            "variable": "ToolConsumerProfile.url"
          }
        ],
        "path": "http://rails.kinexis.com:5000/lti2_tp/reregistrations"
      }
    ],
    "product_instance": {
      "guid": "fd75124a-140e-470f-944c-114d2d92bb40",
      "product_info": {
        "description": {
          "default_value": "Fabericious reflowable ePub3 Textbook",
          "key": "tool.description"
        },
        "product_family": {
          "code": "assessment-tool",
          "vendor": {
            "code": "fabericious.org",
            "contact": {
              "email": "info@fabericious.com"
            },
            "description": {
              "default_value": "Fabericious is a leading provider of interactive tools for education",
              "key": "tool.vendor.description"
            },
            "vendor_name": {
              "default_value": "Fab",
              "key": "tool.vendor.name"
            },
            "timestamp": "2012-04-05T09:08:16-04:00",
            "website": "{http://rails.kinexis.com:5000}"
          }
        },
        "product_name": {
          "default_value": "LTI2 BookTools",
          "key": "tool.name"
        },
        "product_version": "10.3",
        "technical_description": {
          "default_value": "Support provided for all LTI 1 extensions as well as LTI 2",
          "key": "tool.technical"
        }
      },
      "service_provider": {
        "description": {
          "default_value": "Provider of high performance managed hosting environments",
          "key": "service_provider.description"
        },
        "guid": "18e7ea50-3d6d-4f6b-aff2-ed3ab577716c",
        "service_provider_name": {
          "default_value": "Amazon Cloud",
          "key": "service_provider.name"
        },
        "support": {
          "email": "support@ec2.fabericious.com"
        },
        "timestamp": "2012-04-05T09:08:16-04:00"
      },
      "support": {
        "email": "helpdesk@fabericious.com"
      }
    },
    "resource_handler": [
      {
        "description": {
          "default_value": "Settings service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "tool_proxy_custom_url",
                "variable": "ToolProxy.custom.url"
              },
              {
                "name": "tool_proxy_binding_custom_url",
                "variable": "ToolProxyBinding.custom.url"
              },
              {
                "name": "lti_link_custom_url",
                "variable": "LtiLink.custom.url"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "ToolProxy.custom.url",
              "ToolProxyBinding.custom.url",
              "LtiLink.custom.url"
            ],
            "path": "/settings"
          }
        ],
        "resource_name": {
          "default_value": "Settings",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "setting"
        }
      },
      {
        "description": {
          "default_value": "Echo service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "fixed": "Narcissus",
                "name": "referrer"
              },
              {
                "fixed": "3.14159",
                "name": "pi"
              },
              {
                "name": "user_primary_email",
                "variable": "Person.email.primary"
              },
              {
                "name": "discipline",
                "variable": "CourseOffering.label"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary"
            ],
            "path": "/echoes"
          }
        ],
        "resource_name": {
          "default_value": "Echo",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "echo"
        }
      },
      {
        "description": {
          "default_value": "Interactive resource",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "vbid"
              },
              {
                "name": "result_uri",
                "variable": "Result.uri"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "Result.autocreate"
            ],
            "path": "/iresources"
          }
        ],
        "resource_name": {
          "default_value": "InteractiveResource",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "iresource"
        }
      }
    ],
    "service_offered": [
      {
        "@id": "http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection",
        "@type": "RestService",
        "action": [
          "PUT"
        ],
        "endpoint": "http://rails.kinexis.com:5000/lti2_tp/tool_proxies",
        "format": [
          ""
        ]
      }
    ]
  },
  "security_contract": {
    "shared_secret": "3f1890851342b8e0204a66cfb4400fe4",
    "tool_service": [
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.collection",
        "action": [
          "POST"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:Result.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:LtiLinkSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxyBindingSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxySettings",
        "action": [
          "GET",
          "PUT"
        ]
      }
    ]
  }
}
  [1m[35mLti2Tc::DeploymentRequest Load (0.3ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = '74c33940-cb7b-0132-536b-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `confirm_url` = 'http://rails.kinexis.com:5000/lti2_tp/tool_proxies/74c33940-cb7b-0132-536b-20c9d07c6451?correlation=119c4880-ccdd-0132-5372-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/74c340c0-cb7b-0132-536b-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-04-24T18:24:29Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"74c33940-cb7b-0132-536b-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/74c340c0-cb7b-0132-536b-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"3f1890851342b8e0204a66cfb4400fe4\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-04-24 18:24:29' WHERE `lti2_tc_deployment_requests`.`id` = 275
  [1m[36m (12.4ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tc::Tool Load (0.6ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = '74c33940-cb7b-0132-536b-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tc_tools` SET `status` = 'reregistering', `updated_at` = '2015-04-24 18:24:29' WHERE `lti2_tc_tools`.`id` = 141
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  Rendered text template (0.0ms)
Completed 201 Created in 28ms (Views: 2.2ms | ActiveRecord: 15.5ms)
Started GET "/admin/tool_actions?status=success" for 127.0.0.1 at 2015-04-24 11:24:29 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"status"=>"success"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.6ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (0.7ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (36.4ms)
Completed 200 OK in 40ms (Views: 36.9ms | ActiveRecord: 0.9ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-24 11:24:29 -0700
Started GET "/lti2_tc/reregister_continue?tool_id=141" for 127.0.0.1 at 2015-04-24 11:24:31 -0700
Processing by Lti2Tc::ToolsController#reregister_continue as HTML
  Parameters: {"tool_id"=>"141"}
  [1m[35mLti2Tc::Tool Load (0.4ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 141 LIMIT 1
  [1m[36mLti2Tc::DeploymentRequest Load (0.2ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = '74c33940-cb7b-0132-536b-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `lti2_tc_tools` SET `secret` = '3f1890851342b8e0204a66cfb4400fe4', `status` = 'reregistered', `tool_proxy` = '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/74c340c0-cb7b-0132-536b-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"http://rails.kinexis.com:4000/tools/74c33940-cb7b-0132-536b-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"74c33940-cb7b-0132-536b-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/74c340c0-cb7b-0132-536b-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"3f1890851342b8e0204a66cfb4400fe4\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', `updated_at` = '2015-04-24 18:24:31' WHERE `lti2_tc_tools`.`id` = 141[0m
  [1m[35m (12.2ms)[0m  COMMIT
Redirected to http://rails.kinexis.com:4000/admin/tool_actions
Completed 302 Found in 102ms (ActiveRecord: 13.9ms)
Started GET "/admin/tool_actions" for 127.0.0.1 at 2015-04-24 11:24:31 -0700
Processing by Admin::ToolActionsController#index as HTML
  [1m[36mAdminUser Load (0.5ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.4ms)[0m  SELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name
  Rendered admin/tool_actions/_tool_actions.html.haml (0.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (38.2ms)
Completed 200 OK in 43ms (Views: 38.9ms | ActiveRecord: 0.9ms)
  [1m[36mLti2Tc::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-04-24 11:49:41 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mAdminUser Load (0.4ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  Rendered admin/dashboard/_dashboard.html.haml (10.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (116.6ms)
Completed 200 OK in 169ms (Views: 128.7ms | ActiveRecord: 20.1ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-24 11:49:41 -0700
Started GET "/admin/admin_actions" for 127.0.0.1 at 2015-04-24 11:49:43 -0700
Processing by Admin::AdminActionsController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  Rendered admin/admin_actions/_admin_actions.html.haml (3.6ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (52.6ms)
Completed 200 OK in 55ms (Views: 53.4ms | ActiveRecord: 0.3ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-24 11:49:43 -0700
Started GET "/admin/tool_actions" for 127.0.0.1 at 2015-04-24 11:49:46 -0700
Processing by Admin::ToolActionsController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.4ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (5.7ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (55.2ms)
Completed 200 OK in 57ms (Views: 52.7ms | ActiveRecord: 3.4ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-24 11:49:46 -0700
Started GET "/admin/tool_actions?method=reregister&tool_id=143" for 127.0.0.1 at 2015-04-24 11:49:50 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"method"=>"reregister", "tool_id"=>"143"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.3ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 143 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 143 LIMIT 1  [["id", "143"]]
  [1m[36mLti2Tc::DeploymentRequest Load (0.3ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '13efb090-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (6.4ms)[0m  UPDATE `lti2_tc_tool_consumer_profiles` SET `tc_profile` = '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/{tc_profile_guid}#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"13efb090-ccde-0132-5374-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', `updated_at` = '2015-04-24 18:49:50' WHERE `lti2_tc_tool_consumer_profiles`.`id` = 247
  [1m[36m (12.8ms)[0m  [1mCOMMIT[0m
  Rendered inline template (0.5ms)
  [1m[35mLti2Tc::Tool Load (0.4ms)[0m  SELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name
  Rendered admin/tool_actions/_tool_actions.html.haml (0.6ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (103.0ms)
Completed 200 OK in 105ms (Views: 60.4ms | ActiveRecord: 43.3ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-24 11:49:50 -0700
Started GET "/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451" for 127.0.0.1 at 2015-04-24 11:49:50 -0700
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"13efb090-ccde-0132-5374-20c9d07c6451"}
  [1m[36mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  [1mSELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '13efb090-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1[0m
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "13efb090-ccde-0132-5374-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.3ms)
Started POST "/lti2_tc/tools" for 127.0.0.1 at 2015-04-24 11:49:53 -0700
Processing by Lti2Tc::ToolsController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"13efae70-ccde-0132-5374-20c9d07c6451", :oauth_nonce=>"6922710865069", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1429901393", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"TpUlabitNpCgAi1HtBIPmFa/RiA=", :oauth_signature=>"4/RHjd+29PdNfz4Oz5BFJTO0h9s="}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.4ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '13efb090-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
ToolProxy as received: 
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#"
    }
  ],
  "@type": "ToolProxy",
  "@id": "ToolProxyProposal_at_2015-04-24T18:49:53Z",
  "lti_version": "LTI-2p0",
  "tool_proxy_guid": "13efae70-ccde-0132-5374-20c9d07c6451",
  "tool_consumer_profile": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451",
  "tool_profile": {
    "base_url_choice": [
      {
        "default_base_url": "http://rails.kinexis.com:5000",
        "selector": {
          "applies_to": [
            "IconEndpoint",
            "MessageHandler"
          ]
        }
      }
    ],
    "lti_version": "LTI-2p0",
    "message": [
      {
        "message_type": [
          "ToolProxyRegistrationRequest",
          "ToolProxyReregistrationRequest"
        ],
        "parameter": [
          {
            "name": "tc_profile_url",
            "variable": "ToolConsumerProfile.url"
          }
        ],
        "path": "http://rails.kinexis.com:5000/lti2_tp/reregistrations"
      }
    ],
    "product_instance": {
      "guid": "fd75124a-140e-470f-944c-114d2d92bb40",
      "product_info": {
        "description": {
          "default_value": "Fabericious reflowable ePub3 Textbook",
          "key": "tool.description"
        },
        "product_family": {
          "code": "assessment-tool",
          "vendor": {
            "code": "fabericious.org",
            "contact": {
              "email": "info@fabericious.com"
            },
            "description": {
              "default_value": "Fabericious is a leading provider of interactive tools for education",
              "key": "tool.vendor.description"
            },
            "vendor_name": {
              "default_value": "Fab",
              "key": "tool.vendor.name"
            },
            "timestamp": "2012-04-05T09:08:16-04:00",
            "website": "{http://rails.kinexis.com:5000}"
          }
        },
        "product_name": {
          "default_value": "LTI2 BookTools",
          "key": "tool.name"
        },
        "product_version": "10.3",
        "technical_description": {
          "default_value": "Support provided for all LTI 1 extensions as well as LTI 2",
          "key": "tool.technical"
        }
      },
      "service_provider": {
        "description": {
          "default_value": "Provider of high performance managed hosting environments",
          "key": "service_provider.description"
        },
        "guid": "18e7ea50-3d6d-4f6b-aff2-ed3ab577716c",
        "service_provider_name": {
          "default_value": "Amazon Cloud",
          "key": "service_provider.name"
        },
        "support": {
          "email": "support@ec2.fabericious.com"
        },
        "timestamp": "2012-04-05T09:08:16-04:00"
      },
      "support": {
        "email": "helpdesk@fabericious.com"
      }
    },
    "resource_handler": [
      {
        "description": {
          "default_value": "Settings service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "tool_proxy_custom_url",
                "variable": "ToolProxy.custom.url"
              },
              {
                "name": "tool_proxy_binding_custom_url",
                "variable": "ToolProxyBinding.custom.url"
              },
              {
                "name": "lti_link_custom_url",
                "variable": "LtiLink.custom.url"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "ToolProxy.custom.url",
              "ToolProxyBinding.custom.url",
              "LtiLink.custom.url"
            ],
            "path": "/settings"
          }
        ],
        "resource_name": {
          "default_value": "Settings",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "setting"
        }
      },
      {
        "description": {
          "default_value": "Echo service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "fixed": "Narcissus",
                "name": "referrer"
              },
              {
                "fixed": "3.14159",
                "name": "pi"
              },
              {
                "name": "user_primary_email",
                "variable": "Person.email.primary"
              },
              {
                "name": "discipline",
                "variable": "CourseOffering.label"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary"
            ],
            "path": "/echoes"
          }
        ],
        "resource_name": {
          "default_value": "Echo",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "echo"
        }
      },
      {
        "description": {
          "default_value": "Interactive resource",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "vbid"
              },
              {
                "name": "result_uri",
                "variable": "Result.uri"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "Result.autocreate"
            ],
            "path": "/iresources"
          }
        ],
        "resource_name": {
          "default_value": "InteractiveResource",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "iresource"
        }
      }
    ],
    "service_offered": [
      {
        "@id": "http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection",
        "@type": "RestService",
        "action": [
          "PUT"
        ],
        "endpoint": "http://rails.kinexis.com:5000/lti2_tp/tool_proxies",
        "format": [
          ""
        ]
      }
    ]
  },
  "security_contract": {
    "shared_secret": "42a06fd979b14dfafa6969fb9b90b299",
    "tool_service": [
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.collection",
        "action": [
          "POST"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:Result.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:LtiLinkSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxyBindingSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxySettings",
        "action": [
          "GET",
          "PUT"
        ]
      }
    ]
  }
}
  [1m[36mLti2Tc::Tool Load (0.4ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::DeploymentRequest Load (0.4ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`tool_proxy_guid` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1
Mysql2::Error: Unknown column 'lti2_tc_deployment_requests.tool_proxy_guid' in 'where clause': SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`tool_proxy_guid` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1
Completed 500 Internal Server Error in 5ms
Started GET "/admin/tool_actions?lti_errorlog=500-Internal+Server+Error+&lti_errormsg=500-Internal+Server+Error+&status=failure" for 127.0.0.1 at 2015-04-24 11:49:53 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"lti_errorlog"=>"500-Internal Server Error ", "lti_errormsg"=>"500-Internal Server Error ", "status"=>"failure"}
  [1m[36mAdminUser Load (0.5ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.9ms)[0m  SELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name
  Rendered admin/tool_actions/_tool_actions.html.haml (0.8ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (48.3ms)
Completed 200 OK in 52ms (Views: 48.1ms | ActiveRecord: 1.3ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-24 11:49:53 -0700
  [1m[36mLti2Tc::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
Started GET "/admin/tool_actions?method=reregister&tool_id=143" for 127.0.0.1 at 2015-04-24 11:52:44 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"method"=>"reregister", "tool_id"=>"143"}
  [1m[35mAdminUser Load (0.4ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.3ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 143 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 143 LIMIT 1  [["id", "143"]]
  [1m[36mLti2Tc::DeploymentRequest Load (0.3ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '13efb090-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  Rendered inline template (2.2ms)
  [1m[36mLti2Tc::Tool Load (0.8ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (4.7ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (180.2ms)
Completed 200 OK in 236ms (Views: 164.0ms | ActiveRecord: 46.8ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-24 11:52:45 -0700
Started GET "/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451" for 127.0.0.1 at 2015-04-24 11:52:45 -0700
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"13efb090-ccde-0132-5374-20c9d07c6451"}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '13efb090-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "13efb090-ccde-0132-5374-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.3ms)
Started POST "/lti2_tc/tools" for 127.0.0.1 at 2015-04-24 11:52:47 -0700
Processing by Lti2Tc::ToolsController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"13efae70-ccde-0132-5374-20c9d07c6451", :oauth_nonce=>"8383575237590", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1429901567", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"0bKezaXUCIro+TiHamBd7L4BoH0=", :oauth_signature=>"0JK0EByB6QHcyetRVlbH5EHG1xU="}
  [1m[36mLti2Tc::ToolConsumerProfile Load (0.4ms)[0m  [1mSELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '13efb090-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1[0m
ToolProxy as received: 
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#"
    }
  ],
  "@type": "ToolProxy",
  "@id": "ToolProxyProposal_at_2015-04-24T18:52:47Z",
  "lti_version": "LTI-2p0",
  "tool_proxy_guid": "13efae70-ccde-0132-5374-20c9d07c6451",
  "tool_consumer_profile": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451",
  "tool_profile": {
    "base_url_choice": [
      {
        "default_base_url": "http://rails.kinexis.com:5000",
        "selector": {
          "applies_to": [
            "IconEndpoint",
            "MessageHandler"
          ]
        }
      }
    ],
    "lti_version": "LTI-2p0",
    "message": [
      {
        "message_type": [
          "ToolProxyRegistrationRequest",
          "ToolProxyReregistrationRequest"
        ],
        "parameter": [
          {
            "name": "tc_profile_url",
            "variable": "ToolConsumerProfile.url"
          }
        ],
        "path": "http://rails.kinexis.com:5000/lti2_tp/reregistrations"
      }
    ],
    "product_instance": {
      "guid": "fd75124a-140e-470f-944c-114d2d92bb40",
      "product_info": {
        "description": {
          "default_value": "Fabericious reflowable ePub3 Textbook",
          "key": "tool.description"
        },
        "product_family": {
          "code": "assessment-tool",
          "vendor": {
            "code": "fabericious.org",
            "contact": {
              "email": "info@fabericious.com"
            },
            "description": {
              "default_value": "Fabericious is a leading provider of interactive tools for education",
              "key": "tool.vendor.description"
            },
            "vendor_name": {
              "default_value": "Fab",
              "key": "tool.vendor.name"
            },
            "timestamp": "2012-04-05T09:08:16-04:00",
            "website": "{http://rails.kinexis.com:5000}"
          }
        },
        "product_name": {
          "default_value": "LTI2 BookTools",
          "key": "tool.name"
        },
        "product_version": "10.3",
        "technical_description": {
          "default_value": "Support provided for all LTI 1 extensions as well as LTI 2",
          "key": "tool.technical"
        }
      },
      "service_provider": {
        "description": {
          "default_value": "Provider of high performance managed hosting environments",
          "key": "service_provider.description"
        },
        "guid": "18e7ea50-3d6d-4f6b-aff2-ed3ab577716c",
        "service_provider_name": {
          "default_value": "Amazon Cloud",
          "key": "service_provider.name"
        },
        "support": {
          "email": "support@ec2.fabericious.com"
        },
        "timestamp": "2012-04-05T09:08:16-04:00"
      },
      "support": {
        "email": "helpdesk@fabericious.com"
      }
    },
    "resource_handler": [
      {
        "description": {
          "default_value": "Settings service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "tool_proxy_custom_url",
                "variable": "ToolProxy.custom.url"
              },
              {
                "name": "tool_proxy_binding_custom_url",
                "variable": "ToolProxyBinding.custom.url"
              },
              {
                "name": "lti_link_custom_url",
                "variable": "LtiLink.custom.url"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "ToolProxy.custom.url",
              "ToolProxyBinding.custom.url",
              "LtiLink.custom.url"
            ],
            "path": "/settings"
          }
        ],
        "resource_name": {
          "default_value": "Settings",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "setting"
        }
      },
      {
        "description": {
          "default_value": "Echo service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "fixed": "Narcissus",
                "name": "referrer"
              },
              {
                "fixed": "3.14159",
                "name": "pi"
              },
              {
                "name": "user_primary_email",
                "variable": "Person.email.primary"
              },
              {
                "name": "discipline",
                "variable": "CourseOffering.label"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary"
            ],
            "path": "/echoes"
          }
        ],
        "resource_name": {
          "default_value": "Echo",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "echo"
        }
      },
      {
        "description": {
          "default_value": "Interactive resource",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "vbid"
              },
              {
                "name": "result_uri",
                "variable": "Result.uri"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "Result.autocreate"
            ],
            "path": "/iresources"
          }
        ],
        "resource_name": {
          "default_value": "InteractiveResource",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "iresource"
        }
      }
    ],
    "service_offered": [
      {
        "@id": "http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection",
        "@type": "RestService",
        "action": [
          "PUT"
        ],
        "endpoint": "http://rails.kinexis.com:5000/lti2_tp/tool_proxies",
        "format": [
          ""
        ]
      }
    ]
  },
  "security_contract": {
    "shared_secret": "01ddf6b28aa10f2207e2cd64a08972bf",
    "tool_service": [
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.collection",
        "action": [
          "POST"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:Result.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:LtiLinkSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxyBindingSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxySettings",
        "action": [
          "GET",
          "PUT"
        ]
      }
    ]
  }
}
  [1m[35mLti2Tc::DeploymentRequest Load (0.4ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `confirm_url` = 'http://rails.kinexis.com:5000/lti2_tp/tool_proxies/13efae70-ccde-0132-5374-20c9d07c6451?correlation=06284a90-cce1-0132-5376-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-04-24T18:52:47Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"13efae70-ccde-0132-5374-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"01ddf6b28aa10f2207e2cd64a08972bf\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-04-24 18:52:47' WHERE `lti2_tc_deployment_requests`.`id` = 283
  [1m[36m (11.2ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tc::Tool Load (0.8ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tc_tools` SET `status` = 'reregistering', `updated_at` = '2015-04-24 18:52:47' WHERE `lti2_tc_tools`.`id` = 143
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  Rendered text template (0.0ms)
Completed 201 Created in 29ms (Views: 2.2ms | ActiveRecord: 14.5ms)
Started GET "/admin/tool_actions?status=success" for 127.0.0.1 at 2015-04-24 11:52:47 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"status"=>"success"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.5ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (0.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (28.9ms)
Completed 200 OK in 31ms (Views: 28.9ms | ActiveRecord: 0.8ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-24 11:52:48 -0700
Started GET "/lti2_tc/reregister_continue?tool_id=143" for 127.0.0.1 at 2015-04-24 11:52:49 -0700
Processing by Lti2Tc::ToolsController#reregister_continue as HTML
  Parameters: {"tool_id"=>"143"}
  [1m[35mLti2Tc::Tool Load (0.4ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 143 LIMIT 1
  [1m[36mLti2Tc::DeploymentRequest Load (0.2ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `lti2_tc_tools` SET `secret` = '01ddf6b28aa10f2207e2cd64a08972bf', `status` = 'reregistered', `tool_proxy` = '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"http://rails.kinexis.com:4000/tools/13efae70-ccde-0132-5374-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"13efae70-ccde-0132-5374-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"01ddf6b28aa10f2207e2cd64a08972bf\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', `updated_at` = '2015-04-24 18:52:49' WHERE `lti2_tc_tools`.`id` = 143[0m
  [1m[35m (12.0ms)[0m  COMMIT
Redirected to http://rails.kinexis.com:4000/admin/tool_actions
Completed 302 Found in 56ms (ActiveRecord: 13.3ms)
Started GET "/admin/tool_actions" for 127.0.0.1 at 2015-04-24 11:52:49 -0700
Processing by Admin::ToolActionsController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (4.3ms)[0m  SELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name
  Rendered admin/tool_actions/_tool_actions.html.haml (0.6ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (36.6ms)
Completed 200 OK in 40ms (Views: 32.9ms | ActiveRecord: 4.7ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-24 11:52:49 -0700
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-04-24 11:52:52 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  Rendered admin/dashboard/_dashboard.html.haml (2.2ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (31.2ms)
Completed 200 OK in 33ms (Views: 31.8ms | ActiveRecord: 0.3ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-24 11:52:53 -0700
Started GET "/admin/course_actions" for 127.0.0.1 at 2015-04-24 11:52:54 -0700
Processing by Admin::CourseActionsController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mCourse Load (0.7ms)[0m  [1mSELECT `courses`.* FROM `courses`   ORDER BY course_label[0m
  Rendered admin/course_actions/_course_actions.html.haml (2.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (38.2ms)
Completed 200 OK in 40ms (Views: 34.6ms | ActiveRecord: 4.5ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-24 11:52:54 -0700
Started GET "/admin/course_page?method=show&course_id=2" for 127.0.0.1 at 2015-04-24 11:52:56 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"show", "course_id"=>"2"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mCourse Load (0.9ms)[0m  [1mSELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1[0m
  [1m[35mLti2Tc::Link Load (0.2ms)[0m  SELECT `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`course_id` = 2
  [1m[36mGradeItem Load (0.3ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 301 LIMIT 1[0m
  [1m[35mGradeResult Load (0.3ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2395 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mGradeItem Load (0.2ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 304 LIMIT 1[0m
  [1m[35mGradeResult Load (0.2ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2404 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mGradeItem Load (0.2ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 307 LIMIT 1[0m
  [1m[35mGradeResult Load (0.3ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2413 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mGradeItem Load (0.2ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 310 LIMIT 1[0m
  [1m[35mGradeResult Load (0.2ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2422 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT `lti2_tc_resources`.* FROM `lti2_tc_resources`   ORDER BY resource_name[0m
  [1m[35mGradeItem Load (0.4ms)[0m  SELECT `grade_items`.* FROM `grade_items`   ORDER BY label
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2389 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.3ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2392 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.4ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2395 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.6ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2398 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2401 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.3ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2404 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.5ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2407 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.7ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2410 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2413 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.1ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2416 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.1ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2419 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.1ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2422 LIMIT 1
  Rendered admin/course_page/_course_page.html.haml (48.2ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (125.1ms)
Completed 200 OK in 128ms (Views: 111.0ms | ActiveRecord: 15.1ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-24 11:52:56 -0700
Started GET "/admin/course_page?method=link&link_id=2419" for 127.0.0.1 at 2015-04-24 11:52:59 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"link", "link_id"=>"2419"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Link Load (0.3ms)[0m  SELECT  `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`id` = 2419 LIMIT 1
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1[0m
  [1m[35mEnrollment Load (0.4ms)[0m  SELECT  `enrollments`.* FROM `enrollments`  WHERE `enrollments`.`admin_user_id` = 2 AND `enrollments`.`course_id` = 2  ORDER BY `enrollments`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Resource Load (1.0ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2419 LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.3ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 143 LIMIT 1
  [1m[36mLti2Tc::ToolSetting Load (0.3ms)[0m  [1mSELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 143 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Tool'[0m
  [1m[35mLti2Tc::ToolSetting Load (0.3ms)[0m  SELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 143 AND `lti2_tc_tool_settings`.`scopeable_id` = 2 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Context'
  [1m[36mLti2Tc::ToolSetting Load (0.3ms)[0m  [1mSELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 143 AND `lti2_tc_tool_settings`.`scopeable_id` = 2419 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Ltilink'[0m
  Rendered inline template (0.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (87.8ms)
Completed 200 OK in 90ms (Views: 60.0ms | ActiveRecord: 28.6ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-24 11:52:59 -0700
Started GET "/admin/course_page?method=show&course_id=2" for 127.0.0.1 at 2015-04-24 11:53:01 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"show", "course_id"=>"2"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1[0m
  [1m[35mLti2Tc::Link Load (0.3ms)[0m  SELECT `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`course_id` = 2
  [1m[36mGradeItem Load (0.3ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 301 LIMIT 1[0m
  [1m[35mGradeResult Load (0.5ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2395 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mGradeItem Load (0.4ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 304 LIMIT 1[0m
  [1m[35mGradeResult Load (0.4ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2404 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mGradeItem Load (0.5ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 307 LIMIT 1[0m
  [1m[35mGradeResult Load (0.7ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2413 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mGradeItem Load (0.4ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 310 LIMIT 1[0m
  [1m[35mGradeResult Load (0.7ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2422 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT `lti2_tc_resources`.* FROM `lti2_tc_resources`   ORDER BY resource_name[0m
  [1m[35mGradeItem Load (0.3ms)[0m  SELECT `grade_items`.* FROM `grade_items`   ORDER BY label
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2389 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.4ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2392 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2395 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.3ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2398 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.6ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2401 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.9ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2404 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2407 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2410 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2413 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2416 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2419 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.1ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2422 LIMIT 1
  Rendered admin/course_page/_course_page.html.haml (18.6ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (62.0ms)
Completed 200 OK in 64ms (Views: 53.3ms | ActiveRecord: 9.5ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-24 11:53:01 -0700
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-04-24 12:40:20 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdminUser Load (1.6ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  Rendered admin/dashboard/_dashboard.html.haml (3.2ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (80.0ms)
Completed 200 OK in 109ms (Views: 86.4ms | ActiveRecord: 1.6ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-24 12:40:20 -0700
Started GET "/admin/admin_actions" for 127.0.0.1 at 2015-04-24 12:40:23 -0700
Processing by Admin::AdminActionsController#index as HTML
  [1m[35mAdminUser Load (0.6ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  Rendered admin/admin_actions/_admin_actions.html.haml (11.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (69.7ms)
Completed 200 OK in 75ms (Views: 71.7ms | ActiveRecord: 0.6ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-24 12:40:23 -0700
Started GET "/admin/tool_actions" for 127.0.0.1 at 2015-04-24 12:40:24 -0700
Processing by Admin::ToolActionsController#index as HTML
  [1m[36mAdminUser Load (0.5ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (1.0ms)[0m  SELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name
  Rendered admin/tool_actions/_tool_actions.html.haml (0.7ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (75.9ms)
Completed 200 OK in 80ms (Views: 76.0ms | ActiveRecord: 1.5ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-24 12:40:24 -0700
Started GET "/admin/tool_actions?method=reregister&tool_id=143" for 127.0.0.1 at 2015-04-24 12:40:26 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"method"=>"reregister", "tool_id"=>"143"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.3ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 143 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 143 LIMIT 1[0m  [["id", "143"]]
  [1m[35mLti2Tc::DeploymentRequest Load (0.4ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mLti2Tc::ToolConsumerProfile Load (0.5ms)[0m  [1mSELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '13efb090-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (2.1ms)[0m  [1mUPDATE `lti2_tc_tool_consumer_profiles` SET `tc_profile` = '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"13efb090-ccde-0132-5374-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', `updated_at` = '2015-04-24 19:40:26' WHERE `lti2_tc_tool_consumer_profiles`.`id` = 247[0m
  [1m[35m (1.9ms)[0m  COMMIT
  Rendered inline template (0.9ms)
  [1m[36mLti2Tc::Tool Load (0.4ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (0.6ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (63.1ms)
Completed 200 OK in 65ms (Views: 57.2ms | ActiveRecord: 6.6ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-24 12:40:26 -0700
Started GET "/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451" for 127.0.0.1 at 2015-04-24 12:40:26 -0700
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"13efb090-ccde-0132-5374-20c9d07c6451"}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.8ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '13efb090-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "13efb090-ccde-0132-5374-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 7ms (Views: 2.1ms | ActiveRecord: 0.8ms)
Started POST "/lti2_tc/tools" for 127.0.0.1 at 2015-04-24 12:40:28 -0700
Processing by Lti2Tc::ToolsController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"13efae70-ccde-0132-5374-20c9d07c6451", :oauth_nonce=>"831557323605", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1429904428", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"iKrx9kIrpJdBXUl8UEuIcAnDOIU=", :oauth_signature=>"RfoKLKy3dKr56BlE95eB6yx9I74="}
  [1m[36mLti2Tc::ToolConsumerProfile Load (1.4ms)[0m  [1mSELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '13efb090-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1[0m
ToolProxy as received: 
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#"
    }
  ],
  "@type": "ToolProxy",
  "@id": "ToolProxyProposal_at_2015-04-24T19:40:28Z",
  "lti_version": "LTI-2p0",
  "tool_proxy_guid": "13efae70-ccde-0132-5374-20c9d07c6451",
  "tool_consumer_profile": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451",
  "tool_profile": {
    "base_url_choice": [
      {
        "default_base_url": "http://rails.kinexis.com:5000",
        "selector": {
          "applies_to": [
            "IconEndpoint",
            "MessageHandler"
          ]
        }
      }
    ],
    "lti_version": "LTI-2p0",
    "message": [
      {
        "message_type": [
          "ToolProxyRegistrationRequest",
          "ToolProxyReregistrationRequest"
        ],
        "parameter": [
          {
            "name": "tc_profile_url",
            "variable": "ToolConsumerProfile.url"
          }
        ],
        "path": "http://rails.kinexis.com:5000/lti2_tp/reregistrations"
      }
    ],
    "product_instance": {
      "guid": "fd75124a-140e-470f-944c-114d2d92bb40",
      "product_info": {
        "description": {
          "default_value": "Fabericious reflowable ePub3 Textbook",
          "key": "tool.description"
        },
        "product_family": {
          "code": "assessment-tool",
          "vendor": {
            "code": "fabericious.org",
            "contact": {
              "email": "info@fabericious.com"
            },
            "description": {
              "default_value": "Fabericious is a leading provider of interactive tools for education",
              "key": "tool.vendor.description"
            },
            "vendor_name": {
              "default_value": "Fab",
              "key": "tool.vendor.name"
            },
            "timestamp": "2012-04-05T09:08:16-04:00",
            "website": "{http://rails.kinexis.com:5000}"
          }
        },
        "product_name": {
          "default_value": "LTI2 BookTools",
          "key": "tool.name"
        },
        "product_version": "10.3",
        "technical_description": {
          "default_value": "Support provided for all LTI 1 extensions as well as LTI 2",
          "key": "tool.technical"
        }
      },
      "service_provider": {
        "description": {
          "default_value": "Provider of high performance managed hosting environments",
          "key": "service_provider.description"
        },
        "guid": "18e7ea50-3d6d-4f6b-aff2-ed3ab577716c",
        "service_provider_name": {
          "default_value": "Amazon Cloud",
          "key": "service_provider.name"
        },
        "support": {
          "email": "support@ec2.fabericious.com"
        },
        "timestamp": "2012-04-05T09:08:16-04:00"
      },
      "support": {
        "email": "helpdesk@fabericious.com"
      }
    },
    "resource_handler": [
      {
        "description": {
          "default_value": "Settings service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "tool_proxy_custom_url",
                "variable": "ToolProxy.custom.url"
              },
              {
                "name": "tool_proxy_binding_custom_url",
                "variable": "ToolProxyBinding.custom.url"
              },
              {
                "name": "lti_link_custom_url",
                "variable": "LtiLink.custom.url"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "ToolProxy.custom.url",
              "ToolProxyBinding.custom.url",
              "LtiLink.custom.url"
            ],
            "path": "/settings"
          }
        ],
        "resource_name": {
          "default_value": "Settings",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "setting"
        }
      },
      {
        "description": {
          "default_value": "Echo service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "fixed": "Narcissus",
                "name": "referrer"
              },
              {
                "fixed": "3.14159",
                "name": "pi"
              },
              {
                "name": "user_primary_email",
                "variable": "Person.email.primary"
              },
              {
                "name": "discipline",
                "variable": "CourseOffering.label"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary"
            ],
            "path": "/echoes"
          }
        ],
        "resource_name": {
          "default_value": "Echo",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "echo"
        }
      },
      {
        "description": {
          "default_value": "Interactive resource",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "vbid"
              },
              {
                "name": "result_uri",
                "variable": "Result.uri"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "Result.autocreate"
            ],
            "path": "/iresources"
          }
        ],
        "resource_name": {
          "default_value": "InteractiveResource",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "iresource"
        }
      }
    ],
    "service_offered": [
      {
        "@id": "http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection",
        "@type": "RestService",
        "action": [
          "PUT"
        ],
        "endpoint": "http://rails.kinexis.com:5000/lti2_tp/tool_proxies",
        "format": [
          ""
        ]
      }
    ]
  },
  "security_contract": {
    "shared_secret": "0b134cae0ce8aaab42c0b4f6aef86257",
    "tool_service": [
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.collection",
        "action": [
          "POST"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:Result.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:LtiLinkSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxyBindingSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxySettings",
        "action": [
          "GET",
          "PUT"
        ]
      }
    ]
  }
}
  [1m[35mLti2Tc::DeploymentRequest Load (0.5ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `confirm_url` = 'http://rails.kinexis.com:5000/lti2_tp/tool_proxies/13efae70-ccde-0132-5374-20c9d07c6451?correlation=af44ad90-cce7-0132-5376-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-04-24T19:40:28Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"13efae70-ccde-0132-5374-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"0b134cae0ce8aaab42c0b4f6aef86257\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-04-24 19:40:28' WHERE `lti2_tc_deployment_requests`.`id` = 283
  [1m[36m (4.7ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tc::Tool Load (0.4ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tc_tools` SET `status` = 'reregistering', `updated_at` = '2015-04-24 19:40:28' WHERE `lti2_tc_tools`.`id` = 143
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  Rendered text template (0.0ms)
Completed 201 Created in 21ms (Views: 0.5ms | ActiveRecord: 8.5ms)
Started GET "/admin/tool_actions?status=success" for 127.0.0.1 at 2015-04-24 12:40:28 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"status"=>"success"}
  [1m[35mAdminUser Load (0.5ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (1.0ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (1.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (36.0ms)
Completed 200 OK in 39ms (Views: 35.7ms | ActiveRecord: 1.5ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-24 12:40:28 -0700
Started GET "/lti2_tc/reregister_continue?tool_id=143" for 127.0.0.1 at 2015-04-24 12:40:30 -0700
Processing by Lti2Tc::ToolsController#reregister_continue as HTML
  Parameters: {"tool_id"=>"143"}
  [1m[35mLti2Tc::Tool Load (0.3ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 143 LIMIT 1
  [1m[36mLti2Tc::DeploymentRequest Load (0.2ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `lti2_tc_tools` SET `secret` = '0b134cae0ce8aaab42c0b4f6aef86257', `status` = 'reregistered', `tool_proxy` = '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"http://rails.kinexis.com:4000/tools/13efae70-ccde-0132-5374-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"13efae70-ccde-0132-5374-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"0b134cae0ce8aaab42c0b4f6aef86257\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', `updated_at` = '2015-04-24 19:40:30' WHERE `lti2_tc_tools`.`id` = 143[0m
  [1m[35m (11.8ms)[0m  COMMIT
Redirected to http://rails.kinexis.com:4000/admin/tool_actions
Completed 302 Found in 154ms (ActiveRecord: 13.1ms)
Started GET "/admin/tool_actions" for 127.0.0.1 at 2015-04-24 12:40:30 -0700
Processing by Admin::ToolActionsController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.6ms)[0m  SELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name
  Rendered admin/tool_actions/_tool_actions.html.haml (1.2ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (45.0ms)
Completed 200 OK in 49ms (Views: 45.1ms | ActiveRecord: 1.0ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-24 12:40:30 -0700
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-04-24 12:40:34 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  Rendered admin/dashboard/_dashboard.html.haml (0.6ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (42.3ms)
Completed 200 OK in 45ms (Views: 42.9ms | ActiveRecord: 0.3ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-24 12:40:34 -0700
Started GET "/admin/course_actions" for 127.0.0.1 at 2015-04-24 12:40:36 -0700
Processing by Admin::CourseActionsController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mCourse Load (0.5ms)[0m  [1mSELECT `courses`.* FROM `courses`   ORDER BY course_label[0m
  Rendered admin/course_actions/_course_actions.html.haml (0.9ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (44.2ms)
Completed 200 OK in 47ms (Views: 44.2ms | ActiveRecord: 0.8ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-24 12:40:36 -0700
Started GET "/admin/course_page?method=show&course_id=2" for 127.0.0.1 at 2015-04-24 12:40:38 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"show", "course_id"=>"2"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mCourse Load (0.8ms)[0m  [1mSELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1[0m
  [1m[35mLti2Tc::Link Load (0.9ms)[0m  SELECT `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`course_id` = 2
  [1m[36mGradeItem Load (0.7ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 301 LIMIT 1[0m
  [1m[35mGradeResult Load (0.5ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2395 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mGradeItem Load (0.3ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 304 LIMIT 1[0m
  [1m[35mGradeResult Load (0.3ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2404 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mGradeItem Load (0.4ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 307 LIMIT 1[0m
  [1m[35mGradeResult Load (0.3ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2413 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mGradeItem Load (0.3ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 310 LIMIT 1[0m
  [1m[35mGradeResult Load (1.0ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2422 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Resource Load (1.4ms)[0m  [1mSELECT `lti2_tc_resources`.* FROM `lti2_tc_resources`   ORDER BY resource_name[0m
  [1m[35mGradeItem Load (0.4ms)[0m  SELECT `grade_items`.* FROM `grade_items`   ORDER BY label
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2389 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.4ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2392 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.4ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2395 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.4ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2398 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.7ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2401 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.3ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2404 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2407 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2410 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.1ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2413 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2416 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.1ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2419 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.1ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2422 LIMIT 1
  Rendered admin/course_page/_course_page.html.haml (21.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (82.0ms)
Completed 200 OK in 85ms (Views: 72.0ms | ActiveRecord: 11.0ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-24 12:40:38 -0700
Started GET "/admin/course_page?method=link&link_id=2419" for 127.0.0.1 at 2015-04-24 12:40:40 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"link", "link_id"=>"2419"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Link Load (0.6ms)[0m  SELECT  `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`id` = 2419 LIMIT 1
  [1m[36mCourse Load (0.8ms)[0m  [1mSELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1[0m
  [1m[35mEnrollment Load (0.4ms)[0m  SELECT  `enrollments`.* FROM `enrollments`  WHERE `enrollments`.`admin_user_id` = 2 AND `enrollments`.`course_id` = 2  ORDER BY `enrollments`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2419 LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.2ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 143 LIMIT 1
  [1m[36mLti2Tc::ToolSetting Load (0.3ms)[0m  [1mSELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 143 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Tool'[0m
  [1m[35mLti2Tc::ToolSetting Load (0.2ms)[0m  SELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 143 AND `lti2_tc_tool_settings`.`scopeable_id` = 2 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Context'
  [1m[36mLti2Tc::ToolSetting Load (0.2ms)[0m  [1mSELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 143 AND `lti2_tc_tool_settings`.`scopeable_id` = 2419 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Ltilink'[0m
  Rendered inline template (0.6ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (49.0ms)
Completed 200 OK in 51ms (Views: 46.5ms | ActiveRecord: 3.2ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-24 12:40:40 -0700
Started GET "/admin/course_page?method=show&course_id=2" for 127.0.0.1 at 2015-04-24 12:40:41 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"show", "course_id"=>"2"}
  [1m[35mAdminUser Load (0.4ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1[0m
  [1m[35mLti2Tc::Link Load (0.2ms)[0m  SELECT `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`course_id` = 2
  [1m[36mGradeItem Load (0.2ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 301 LIMIT 1[0m
  [1m[35mGradeResult Load (0.4ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2395 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mGradeItem Load (0.2ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 304 LIMIT 1[0m
  [1m[35mGradeResult Load (0.4ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2404 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mGradeItem Load (0.3ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 307 LIMIT 1[0m
  [1m[35mGradeResult Load (0.3ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2413 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mGradeItem Load (0.2ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 310 LIMIT 1[0m
  [1m[35mGradeResult Load (0.3ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2422 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT `lti2_tc_resources`.* FROM `lti2_tc_resources`   ORDER BY resource_name[0m
  [1m[35mGradeItem Load (0.3ms)[0m  SELECT `grade_items`.* FROM `grade_items`   ORDER BY label
  [1m[36mLti2Tc::Resource Load (0.5ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2389 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2392 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2395 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.5ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2398 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2401 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.1ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2404 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.1ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2407 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.1ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2410 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.1ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2413 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2416 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2419 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.1ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2422 LIMIT 1
  Rendered admin/course_page/_course_page.html.haml (17.8ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (62.3ms)
Completed 200 OK in 65ms (Views: 56.4ms | ActiveRecord: 6.7ms)
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-24 12:40:41 -0700
  [1m[36mLti2Tc::Registry Load (0.5ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-04-25 07:06:52 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mAdminUser Load (0.7ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  Rendered admin/dashboard/_dashboard.html.haml (4.0ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (117.0ms)
Completed 200 OK in 211ms (Views: 126.7ms | ActiveRecord: 19.8ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-04-25 07:06:52 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  Rendered admin/dashboard/_dashboard.html.haml (0.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (25.3ms)
Completed 200 OK in 27ms (Views: 25.7ms | ActiveRecord: 0.4ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:06:52 -0700
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-25 07:06:52 -0700
Started GET "/admin/admin_actions" for 127.0.0.1 at 2015-04-25 07:06:54 -0700
Processing by Admin::AdminActionsController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  Rendered admin/admin_actions/_admin_actions.html.haml (4.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (33.6ms)
Completed 200 OK in 36ms (Views: 34.3ms | ActiveRecord: 0.3ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:06:54 -0700
Started GET "/admin/tool_actions" for 127.0.0.1 at 2015-04-25 07:06:55 -0700
Processing by Admin::ToolActionsController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (1.0ms)[0m  SELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name
  Rendered admin/tool_actions/_tool_actions.html.haml (5.8ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (53.6ms)
Completed 200 OK in 56ms (Views: 50.2ms | ActiveRecord: 4.4ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:06:55 -0700
Started GET "/admin/tool_actions?method=reregister&tool_id=143" for 127.0.0.1 at 2015-04-25 07:06:57 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"method"=>"reregister", "tool_id"=>"143"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.4ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 143 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 143 LIMIT 1[0m  [["id", "143"]]
  [1m[35mLti2Tc::DeploymentRequest Load (0.3ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mLti2Tc::ToolConsumerProfile Load (0.4ms)[0m  [1mSELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '13efb090-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (13.0ms)[0m  [1mUPDATE `lti2_tc_tool_consumer_profiles` SET `tc_profile` = '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/{tc_profile_guid}#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"13efb090-ccde-0132-5374-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', `updated_at` = '2015-04-25 14:06:57' WHERE `lti2_tc_tool_consumer_profiles`.`id` = 247[0m
  [1m[35m (1.5ms)[0m  COMMIT
  Rendered inline template (0.5ms)
  [1m[36mLti2Tc::Tool Load (0.4ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (0.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (104.9ms)
Completed 200 OK in 107ms (Views: 64.9ms | ActiveRecord: 40.8ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:06:57 -0700
Started GET "/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451" for 127.0.0.1 at 2015-04-25 07:06:58 -0700
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"13efb090-ccde-0132-5374-20c9d07c6451"}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.4ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '13efb090-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "13efb090-ccde-0132-5374-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
Started POST "/lti2_tc/tools" for 127.0.0.1 at 2015-04-25 07:07:00 -0700
Processing by Lti2Tc::ToolsController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"13efae70-ccde-0132-5374-20c9d07c6451", :oauth_nonce=>"171110632416", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1429970820", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"QO9w0izHiT3zhgtdsqbdRql8zow=", :oauth_signature=>"SOfSzENmRyIvdsJrlf0mYZx0yeA="}
  [1m[36mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  [1mSELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '13efb090-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1[0m
ToolProxy as received: 
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#"
    }
  ],
  "@type": "ToolProxy",
  "@id": "ToolProxyProposal_at_2015-04-25T14:07:00Z",
  "lti_version": "LTI-2p0",
  "tool_proxy_guid": "13efae70-ccde-0132-5374-20c9d07c6451",
  "tool_consumer_profile": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451",
  "tool_profile": {
    "base_url_choice": [
      {
        "default_base_url": "http://rails.kinexis.com:5000",
        "selector": {
          "applies_to": [
            "IconEndpoint",
            "MessageHandler"
          ]
        }
      }
    ],
    "lti_version": "LTI-2p0",
    "message": [
      {
        "message_type": [
          "ToolProxyRegistrationRequest",
          "ToolProxyReregistrationRequest"
        ],
        "parameter": [
          {
            "name": "tc_profile_url",
            "variable": "ToolConsumerProfile.url"
          }
        ],
        "path": "http://rails.kinexis.com:5000/lti2_tp/reregistrations"
      }
    ],
    "product_instance": {
      "guid": "fd75124a-140e-470f-944c-114d2d92bb40",
      "product_info": {
        "description": {
          "default_value": "Fabericious reflowable ePub3 Textbook",
          "key": "tool.description"
        },
        "product_family": {
          "code": "assessment-tool",
          "vendor": {
            "code": "fabericious.org",
            "contact": {
              "email": "info@fabericious.com"
            },
            "description": {
              "default_value": "Fabericious is a leading provider of interactive tools for education",
              "key": "tool.vendor.description"
            },
            "vendor_name": {
              "default_value": "Fab",
              "key": "tool.vendor.name"
            },
            "timestamp": "2012-04-05T09:08:16-04:00",
            "website": "{http://rails.kinexis.com:5000}"
          }
        },
        "product_name": {
          "default_value": "LTI2 BookTools",
          "key": "tool.name"
        },
        "product_version": "10.3",
        "technical_description": {
          "default_value": "Support provided for all LTI 1 extensions as well as LTI 2",
          "key": "tool.technical"
        }
      },
      "service_provider": {
        "description": {
          "default_value": "Provider of high performance managed hosting environments",
          "key": "service_provider.description"
        },
        "guid": "18e7ea50-3d6d-4f6b-aff2-ed3ab577716c",
        "service_provider_name": {
          "default_value": "Amazon Cloud",
          "key": "service_provider.name"
        },
        "support": {
          "email": "support@ec2.fabericious.com"
        },
        "timestamp": "2012-04-05T09:08:16-04:00"
      },
      "support": {
        "email": "helpdesk@fabericious.com"
      }
    },
    "resource_handler": [
      {
        "description": {
          "default_value": "Settings service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "tool_proxy_custom_url",
                "variable": "ToolProxy.custom.url"
              },
              {
                "name": "tool_proxy_binding_custom_url",
                "variable": "ToolProxyBinding.custom.url"
              },
              {
                "name": "lti_link_custom_url",
                "variable": "LtiLink.custom.url"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "ToolProxy.custom.url",
              "ToolProxyBinding.custom.url",
              "LtiLink.custom.url"
            ],
            "path": "/settings"
          }
        ],
        "resource_name": {
          "default_value": "Settings",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "setting"
        }
      },
      {
        "description": {
          "default_value": "Echo service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "fixed": "Narcissus",
                "name": "referrer"
              },
              {
                "fixed": "3.14159",
                "name": "pi"
              },
              {
                "name": "user_primary_email",
                "variable": "Person.email.primary"
              },
              {
                "name": "discipline",
                "variable": "CourseOffering.label"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary"
            ],
            "path": "/echoes"
          }
        ],
        "resource_name": {
          "default_value": "Echo",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "echo"
        }
      },
      {
        "description": {
          "default_value": "Interactive resource",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "vbid"
              },
              {
                "name": "result_uri",
                "variable": "Result.uri"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "Result.autocreate"
            ],
            "path": "/iresources"
          }
        ],
        "resource_name": {
          "default_value": "InteractiveResource",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "iresource"
        }
      }
    ],
    "service_offered": [
      {
        "@id": "http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection",
        "@type": "RestService",
        "action": [
          "PUT"
        ],
        "endpoint": "http://rails.kinexis.com:5000/lti2_tp/tool_proxies",
        "format": [
          ""
        ]
      }
    ]
  },
  "security_contract": {
    "shared_secret": "706ab044290d2a34517f296a070b1c8c",
    "tool_service": [
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.collection",
        "action": [
          "POST"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:Result.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:LtiLinkSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxyBindingSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxySettings",
        "action": [
          "GET",
          "PUT"
        ]
      }
    ]
  }
}
  [1m[35mLti2Tc::DeploymentRequest Load (0.2ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `confirm_url` = 'http://rails.kinexis.com:5000/lti2_tp/tool_proxies/13efae70-ccde-0132-5374-20c9d07c6451?correlation=442e6cc0-cd82-0132-5377-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-04-25T14:07:00Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"13efae70-ccde-0132-5374-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"706ab044290d2a34517f296a070b1c8c\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-04-25 14:07:00' WHERE `lti2_tc_deployment_requests`.`id` = 283
  [1m[36m (12.3ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tc::Tool Load (0.9ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tc_tools` SET `status` = 'reregistering', `updated_at` = '2015-04-25 14:07:00' WHERE `lti2_tc_tools`.`id` = 143
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  Rendered text template (0.0ms)
Completed 201 Created in 26ms (Views: 2.2ms | ActiveRecord: 15.3ms)
Started GET "/admin/tool_actions?status=success" for 127.0.0.1 at 2015-04-25 07:07:01 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"status"=>"success"}
  [1m[35mAdminUser Load (0.4ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.5ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (0.6ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (28.4ms)
Completed 200 OK in 32ms (Views: 28.7ms | ActiveRecord: 0.9ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:07:01 -0700
Started GET "/lti2_tc/reregister_continue?tool_id=143" for 127.0.0.1 at 2015-04-25 07:07:03 -0700
Processing by Lti2Tc::ToolsController#reregister_continue as HTML
  Parameters: {"tool_id"=>"143"}
  [1m[35mLti2Tc::Tool Load (0.4ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 143 LIMIT 1
  [1m[36mLti2Tc::DeploymentRequest Load (0.2ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `lti2_tc_tools` SET `secret` = '706ab044290d2a34517f296a070b1c8c', `status` = 'reregistered', `tool_proxy` = '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"http://rails.kinexis.com:4000/tools/13efae70-ccde-0132-5374-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"13efae70-ccde-0132-5374-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"706ab044290d2a34517f296a070b1c8c\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', `updated_at` = '2015-04-25 14:07:03' WHERE `lti2_tc_tools`.`id` = 143[0m
  [1m[35m (12.5ms)[0m  COMMIT
Redirected to http://rails.kinexis.com:4000/admin/tool_actions
Completed 302 Found in 100ms (ActiveRecord: 14.0ms)
Started GET "/admin/tool_actions" for 127.0.0.1 at 2015-04-25 07:07:03 -0700
Processing by Admin::ToolActionsController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.5ms)[0m  SELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name
  Rendered admin/tool_actions/_tool_actions.html.haml (0.6ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (54.9ms)
Completed 200 OK in 58ms (Views: 55.1ms | ActiveRecord: 0.8ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:07:03 -0700
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-04-25 07:07:06 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  Rendered admin/dashboard/_dashboard.html.haml (0.6ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (32.3ms)
Completed 200 OK in 34ms (Views: 32.8ms | ActiveRecord: 0.3ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:07:06 -0700
Started GET "/admin/admin_actions" for 127.0.0.1 at 2015-04-25 07:07:10 -0700
Processing by Admin::AdminActionsController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  Rendered admin/admin_actions/_admin_actions.html.haml (0.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (40.1ms)
Completed 200 OK in 43ms (Views: 40.9ms | ActiveRecord: 0.3ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:07:10 -0700
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-04-25 07:07:27 -0700
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_profile_guid`, `updated_at`) VALUES ('2015-04-25 14:07:27', '5415a2e0-cd82-0132-5378-20c9d07c6451', 'ebbdd155751661165157204b14f11d92', 'prepared', '5415ab00-cd82-0132-5378-20c9d07c6451', '2015-04-25 14:07:27')[0m
  [1m[35m (6.5ms)[0m  COMMIT
  Rendered admin/register_new_tool/_register_new_tool.html.haml (3.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (46.2ms)
Completed 200 OK in 48ms (Views: 39.6ms | ActiveRecord: 7.5ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:07:27 -0700
Started GET "/admin/course_actions" for 127.0.0.1 at 2015-04-25 07:07:37 -0700
Processing by Admin::CourseActionsController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mCourse Load (0.5ms)[0m  SELECT `courses`.* FROM `courses`   ORDER BY course_label
  Rendered admin/course_actions/_course_actions.html.haml (5.6ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (45.8ms)
Completed 200 OK in 49ms (Views: 44.3ms | ActiveRecord: 2.7ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:07:37 -0700
Started GET "/admin/course_page?method=show&course_id=2" for 127.0.0.1 at 2015-04-25 07:07:40 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"show", "course_id"=>"2"}
  [1m[36mAdminUser Load (0.5ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mCourse Load (0.3ms)[0m  SELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1
  [1m[36mLti2Tc::Link Load (0.3ms)[0m  [1mSELECT `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`course_id` = 2[0m
  [1m[35mGradeItem Load (0.3ms)[0m  SELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 301 LIMIT 1
  [1m[36mGradeResult Load (0.7ms)[0m  [1mSELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2395 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1[0m
  [1m[35mGradeItem Load (0.4ms)[0m  SELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 304 LIMIT 1
  [1m[36mGradeResult Load (0.3ms)[0m  [1mSELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2404 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1[0m
  [1m[35mGradeItem Load (0.5ms)[0m  SELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 307 LIMIT 1
  [1m[36mGradeResult Load (0.4ms)[0m  [1mSELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2413 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1[0m
  [1m[35mGradeItem Load (0.3ms)[0m  SELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 310 LIMIT 1
  [1m[36mGradeResult Load (0.3ms)[0m  [1mSELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2422 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.8ms)[0m  SELECT `lti2_tc_resources`.* FROM `lti2_tc_resources`   ORDER BY resource_name
  [1m[36mGradeItem Load (0.3ms)[0m  [1mSELECT `grade_items`.* FROM `grade_items`   ORDER BY label[0m
  [1m[35mLti2Tc::Resource Load (0.3ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2389 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2392 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2395 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2398 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2401 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2404 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.3ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2407 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2410 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2413 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2416 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.4ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2419 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.6ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2422 LIMIT 1[0m
  Rendered admin/course_page/_course_page.html.haml (40.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (122.2ms)
Completed 200 OK in 126ms (Views: 103.8ms | ActiveRecord: 19.8ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:07:40 -0700
Started GET "/admin/course_page?method=link&link_id=2416" for 127.0.0.1 at 2015-04-25 07:07:42 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"link", "link_id"=>"2416"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Link Load (0.4ms)[0m  [1mSELECT  `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`id` = 2416 LIMIT 1[0m
  [1m[35mCourse Load (0.3ms)[0m  SELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1
  [1m[36mEnrollment Load (0.4ms)[0m  [1mSELECT  `enrollments`.* FROM `enrollments`  WHERE `enrollments`.`admin_user_id` = 2 AND `enrollments`.`course_id` = 2  ORDER BY `enrollments`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.4ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2416 LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.3ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 143 LIMIT 1[0m
  [1m[35mLti2Tc::ToolSetting Load (0.3ms)[0m  SELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 143 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Tool'
  [1m[36mLti2Tc::ToolSetting Load (0.3ms)[0m  [1mSELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 143 AND `lti2_tc_tool_settings`.`scopeable_id` = 2 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Context'[0m
  [1m[35mLti2Tc::ToolSetting Load (0.4ms)[0m  SELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 143 AND `lti2_tc_tool_settings`.`scopeable_id` = 2416 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Ltilink'
  Rendered inline template (1.7ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (89.6ms)
Completed 200 OK in 92ms (Views: 65.6ms | ActiveRecord: 24.7ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:07:43 -0700
Started GET "/lti2_tc/tool_settings/13efae70-ccde-0132-5374-20c9d07c6451" for 127.0.0.1 at 2015-04-25 07:07:43 -0700
Processing by Lti2Tc::ToolSettingsController#show as application/vnd.ims.lti.v2.toolsettings.simple+json
  Parameters: {"tool_guid"=>"13efae70-ccde-0132-5374-20c9d07c6451"}
AuthHdr_Parms: {:oauth_consumer_key=>"13efae70-ccde-0132-5374-20c9d07c6451", :oauth_nonce=>"2233309562229", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1429970863", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"2jmj7l5rSw0yVb/vlWAYkK/YBwk=", :oauth_signature=>"be5a+f2DBi65gNTSJyJvBZxPyIA="}
  [1m[36mLti2Tc::Tool Load (0.3ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {:oauth_consumer_key=>"13efae70-ccde-0132-5374-20c9d07c6451", :oauth_nonce=>"2233309562229", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1429970863", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"2jmj7l5rSw0yVb/vlWAYkK/YBwk=", :oauth_signature=>"be5a+f2DBi65gNTSJyJvBZxPyIA="}
in verify_signature
  [1m[35mCACHE (0.0ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::ToolSetting Load (0.4ms)[0m  [1mSELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 143 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Tool'[0m
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 0.7ms)
Started GET "/lti2_tc/tool_settings/13efae70-ccde-0132-5374-20c9d07c6451/context/2" for 127.0.0.1 at 2015-04-25 07:07:43 -0700
Processing by Lti2Tc::ToolSettingsController#show as application/vnd.ims.lti.v2.toolsettings.simple+json
  Parameters: {"tool_guid"=>"13efae70-ccde-0132-5374-20c9d07c6451", "node_id"=>"2"}
AuthHdr_Parms: {:oauth_consumer_key=>"13efae70-ccde-0132-5374-20c9d07c6451", :oauth_nonce=>"600185088593", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1429970863", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"2jmj7l5rSw0yVb/vlWAYkK/YBwk=", :oauth_signature=>"F+5ccC7KDhfEbBEuR1o+iEoOob8="}
  [1m[35mLti2Tc::Tool Load (0.3ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"13efae70-ccde-0132-5374-20c9d07c6451", :oauth_nonce=>"600185088593", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1429970863", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"2jmj7l5rSw0yVb/vlWAYkK/YBwk=", :oauth_signature=>"F+5ccC7KDhfEbBEuR1o+iEoOob8="}
in verify_signature
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::ToolSetting Load (0.3ms)[0m  SELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 143 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Context' AND `lti2_tc_tool_settings`.`scopeable_id` = 2
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms)
Started GET "/lti2_tc/tool_settings/13efae70-ccde-0132-5374-20c9d07c6451/ltilink/2416" for 127.0.0.1 at 2015-04-25 07:07:43 -0700
Processing by Lti2Tc::ToolSettingsController#show as application/vnd.ims.lti.v2.toolsettings.simple+json
  Parameters: {"tool_guid"=>"13efae70-ccde-0132-5374-20c9d07c6451", "node_id"=>"2416"}
AuthHdr_Parms: {:oauth_consumer_key=>"13efae70-ccde-0132-5374-20c9d07c6451", :oauth_nonce=>"5028875055339", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1429970863", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"2jmj7l5rSw0yVb/vlWAYkK/YBwk=", :oauth_signature=>"OVKxZUQRW5+ubAyi1xp6MzaYVoQ="}
  [1m[36mLti2Tc::Tool Load (0.3ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {:oauth_consumer_key=>"13efae70-ccde-0132-5374-20c9d07c6451", :oauth_nonce=>"5028875055339", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1429970863", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"2jmj7l5rSw0yVb/vlWAYkK/YBwk=", :oauth_signature=>"OVKxZUQRW5+ubAyi1xp6MzaYVoQ="}
in verify_signature
  [1m[35mCACHE (0.0ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::ToolSetting Load (0.3ms)[0m  [1mSELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 143 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Ltilink' AND `lti2_tc_tool_settings`.`scopeable_id` = 2416[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms)
Started PUT "/lti2_tc/tool_settings/13efae70-ccde-0132-5374-20c9d07c6451" for 127.0.0.1 at 2015-04-25 07:07:46 -0700
Processing by Lti2Tc::ToolSettingsController#update as HTML
  Parameters: {"tool_guid"=>"13efae70-ccde-0132-5374-20c9d07c6451"}
AuthHdr_Parms: {:oauth_consumer_key=>"13efae70-ccde-0132-5374-20c9d07c6451", :oauth_nonce=>"7804694117977", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1429970866", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"fwk+/tqzRBolN2UvyT6Kyv5SGag=", :oauth_signature=>"ZybsRc1QD1WQCEqsy5WoaKJXALE="}
  [1m[35mLti2Tc::Tool Load (0.6ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"13efae70-ccde-0132-5374-20c9d07c6451", :oauth_nonce=>"7804694117977", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1429970866", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"fwk+/tqzRBolN2UvyT6Kyv5SGag=", :oauth_signature=>"ZybsRc1QD1WQCEqsy5WoaKJXALE="}
in verify_signature
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  DELETE FROM `lti2_tc_tool_settings` WHERE `lti2_tc_tool_settings`.`scopeable_type` = 'Tool' AND `lti2_tc_tool_settings`.`tool_id` = 143
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (7.4ms)[0m  INSERT INTO `lti2_tc_tool_settings` (`name`, `scopeable_id`, `scopeable_type`, `tool_id`, `value`) VALUES ('tp', 143, 'Tool', 143, '1131')
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 20ms (Views: 0.2ms | ActiveRecord: 11.2ms)
Started PUT "/lti2_tc/tool_settings/13efae70-ccde-0132-5374-20c9d07c6451/context/2" for 127.0.0.1 at 2015-04-25 07:07:46 -0700
Processing by Lti2Tc::ToolSettingsController#update as HTML
  Parameters: {"tool_guid"=>"13efae70-ccde-0132-5374-20c9d07c6451", "node_id"=>"2"}
AuthHdr_Parms: {:oauth_consumer_key=>"13efae70-ccde-0132-5374-20c9d07c6451", :oauth_nonce=>"6016359777513", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1429970866", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"3/ihcx9ZzK0FazRhAtHh0BS4Q/M=", :oauth_signature=>"a3IXFU7q70qwcjzwPs2BVI8EfTE="}
  [1m[35mLti2Tc::Tool Load (1.2ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"13efae70-ccde-0132-5374-20c9d07c6451", :oauth_nonce=>"6016359777513", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1429970866", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"3/ihcx9ZzK0FazRhAtHh0BS4Q/M=", :oauth_signature=>"a3IXFU7q70qwcjzwPs2BVI8EfTE="}
in verify_signature
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `lti2_tc_tool_settings` WHERE `lti2_tc_tool_settings`.`scopeable_type` = 'Context' AND `lti2_tc_tool_settings`.`tool_id` = 143 AND `lti2_tc_tool_settings`.`scopeable_id` = 2
Completed 200 OK in 99ms (Views: 0.1ms | ActiveRecord: 1.6ms)
Started PUT "/lti2_tc/tool_settings/13efae70-ccde-0132-5374-20c9d07c6451/ltilink/2416" for 127.0.0.1 at 2015-04-25 07:07:46 -0700
Processing by Lti2Tc::ToolSettingsController#update as HTML
  Parameters: {"tool_guid"=>"13efae70-ccde-0132-5374-20c9d07c6451", "node_id"=>"2416"}
AuthHdr_Parms: {:oauth_consumer_key=>"13efae70-ccde-0132-5374-20c9d07c6451", :oauth_nonce=>"253861143916", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1429970866", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"3/ihcx9ZzK0FazRhAtHh0BS4Q/M=", :oauth_signature=>"ZigXGWxGhUWhupc7FpwxpK9gNd4="}
  [1m[36mLti2Tc::Tool Load (0.4ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {:oauth_consumer_key=>"13efae70-ccde-0132-5374-20c9d07c6451", :oauth_nonce=>"253861143916", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1429970866", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"3/ihcx9ZzK0FazRhAtHh0BS4Q/M=", :oauth_signature=>"ZigXGWxGhUWhupc7FpwxpK9gNd4="}
in verify_signature
  [1m[35mCACHE (0.0ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = '13efae70-ccde-0132-5374-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `lti2_tc_tool_settings` WHERE `lti2_tc_tool_settings`.`scopeable_type` = 'Ltilink' AND `lti2_tc_tool_settings`.`tool_id` = 143 AND `lti2_tc_tool_settings`.`scopeable_id` = 2416[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 1.0ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-04-25 07:07:56 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  Rendered admin/dashboard/_dashboard.html.haml (0.6ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (32.7ms)
Completed 200 OK in 35ms (Views: 33.3ms | ActiveRecord: 0.3ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:07:56 -0700
Started GET "/admin/admin_actions" for 127.0.0.1 at 2015-04-25 07:07:57 -0700
Processing by Admin::AdminActionsController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  Rendered admin/admin_actions/_admin_actions.html.haml (0.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (29.4ms)
Completed 200 OK in 33ms (Views: 30.1ms | ActiveRecord: 0.4ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:07:57 -0700
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-04-25 07:07:59 -0700
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[35mAdminUser Load (0.4ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_profile_guid`, `updated_at`) VALUES ('2015-04-25 14:07:59', '66ff6a00-cd82-0132-5378-20c9d07c6451', '325b68ff74e40e4b570eef8f2ac65f4f', 'prepared', '66ff6c30-cd82-0132-5378-20c9d07c6451', '2015-04-25 14:07:59')
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  Rendered admin/register_new_tool/_register_new_tool.html.haml (0.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (30.0ms)
Completed 200 OK in 33ms (Views: 29.6ms | ActiveRecord: 1.5ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:07:59 -0700
Started POST "/admin/register_new_tool" for 127.0.0.1 at 2015-04-25 07:08:04 -0700
Processing by Admin::RegisterNewToolController#index as HTML
  Parameters: {"registration_url"=>"http://localhost:5000/lti2_tp/registrations"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::DeploymentRequest Load (0.3ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`id` = 285 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `partner_url` = 'http://localhost:5000/lti2_tp/registrations', `updated_at` = '2015-04-25 14:08:04' WHERE `lti2_tc_deployment_requests`.`id` = 285[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `status` = 'submitted', `updated_at` = '2015-04-25 14:08:04' WHERE `lti2_tc_deployment_requests`.`id` = 285
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `lti2_tc_tool_consumer_profiles` (`created_at`, `tc_profile`, `tc_profile_guid`, `updated_at`) VALUES ('2015-04-25 14:08:04', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"66ff6c30-cd82-0132-5378-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', '66ff6c30-cd82-0132-5378-20c9d07c6451', '2015-04-25 14:08:04')[0m
  [1m[35m (1.0ms)[0m  COMMIT
  Rendered inline template (0.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (41.0ms)
Completed 200 OK in 43ms (Views: 37.8ms | ActiveRecord: 4.1ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:08:04 -0700
Started GET "/lti2_tc/tool_consumer_profiles/66ff6c30-cd82-0132-5378-20c9d07c6451" for 127.0.0.1 at 2015-04-25 07:08:04 -0700
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"66ff6c30-cd82-0132-5378-20c9d07c6451"}
  [1m[36mLti2Tc::ToolConsumerProfile Load (0.7ms)[0m  [1mSELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '66ff6c30-cd82-0132-5378-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1[0m
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "66ff6c30-cd82-0132-5378-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 6ms (Views: 1.8ms | ActiveRecord: 0.7ms)
Started POST "/lti2_tc/tools" for 127.0.0.1 at 2015-04-25 07:08:10 -0700
Processing by Lti2Tc::ToolsController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"66ff6a00-cd82-0132-5378-20c9d07c6451", :oauth_nonce=>"4917856578489", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1429970890", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"B52DSkJ5M6vaTS4DIq834oHq0vM=", :oauth_signature=>"Br6IV2L5tU6y2C1jEQ7gjuB0GgY="}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.6ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '66ff6c30-cd82-0132-5378-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
ToolProxy as received: 
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#"
    }
  ],
  "@type": "ToolProxy",
  "@id": "ToolProxyProposal_at_2015-04-25T14:08:10Z",
  "lti_version": "LTI-2p0",
  "tool_proxy_guid": "66ff6a00-cd82-0132-5378-20c9d07c6451",
  "tool_consumer_profile": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/66ff6c30-cd82-0132-5378-20c9d07c6451",
  "tool_profile": {
    "base_url_choice": [
      {
        "default_base_url": "http://rails.kinexis.com:5000",
        "selector": {
          "applies_to": [
            "IconEndpoint",
            "MessageHandler"
          ]
        }
      }
    ],
    "lti_version": "LTI-2p0",
    "message": [
      {
        "message_type": [
          "ToolProxyRegistrationRequest",
          "ToolProxyReregistrationRequest"
        ],
        "parameter": [
          {
            "name": "tc_profile_url",
            "variable": "ToolConsumerProfile.url"
          }
        ],
        "path": "http://rails.kinexis.com:5000/lti2_tp/reregistrations"
      }
    ],
    "product_instance": {
      "guid": "fd75124a-140e-470f-944c-114d2d92bb40",
      "product_info": {
        "description": {
          "default_value": "Fabericious reflowable ePub3 Textbook",
          "key": "tool.description"
        },
        "product_family": {
          "code": "assessment-tool",
          "vendor": {
            "code": "fabericious.org",
            "contact": {
              "email": "info@fabericious.com"
            },
            "description": {
              "default_value": "Fabericious is a leading provider of interactive tools for education",
              "key": "tool.vendor.description"
            },
            "vendor_name": {
              "default_value": "Fab",
              "key": "tool.vendor.name"
            },
            "timestamp": "2012-04-05T09:08:16-04:00",
            "website": "{http://rails.kinexis.com:5000}"
          }
        },
        "product_name": {
          "default_value": "LTI2 BookTools",
          "key": "tool.name"
        },
        "product_version": "10.3",
        "technical_description": {
          "default_value": "Support provided for all LTI 1 extensions as well as LTI 2",
          "key": "tool.technical"
        }
      },
      "service_provider": {
        "description": {
          "default_value": "Provider of high performance managed hosting environments",
          "key": "service_provider.description"
        },
        "guid": "18e7ea50-3d6d-4f6b-aff2-ed3ab577716c",
        "service_provider_name": {
          "default_value": "Amazon Cloud",
          "key": "service_provider.name"
        },
        "support": {
          "email": "support@ec2.fabericious.com"
        },
        "timestamp": "2012-04-05T09:08:16-04:00"
      },
      "support": {
        "email": "helpdesk@fabericious.com"
      }
    },
    "resource_handler": [
      {
        "description": {
          "default_value": "Settings service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "tool_proxy_custom_url",
                "variable": "ToolProxy.custom.url"
              },
              {
                "name": "tool_proxy_binding_custom_url",
                "variable": "ToolProxyBinding.custom.url"
              },
              {
                "name": "lti_link_custom_url",
                "variable": "LtiLink.custom.url"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "ToolProxy.custom.url",
              "ToolProxyBinding.custom.url",
              "LtiLink.custom.url"
            ],
            "path": "/settings"
          }
        ],
        "resource_name": {
          "default_value": "Settings",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "setting"
        }
      },
      {
        "description": {
          "default_value": "Echo service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "fixed": "Narcissus",
                "name": "referrer"
              },
              {
                "fixed": "3.14159",
                "name": "pi"
              },
              {
                "name": "user_primary_email",
                "variable": "Person.email.primary"
              },
              {
                "name": "discipline",
                "variable": "CourseOffering.label"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary"
            ],
            "path": "/echoes"
          }
        ],
        "resource_name": {
          "default_value": "Echo",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "echo"
        }
      },
      {
        "description": {
          "default_value": "Interactive resource",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "vbid"
              },
              {
                "name": "result_uri",
                "variable": "Result.uri"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "Result.autocreate"
            ],
            "path": "/iresources"
          }
        ],
        "resource_name": {
          "default_value": "InteractiveResource",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "iresource"
        }
      }
    ],
    "service_offered": [
      {
        "@id": "http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection",
        "@type": "RestService",
        "action": [
          "PUT"
        ],
        "endpoint": "http://rails.kinexis.com:5000/lti2_tp/tool_proxies",
        "format": [
          ""
        ]
      }
    ]
  },
  "security_contract": {
    "shared_secret": "0375489430051f0f18cabb61e27992a3",
    "tool_service": [
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.collection",
        "action": [
          "POST"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:Result.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:LtiLinkSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxyBindingSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxySettings",
        "action": [
          "GET",
          "PUT"
        ]
      }
    ]
  }
}
  [1m[36mLti2Tc::DeploymentRequest Load (0.5ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = '66ff6a00-cd82-0132-5378-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-04-25T14:08:10Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"66ff6a00-cd82-0132-5378-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/66ff6c30-cd82-0132-5378-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"0375489430051f0f18cabb61e27992a3\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-04-25 14:08:10' WHERE `lti2_tc_deployment_requests`.`id` = 285[0m
  [1m[35m (5.5ms)[0m  COMMIT
AuthHdr_Parms: {:oauth_consumer_key=>"66ff6a00-cd82-0132-5378-20c9d07c6451", :oauth_nonce=>"4917856578489", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1429970890", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"B52DSkJ5M6vaTS4DIq834oHq0vM=", :oauth_signature=>"Br6IV2L5tU6y2C1jEQ7gjuB0GgY="}
in verify_signature
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `lti2_tc_tools` (`created_at`, `description`, `is_enabled`, `key`, `product_name`, `secret`, `status`, `tool_proxy`, `updated_at`) VALUES ('2015-04-25 14:08:10', 'Fabericious reflowable ePub3 Textbook', 0, '66ff6a00-cd82-0132-5378-20c9d07c6451', 'LTI2 BookTools', '0375489430051f0f18cabb61e27992a3', 'registered', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"ToolProxyProposal_at_2015-04-25T14:08:10Z\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"66ff6a00-cd82-0132-5378-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/66ff6c30-cd82-0132-5378-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"0375489430051f0f18cabb61e27992a3\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', '2015-04-25 14:08:10')
  [1m[36m (12.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 144)[0m
  [1m[35m (10.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-04-25 14:08:10', 1, '{}', 2425, 'Settings', '2015-04-25 14:08:10')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 144)[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-04-25 14:08:10', 1, '{}', 2426, 'Settings', '2015-04-25 14:08:10')
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 144)[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-04-25 14:08:10', 1, '{}', 2427, 'Settings', '2015-04-25 14:08:10')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 144)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-04-25 14:08:10', 1, '{}', 2428, 'Echo', '2015-04-25 14:08:10')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 144)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-04-25 14:08:10', 1, '{}', 2429, 'Echo', '2015-04-25 14:08:10')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 144)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-04-25 14:08:10', 1, '{}', 2430, 'Echo', '2015-04-25 14:08:10')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 144)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (2, '2015-04-25 14:08:10', 'IRTestGrade', '2015-04-25 14:08:10')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-04-25 14:08:10', 313, 1, '{\"vbid\":\"L-999-74180\"}', 2431, 'InteractiveResource', '2015-04-25 14:08:10')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 144)
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (5, '2015-04-25 14:08:10', 'IRTestGrade', '2015-04-25 14:08:10')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-04-25 14:08:10', 314, 1, '{\"vbid\":\"L-999-74180\"}', 2432, 'InteractiveResource', '2015-04-25 14:08:10')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 144)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (6, '2015-04-25 14:08:10', 'IRTestGrade', '2015-04-25 14:08:10')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-04-25 14:08:10', 315, 1, '{\"vbid\":\"L-999-74180\"}', 2433, 'InteractiveResource', '2015-04-25 14:08:10')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  UPDATE `lti2_tc_tools` SET `tool_proxy` = '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"http://rails.kinexis.com:4000/tools/66ff6a00-cd82-0132-5378-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"66ff6a00-cd82-0132-5378-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/66ff6c30-cd82-0132-5378-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"0375489430051f0f18cabb61e27992a3\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', `updated_at` = '2015-04-25 14:08:10' WHERE `lti2_tc_tools`.`id` = 144
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
Exit from Tool/create(POST)--status 201  content-type: application/vnd.ims.lti.v2.toolproxy.id+json
{"@context":"http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId","@type":"ToolProxy","@id":"http://rails.kinexis.com:4000/tools/66ff6a00-cd82-0132-5378-20c9d07c6451","tool_proxy_guid":"66ff6a00-cd82-0132-5378-20c9d07c6451"}
Completed 201 Created in 106ms (Views: 0.4ms | ActiveRecord: 56.0ms)
Started GET "/admin/tool_actions?status=success&tool_guid=66ff6a00-cd82-0132-5378-20c9d07c6451" for 127.0.0.1 at 2015-04-25 07:08:10 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"66ff6a00-cd82-0132-5378-20c9d07c6451"}
  [1m[35mAdminUser Load (0.4ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.5ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (0.7ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (30.6ms)
Completed 200 OK in 34ms (Views: 30.8ms | ActiveRecord: 0.9ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:08:10 -0700
Started GET "/admin/tool_actions?method=toggle&tool_id=144&toggle=true" for 127.0.0.1 at 2015-04-25 07:08:12 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"method"=>"toggle", "tool_id"=>"144", "toggle"=>"true"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.7ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 144 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 144 LIMIT 1  [["id", "144"]]
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tc_tools` SET `is_enabled` = 1, `updated_at` = '2015-04-25 14:08:12' WHERE `lti2_tc_tools`.`id` = 144
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tc::Tool Load (0.3ms)[0m  SELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name
  Rendered admin/tool_actions/_tool_actions.html.haml (1.0ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (37.0ms)
Completed 200 OK in 39ms (Views: 35.6ms | ActiveRecord: 2.1ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:08:13 -0700
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-04-25 07:08:15 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  Rendered admin/dashboard/_dashboard.html.haml (0.8ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (32.3ms)
Completed 200 OK in 35ms (Views: 32.9ms | ActiveRecord: 0.3ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:08:15 -0700
Started GET "/admin/course_actions" for 127.0.0.1 at 2015-04-25 07:08:17 -0700
Processing by Admin::CourseActionsController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mCourse Load (0.7ms)[0m  [1mSELECT `courses`.* FROM `courses`   ORDER BY course_label[0m
  Rendered admin/course_actions/_course_actions.html.haml (0.7ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (38.4ms)
Completed 200 OK in 41ms (Views: 38.4ms | ActiveRecord: 1.0ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:08:17 -0700
Started GET "/admin/course_page?method=show&course_id=2" for 127.0.0.1 at 2015-04-25 07:08:19 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"show", "course_id"=>"2"}
  [1m[35mAdminUser Load (0.4ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1[0m
  [1m[35mLti2Tc::Link Load (0.3ms)[0m  SELECT `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`course_id` = 2
  [1m[36mGradeItem Load (0.3ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 301 LIMIT 1[0m
  [1m[35mGradeResult Load (0.2ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2395 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mGradeItem Load (0.2ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 304 LIMIT 1[0m
  [1m[35mGradeResult Load (0.2ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2404 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mGradeItem Load (0.3ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 307 LIMIT 1[0m
  [1m[35mGradeResult Load (0.2ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2413 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mGradeItem Load (0.2ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 310 LIMIT 1[0m
  [1m[35mGradeResult Load (0.3ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2422 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mGradeItem Load (0.5ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 313 LIMIT 1[0m
  [1m[35mGradeResult Load (0.4ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2431 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Resource Load (1.0ms)[0m  [1mSELECT `lti2_tc_resources`.* FROM `lti2_tc_resources`   ORDER BY resource_name[0m
  [1m[35mGradeItem Load (2.3ms)[0m  SELECT `grade_items`.* FROM `grade_items`   ORDER BY label
  [1m[36mLti2Tc::Resource Load (0.5ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2389 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.6ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2392 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.9ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2395 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.1ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2398 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2401 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2404 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.1ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2407 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2410 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.1ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2413 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.1ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2416 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.1ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2419 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.1ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2422 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.1ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2425 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2428 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2431 LIMIT 1[0m
  Rendered admin/course_page/_course_page.html.haml (16.9ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (65.5ms)
Completed 200 OK in 68ms (Views: 55.3ms | ActiveRecord: 11.2ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:08:19 -0700
Started GET "/admin/course_page?method=link&link_id=2428" for 127.0.0.1 at 2015-04-25 07:08:20 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"link", "link_id"=>"2428"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Link Load (0.9ms)[0m  [1mSELECT  `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`id` = 2428 LIMIT 1[0m
  [1m[35mCourse Load (0.3ms)[0m  SELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1
  [1m[36mEnrollment Load (0.2ms)[0m  [1mSELECT  `enrollments`.* FROM `enrollments`  WHERE `enrollments`.`admin_user_id` = 2 AND `enrollments`.`course_id` = 2  ORDER BY `enrollments`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2428 LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.2ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 144 LIMIT 1[0m
  [1m[35mLti2Tc::ToolSetting Load (0.7ms)[0m  SELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 144 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Tool'
  [1m[36mLti2Tc::ToolSetting Load (0.3ms)[0m  [1mSELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 144 AND `lti2_tc_tool_settings`.`scopeable_id` = 2 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Context'[0m
  [1m[35mLti2Tc::ToolSetting Load (0.2ms)[0m  SELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 144 AND `lti2_tc_tool_settings`.`scopeable_id` = 2428 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Ltilink'
  Rendered inline template (0.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (58.4ms)
Completed 200 OK in 60ms (Views: 55.8ms | ActiveRecord: 3.3ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:08:21 -0700
Started GET "/admin/course_page?method=show&course_id=2" for 127.0.0.1 at 2015-04-25 07:08:23 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"show", "course_id"=>"2"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mCourse Load (0.3ms)[0m  SELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1
  [1m[36mLti2Tc::Link Load (0.2ms)[0m  [1mSELECT `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`course_id` = 2[0m
  [1m[35mGradeItem Load (0.3ms)[0m  SELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 301 LIMIT 1
  [1m[36mGradeResult Load (0.2ms)[0m  [1mSELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2395 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1[0m
  [1m[35mGradeItem Load (0.2ms)[0m  SELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 304 LIMIT 1
  [1m[36mGradeResult Load (0.2ms)[0m  [1mSELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2404 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1[0m
  [1m[35mGradeItem Load (0.3ms)[0m  SELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 307 LIMIT 1
  [1m[36mGradeResult Load (0.3ms)[0m  [1mSELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2413 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1[0m
  [1m[35mGradeItem Load (0.3ms)[0m  SELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 310 LIMIT 1
  [1m[36mGradeResult Load (0.4ms)[0m  [1mSELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2422 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1[0m
  [1m[35mGradeItem Load (0.3ms)[0m  SELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 313 LIMIT 1
  [1m[36mGradeResult Load (0.5ms)[0m  [1mSELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2431 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.6ms)[0m  SELECT `lti2_tc_resources`.* FROM `lti2_tc_resources`   ORDER BY resource_name
  [1m[36mGradeItem Load (0.3ms)[0m  [1mSELECT `grade_items`.* FROM `grade_items`   ORDER BY label[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2389 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2392 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2395 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2398 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2401 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.4ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2404 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.6ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2407 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2410 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2413 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2416 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.4ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2419 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2422 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.3ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2425 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2428 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2431 LIMIT 1
  Rendered admin/course_page/_course_page.html.haml (23.0ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (68.8ms)
Completed 200 OK in 71ms (Views: 61.3ms | ActiveRecord: 8.5ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:08:23 -0700
  [1m[36mLti2Tc::Registry Load (0.5ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (6.7ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mSQL (17.9ms)[0m  [1mDELETE FROM `lti2_tc_deployment_requests`[0m
  [1m[35mSQL (30.0ms)[0m  DELETE FROM `lti2_tc_tool_consumer_profiles`
  [1m[36mSQL (4.4ms)[0m  [1mDELETE FROM `lti2_tc_resources`[0m
  [1m[35mSQL (1.5ms)[0m  DELETE FROM `lti2_tc_tools`
  [1m[36mSQL (1.9ms)[0m  [1mDELETE FROM `lti2_tc_links`[0m
  [1m[35mSQL (2.3ms)[0m  DELETE FROM `grade_items`
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `grade_results`[0m
  [1m[35mSQL (12.5ms)[0m  DELETE FROM `lti2_tc_tool_settings`
Started GET "/admin/course_actions" for 127.0.0.1 at 2015-04-25 07:09:43 -0700
Processing by Admin::CourseActionsController#index as HTML
  [1m[36mAdminUser Load (0.5ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mCourse Load (0.4ms)[0m  SELECT `courses`.* FROM `courses`   ORDER BY course_label
  Rendered admin/course_actions/_course_actions.html.haml (0.9ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (31.1ms)
Completed 200 OK in 34ms (Views: 31.4ms | ActiveRecord: 0.9ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:09:43 -0700
Started GET "/admin/course_page?method=show&course_id=2" for 127.0.0.1 at 2015-04-25 07:09:45 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"show", "course_id"=>"2"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mCourse Load (0.8ms)[0m  SELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1
  [1m[36mLti2Tc::Link Load (0.5ms)[0m  [1mSELECT `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`course_id` = 2[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT `lti2_tc_resources`.* FROM `lti2_tc_resources`   ORDER BY resource_name
  [1m[36mGradeItem Load (0.1ms)[0m  [1mSELECT `grade_items`.* FROM `grade_items`   ORDER BY label[0m
  Rendered admin/course_page/_course_page.html.haml (0.7ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (34.3ms)
Completed 200 OK in 36ms (Views: 33.0ms | ActiveRecord: 2.0ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:09:45 -0700
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-04-25 07:09:55 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  Rendered admin/dashboard/_dashboard.html.haml (0.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (29.3ms)
Completed 200 OK in 32ms (Views: 30.0ms | ActiveRecord: 0.3ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:09:55 -0700
Started GET "/admin/admin_actions" for 127.0.0.1 at 2015-04-25 07:09:58 -0700
Processing by Admin::AdminActionsController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  Rendered admin/admin_actions/_admin_actions.html.haml (0.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (36.4ms)
Completed 200 OK in 39ms (Views: 37.0ms | ActiveRecord: 0.4ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:09:58 -0700
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-04-25 07:10:00 -0700
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_profile_guid`, `updated_at`) VALUES ('2015-04-25 14:10:00', 'af02cf60-cd82-0132-5378-20c9d07c6451', '926b0b232648a5f2986ea37f156dceb0', 'prepared', 'af02d8e0-cd82-0132-5378-20c9d07c6451', '2015-04-25 14:10:00')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  Rendered admin/register_new_tool/_register_new_tool.html.haml (0.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (60.0ms)
Completed 200 OK in 62ms (Views: 58.1ms | ActiveRecord: 2.8ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:10:00 -0700
Started POST "/admin/register_new_tool" for 127.0.0.1 at 2015-04-25 07:10:04 -0700
Processing by Admin::RegisterNewToolController#index as HTML
  Parameters: {"registration_url"=>"http://localhost:5000/lti2_tp/registrations"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::DeploymentRequest Load (0.5ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`id` = 286 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `partner_url` = 'http://localhost:5000/lti2_tp/registrations', `updated_at` = '2015-04-25 14:10:04' WHERE `lti2_tc_deployment_requests`.`id` = 286[0m
  [1m[35m (11.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `status` = 'submitted', `updated_at` = '2015-04-25 14:10:04' WHERE `lti2_tc_deployment_requests`.`id` = 286
  [1m[36m (6.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO `lti2_tc_tool_consumer_profiles` (`created_at`, `tc_profile`, `tc_profile_guid`, `updated_at`) VALUES ('2015-04-25 14:10:04', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"af02d8e0-cd82-0132-5378-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', 'af02d8e0-cd82-0132-5378-20c9d07c6451', '2015-04-25 14:10:04')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  Rendered inline template (1.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (88.7ms)
Completed 200 OK in 91ms (Views: 65.5ms | ActiveRecord: 24.0ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:10:04 -0700
Started GET "/lti2_tc/tool_consumer_profiles/af02d8e0-cd82-0132-5378-20c9d07c6451" for 127.0.0.1 at 2015-04-25 07:10:04 -0700
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"af02d8e0-cd82-0132-5378-20c9d07c6451"}
  [1m[36mLti2Tc::ToolConsumerProfile Load (0.4ms)[0m  [1mSELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = 'af02d8e0-cd82-0132-5378-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1[0m
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "af02d8e0-cd82-0132-5378-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 5ms (Views: 2.0ms | ActiveRecord: 0.4ms)
Started POST "/lti2_tc/tools" for 127.0.0.1 at 2015-04-25 07:10:11 -0700
Processing by Lti2Tc::ToolsController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"af02cf60-cd82-0132-5378-20c9d07c6451", :oauth_nonce=>"7115380738606", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1429971011", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"2QMzDNBxfDkoJ9i82PAElhW1wYA=", :oauth_signature=>"cChE7kXDMaBO0z2GhCrkR+iHCvs="}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = 'af02d8e0-cd82-0132-5378-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
ToolProxy as received: 
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#"
    }
  ],
  "@type": "ToolProxy",
  "@id": "ToolProxyProposal_at_2015-04-25T14:10:10Z",
  "lti_version": "LTI-2p0",
  "tool_proxy_guid": "af02cf60-cd82-0132-5378-20c9d07c6451",
  "tool_consumer_profile": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/af02d8e0-cd82-0132-5378-20c9d07c6451",
  "tool_profile": {
    "base_url_choice": [
      {
        "default_base_url": "http://rails.kinexis.com:5000",
        "selector": {
          "applies_to": [
            "IconEndpoint",
            "MessageHandler"
          ]
        }
      }
    ],
    "lti_version": "LTI-2p0",
    "message": [
      {
        "message_type": [
          "ToolProxyRegistrationRequest",
          "ToolProxyReregistrationRequest"
        ],
        "parameter": [
          {
            "name": "tc_profile_url",
            "variable": "ToolConsumerProfile.url"
          }
        ],
        "path": "http://rails.kinexis.com:5000/lti2_tp/reregistrations"
      }
    ],
    "product_instance": {
      "guid": "fd75124a-140e-470f-944c-114d2d92bb40",
      "product_info": {
        "description": {
          "default_value": "Fabericious reflowable ePub3 Textbook",
          "key": "tool.description"
        },
        "product_family": {
          "code": "assessment-tool",
          "vendor": {
            "code": "fabericious.org",
            "contact": {
              "email": "info@fabericious.com"
            },
            "description": {
              "default_value": "Fabericious is a leading provider of interactive tools for education",
              "key": "tool.vendor.description"
            },
            "vendor_name": {
              "default_value": "Fab",
              "key": "tool.vendor.name"
            },
            "timestamp": "2012-04-05T09:08:16-04:00",
            "website": "{http://rails.kinexis.com:5000}"
          }
        },
        "product_name": {
          "default_value": "LTI2 BookTools",
          "key": "tool.name"
        },
        "product_version": "10.3",
        "technical_description": {
          "default_value": "Support provided for all LTI 1 extensions as well as LTI 2",
          "key": "tool.technical"
        }
      },
      "service_provider": {
        "description": {
          "default_value": "Provider of high performance managed hosting environments",
          "key": "service_provider.description"
        },
        "guid": "18e7ea50-3d6d-4f6b-aff2-ed3ab577716c",
        "service_provider_name": {
          "default_value": "Amazon Cloud",
          "key": "service_provider.name"
        },
        "support": {
          "email": "support@ec2.fabericious.com"
        },
        "timestamp": "2012-04-05T09:08:16-04:00"
      },
      "support": {
        "email": "helpdesk@fabericious.com"
      }
    },
    "resource_handler": [
      {
        "description": {
          "default_value": "Settings service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "tool_proxy_custom_url",
                "variable": "ToolProxy.custom.url"
              },
              {
                "name": "tool_proxy_binding_custom_url",
                "variable": "ToolProxyBinding.custom.url"
              },
              {
                "name": "lti_link_custom_url",
                "variable": "LtiLink.custom.url"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "ToolProxy.custom.url",
              "ToolProxyBinding.custom.url",
              "LtiLink.custom.url"
            ],
            "path": "/settings"
          }
        ],
        "resource_name": {
          "default_value": "Settings",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "setting"
        }
      },
      {
        "description": {
          "default_value": "Echo service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "fixed": "Narcissus",
                "name": "referrer"
              },
              {
                "fixed": "3.14159",
                "name": "pi"
              },
              {
                "name": "user_primary_email",
                "variable": "Person.email.primary"
              },
              {
                "name": "discipline",
                "variable": "CourseOffering.label"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary"
            ],
            "path": "/echoes"
          }
        ],
        "resource_name": {
          "default_value": "Echo",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "echo"
        }
      },
      {
        "description": {
          "default_value": "Interactive resource",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "vbid"
              },
              {
                "name": "result_uri",
                "variable": "Result.uri"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "Result.autocreate"
            ],
            "path": "/iresources"
          }
        ],
        "resource_name": {
          "default_value": "InteractiveResource",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "iresource"
        }
      }
    ],
    "service_offered": [
      {
        "@id": "http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection",
        "@type": "RestService",
        "action": [
          "PUT"
        ],
        "endpoint": "http://rails.kinexis.com:5000/lti2_tp/tool_proxies",
        "format": [
          ""
        ]
      }
    ]
  },
  "security_contract": {
    "shared_secret": "157f79ba9a661d61f9b374e72c22cb18",
    "tool_service": [
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.collection",
        "action": [
          "POST"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:Result.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:LtiLinkSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxyBindingSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxySettings",
        "action": [
          "GET",
          "PUT"
        ]
      }
    ]
  }
}
  [1m[36mLti2Tc::DeploymentRequest Load (0.2ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = 'af02cf60-cd82-0132-5378-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-04-25T14:10:10Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"af02cf60-cd82-0132-5378-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/af02d8e0-cd82-0132-5378-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"157f79ba9a661d61f9b374e72c22cb18\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-04-25 14:10:11' WHERE `lti2_tc_deployment_requests`.`id` = 286[0m
  [1m[35m (11.6ms)[0m  COMMIT
AuthHdr_Parms: {:oauth_consumer_key=>"af02cf60-cd82-0132-5378-20c9d07c6451", :oauth_nonce=>"7115380738606", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1429971011", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"2QMzDNBxfDkoJ9i82PAElhW1wYA=", :oauth_signature=>"cChE7kXDMaBO0z2GhCrkR+iHCvs="}
in verify_signature
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.3ms)[0m  INSERT INTO `lti2_tc_tools` (`created_at`, `description`, `is_enabled`, `key`, `product_name`, `secret`, `status`, `tool_proxy`, `updated_at`) VALUES ('2015-04-25 14:10:11', 'Fabericious reflowable ePub3 Textbook', 0, 'af02cf60-cd82-0132-5378-20c9d07c6451', 'LTI2 BookTools', '157f79ba9a661d61f9b374e72c22cb18', 'registered', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"ToolProxyProposal_at_2015-04-25T14:10:10Z\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"af02cf60-cd82-0132-5378-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/af02d8e0-cd82-0132-5378-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"157f79ba9a661d61f9b374e72c22cb18\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', '2015-04-25 14:10:11')
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 145)[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-04-25 14:10:11', 1, '{}', 2434, 'Settings', '2015-04-25 14:10:11')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 145)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-04-25 14:10:11', 1, '{}', 2435, 'Settings', '2015-04-25 14:10:11')
  [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 145)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-04-25 14:10:11', 1, '{}', 2436, 'Settings', '2015-04-25 14:10:11')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 145)[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-04-25 14:10:11', 1, '{}', 2437, 'Echo', '2015-04-25 14:10:11')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 145)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-04-25 14:10:11', 1, '{}', 2438, 'Echo', '2015-04-25 14:10:11')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 145)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-04-25 14:10:11', 1, '{}', 2439, 'Echo', '2015-04-25 14:10:11')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 145)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (2, '2015-04-25 14:10:11', 'IRTestGrade', '2015-04-25 14:10:11')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-04-25 14:10:11', 316, 1, '{\"vbid\":\"L-999-74180\"}', 2440, 'InteractiveResource', '2015-04-25 14:10:11')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 145)
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (5, '2015-04-25 14:10:11', 'IRTestGrade', '2015-04-25 14:10:11')[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-04-25 14:10:11', 317, 1, '{\"vbid\":\"L-999-74180\"}', 2441, 'InteractiveResource', '2015-04-25 14:10:11')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 145)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (6, '2015-04-25 14:10:11', 'IRTestGrade', '2015-04-25 14:10:11')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-04-25 14:10:11', 318, 1, '{\"vbid\":\"L-999-74180\"}', 2442, 'InteractiveResource', '2015-04-25 14:10:11')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `lti2_tc_tools` SET `tool_proxy` = '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"http://rails.kinexis.com:4000/tools/af02cf60-cd82-0132-5378-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"af02cf60-cd82-0132-5378-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/af02d8e0-cd82-0132-5378-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"157f79ba9a661d61f9b374e72c22cb18\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', `updated_at` = '2015-04-25 14:10:11' WHERE `lti2_tc_tools`.`id` = 145
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
Exit from Tool/create(POST)--status 201  content-type: application/vnd.ims.lti.v2.toolproxy.id+json
{"@context":"http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId","@type":"ToolProxy","@id":"http://rails.kinexis.com:4000/tools/af02cf60-cd82-0132-5378-20c9d07c6451","tool_proxy_guid":"af02cf60-cd82-0132-5378-20c9d07c6451"}
Completed 201 Created in 87ms (Views: 0.3ms | ActiveRecord: 45.8ms)
Started GET "/admin/tool_actions?status=success&tool_guid=af02cf60-cd82-0132-5378-20c9d07c6451" for 127.0.0.1 at 2015-04-25 07:10:11 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"af02cf60-cd82-0132-5378-20c9d07c6451"}
  [1m[35mAdminUser Load (0.6ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.4ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (0.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (37.3ms)
Completed 200 OK in 42ms (Views: 37.9ms | ActiveRecord: 0.9ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:10:11 -0700
Started GET "/admin/tool_actions?method=toggle&tool_id=145&toggle=true" for 127.0.0.1 at 2015-04-25 07:10:13 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"method"=>"toggle", "tool_id"=>"145", "toggle"=>"true"}
  [1m[35mAdminUser Load (0.4ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.4ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 145 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 145 LIMIT 1  [["id", "145"]]
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `lti2_tc_tools` SET `is_enabled` = 1, `updated_at` = '2015-04-25 14:10:13' WHERE `lti2_tc_tools`.`id` = 145
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tc::Tool Load (0.2ms)[0m  SELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name
  Rendered admin/tool_actions/_tool_actions.html.haml (0.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (45.4ms)
Completed 200 OK in 48ms (Views: 44.4ms | ActiveRecord: 1.9ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:10:13 -0700
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-04-25 07:10:15 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  Rendered admin/dashboard/_dashboard.html.haml (0.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (31.2ms)
Completed 200 OK in 33ms (Views: 31.7ms | ActiveRecord: 0.3ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:10:15 -0700
Started GET "/admin/course_actions" for 127.0.0.1 at 2015-04-25 07:10:17 -0700
Processing by Admin::CourseActionsController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT `courses`.* FROM `courses`   ORDER BY course_label[0m
  Rendered admin/course_actions/_course_actions.html.haml (1.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (33.0ms)
Completed 200 OK in 35ms (Views: 33.3ms | ActiveRecord: 0.6ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:10:17 -0700
Started GET "/admin/course_page?method=show&course_id=2" for 127.0.0.1 at 2015-04-25 07:10:19 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"show", "course_id"=>"2"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mCourse Load (0.5ms)[0m  [1mSELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1[0m
  [1m[35mLti2Tc::Link Load (0.4ms)[0m  SELECT `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`course_id` = 2
  [1m[36mGradeItem Load (0.3ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 316 LIMIT 1[0m
  [1m[35mGradeResult Load (0.3ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2440 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.5ms)[0m  [1mSELECT `lti2_tc_resources`.* FROM `lti2_tc_resources`   ORDER BY resource_name[0m
  [1m[35mGradeItem Load (0.6ms)[0m  SELECT `grade_items`.* FROM `grade_items`   ORDER BY label
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2434 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2437 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2440 LIMIT 1[0m
  Rendered admin/course_page/_course_page.html.haml (5.9ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (42.8ms)
Completed 200 OK in 45ms (Views: 40.1ms | ActiveRecord: 3.6ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:10:19 -0700
Started GET "/admin/course_page?method=link&link_id=2437" for 127.0.0.1 at 2015-04-25 07:10:20 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"link", "link_id"=>"2437"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Link Load (0.3ms)[0m  [1mSELECT  `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`id` = 2437 LIMIT 1[0m
  [1m[35mCourse Load (0.3ms)[0m  SELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1
  [1m[36mEnrollment Load (0.4ms)[0m  [1mSELECT  `enrollments`.* FROM `enrollments`  WHERE `enrollments`.`admin_user_id` = 2 AND `enrollments`.`course_id` = 2  ORDER BY `enrollments`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2437 LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.2ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 145 LIMIT 1[0m
  [1m[35mLti2Tc::ToolSetting Load (0.3ms)[0m  SELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 145 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Tool'
  [1m[36mLti2Tc::ToolSetting Load (0.6ms)[0m  [1mSELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 145 AND `lti2_tc_tool_settings`.`scopeable_id` = 2 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Context'[0m
  [1m[35mLti2Tc::ToolSetting Load (0.3ms)[0m  SELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 145 AND `lti2_tc_tool_settings`.`scopeable_id` = 2437 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Ltilink'
  Rendered inline template (0.6ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (49.9ms)
Completed 200 OK in 52ms (Views: 47.7ms | ActiveRecord: 3.0ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:10:20 -0700
Started GET "/admin/course_page?method=show&course_id=2" for 127.0.0.1 at 2015-04-25 07:10:23 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"show", "course_id"=>"2"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mCourse Load (0.3ms)[0m  SELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1
  [1m[36mLti2Tc::Link Load (0.2ms)[0m  [1mSELECT `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`course_id` = 2[0m
  [1m[35mGradeItem Load (0.2ms)[0m  SELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 316 LIMIT 1
  [1m[36mGradeResult Load (0.3ms)[0m  [1mSELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2440 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT `lti2_tc_resources`.* FROM `lti2_tc_resources`   ORDER BY resource_name
  [1m[36mGradeItem Load (0.3ms)[0m  [1mSELECT `grade_items`.* FROM `grade_items`   ORDER BY label[0m
  [1m[35mLti2Tc::Resource Load (0.3ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2434 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2437 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2440 LIMIT 1
  Rendered admin/course_page/_course_page.html.haml (4.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (36.2ms)
Completed 200 OK in 38ms (Views: 34.4ms | ActiveRecord: 2.4ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:10:23 -0700
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-04-25 07:10:38 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  Rendered admin/dashboard/_dashboard.html.haml (0.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (29.1ms)
Completed 200 OK in 32ms (Views: 29.8ms | ActiveRecord: 0.3ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:10:38 -0700
Started GET "/admin/admin_actions" for 127.0.0.1 at 2015-04-25 07:10:40 -0700
Processing by Admin::AdminActionsController#index as HTML
  [1m[35mAdminUser Load (0.4ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  Rendered admin/admin_actions/_admin_actions.html.haml (0.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (31.4ms)
Completed 200 OK in 34ms (Views: 32.0ms | ActiveRecord: 0.4ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:10:40 -0700
Started GET "/admin/tool_actions" for 127.0.0.1 at 2015-04-25 07:10:41 -0700
Processing by Admin::ToolActionsController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.4ms)[0m  SELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name
  Rendered admin/tool_actions/_tool_actions.html.haml (0.2ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (28.9ms)
Completed 200 OK in 31ms (Views: 29.2ms | ActiveRecord: 0.7ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:10:41 -0700
Started GET "/admin/tool_actions?method=reregister&tool_id=145" for 127.0.0.1 at 2015-04-25 07:10:43 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"method"=>"reregister", "tool_id"=>"145"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.4ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 145 LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 145 LIMIT 1[0m  [["id", "145"]]
  [1m[35mLti2Tc::DeploymentRequest Load (0.5ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = 'af02cf60-cd82-0132-5378-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `lti2_tc_tools` SET `registration_return_url` = 'http://rails.kinexis.com:4000/admin/tool_actions', `updated_at` = '2015-04-25 14:10:43' WHERE `lti2_tc_tools`.`id` = 145
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `status` = 'reregistering', `updated_at` = '2015-04-25 14:10:43' WHERE `lti2_tc_deployment_requests`.`id` = 286[0m
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36mLti2Tc::ToolConsumerProfile Load (0.7ms)[0m  [1mSELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = 'af02d8e0-cd82-0132-5378-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  Rendered inline template (0.4ms)
  [1m[35mLti2Tc::Tool Load (0.3ms)[0m  SELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name
  Rendered admin/tool_actions/_tool_actions.html.haml (0.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (45.4ms)
Completed 200 OK in 47ms (Views: 40.5ms | ActiveRecord: 5.5ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:10:43 -0700
Started GET "/lti2_tc/tool_consumer_profiles/af02d8e0-cd82-0132-5378-20c9d07c6451" for 127.0.0.1 at 2015-04-25 07:10:44 -0700
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"af02d8e0-cd82-0132-5378-20c9d07c6451"}
  [1m[36mLti2Tc::ToolConsumerProfile Load (0.5ms)[0m  [1mSELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = 'af02d8e0-cd82-0132-5378-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1[0m
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "af02d8e0-cd82-0132-5378-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 13ms (Views: 10.9ms | ActiveRecord: 0.5ms)
Started POST "/lti2_tc/tools" for 127.0.0.1 at 2015-04-25 07:10:46 -0700
Processing by Lti2Tc::ToolsController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"af02cf60-cd82-0132-5378-20c9d07c6451", :oauth_nonce=>"319614003014", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1429971046", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"i4bo0Pat/0XgcaZgG0HPXqvpGO0=", :oauth_signature=>"tZzgK/EAXtf8WQpI/h4w0rE7W14="}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = 'af02d8e0-cd82-0132-5378-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
ToolProxy as received: 
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#"
    }
  ],
  "@type": "ToolProxy",
  "@id": "ToolProxyProposal_at_2015-04-25T14:10:46Z",
  "lti_version": "LTI-2p0",
  "tool_proxy_guid": "af02cf60-cd82-0132-5378-20c9d07c6451",
  "tool_consumer_profile": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/af02d8e0-cd82-0132-5378-20c9d07c6451",
  "tool_profile": {
    "base_url_choice": [
      {
        "default_base_url": "http://rails.kinexis.com:5000",
        "selector": {
          "applies_to": [
            "IconEndpoint",
            "MessageHandler"
          ]
        }
      }
    ],
    "lti_version": "LTI-2p0",
    "message": [
      {
        "message_type": [
          "ToolProxyRegistrationRequest",
          "ToolProxyReregistrationRequest"
        ],
        "parameter": [
          {
            "name": "tc_profile_url",
            "variable": "ToolConsumerProfile.url"
          }
        ],
        "path": "http://rails.kinexis.com:5000/lti2_tp/reregistrations"
      }
    ],
    "product_instance": {
      "guid": "fd75124a-140e-470f-944c-114d2d92bb40",
      "product_info": {
        "description": {
          "default_value": "Fabericious reflowable ePub3 Textbook",
          "key": "tool.description"
        },
        "product_family": {
          "code": "assessment-tool",
          "vendor": {
            "code": "fabericious.org",
            "contact": {
              "email": "info@fabericious.com"
            },
            "description": {
              "default_value": "Fabericious is a leading provider of interactive tools for education",
              "key": "tool.vendor.description"
            },
            "vendor_name": {
              "default_value": "Fab",
              "key": "tool.vendor.name"
            },
            "timestamp": "2012-04-05T09:08:16-04:00",
            "website": "{http://rails.kinexis.com:5000}"
          }
        },
        "product_name": {
          "default_value": "LTI2 BookTools",
          "key": "tool.name"
        },
        "product_version": "10.3",
        "technical_description": {
          "default_value": "Support provided for all LTI 1 extensions as well as LTI 2",
          "key": "tool.technical"
        }
      },
      "service_provider": {
        "description": {
          "default_value": "Provider of high performance managed hosting environments",
          "key": "service_provider.description"
        },
        "guid": "18e7ea50-3d6d-4f6b-aff2-ed3ab577716c",
        "service_provider_name": {
          "default_value": "Amazon Cloud",
          "key": "service_provider.name"
        },
        "support": {
          "email": "support@ec2.fabericious.com"
        },
        "timestamp": "2012-04-05T09:08:16-04:00"
      },
      "support": {
        "email": "helpdesk@fabericious.com"
      }
    },
    "resource_handler": [
      {
        "description": {
          "default_value": "Settings service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "tool_proxy_custom_url",
                "variable": "ToolProxy.custom.url"
              },
              {
                "name": "tool_proxy_binding_custom_url",
                "variable": "ToolProxyBinding.custom.url"
              },
              {
                "name": "lti_link_custom_url",
                "variable": "LtiLink.custom.url"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "ToolProxy.custom.url",
              "ToolProxyBinding.custom.url",
              "LtiLink.custom.url"
            ],
            "path": "/settings"
          }
        ],
        "resource_name": {
          "default_value": "Settings",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "setting"
        }
      },
      {
        "description": {
          "default_value": "Echo service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "fixed": "Narcissus",
                "name": "referrer"
              },
              {
                "fixed": "3.14159",
                "name": "pi"
              },
              {
                "name": "user_primary_email",
                "variable": "Person.email.primary"
              },
              {
                "name": "discipline",
                "variable": "CourseOffering.label"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary"
            ],
            "path": "/echoes"
          }
        ],
        "resource_name": {
          "default_value": "Echo",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "echo"
        }
      },
      {
        "description": {
          "default_value": "Interactive resource",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "vbid"
              },
              {
                "name": "result_uri",
                "variable": "Result.uri"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "Result.autocreate"
            ],
            "path": "/iresources"
          }
        ],
        "resource_name": {
          "default_value": "InteractiveResource",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "iresource"
        }
      }
    ],
    "service_offered": [
      {
        "@id": "http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection",
        "@type": "RestService",
        "action": [
          "PUT"
        ],
        "endpoint": "http://rails.kinexis.com:5000/lti2_tp/tool_proxies",
        "format": [
          ""
        ]
      }
    ]
  },
  "security_contract": {
    "shared_secret": "06a73ecebbba07c5bfe698a1d492befe",
    "tool_service": [
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.collection",
        "action": [
          "POST"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:Result.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:LtiLinkSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxyBindingSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxySettings",
        "action": [
          "GET",
          "PUT"
        ]
      }
    ]
  }
}
  [1m[36mLti2Tc::DeploymentRequest Load (0.3ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = 'af02cf60-cd82-0132-5378-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `confirm_url` = 'http://rails.kinexis.com:5000/lti2_tp/tool_proxies/af02cf60-cd82-0132-5378-20c9d07c6451?correlation=ca8c5800-cd82-0132-5377-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-04-25T14:10:46Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"af02cf60-cd82-0132-5378-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/af02d8e0-cd82-0132-5378-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"06a73ecebbba07c5bfe698a1d492befe\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-04-25 14:10:46' WHERE `lti2_tc_deployment_requests`.`id` = 286[0m
  [1m[35m (6.6ms)[0m  COMMIT
  [1m[36mLti2Tc::Tool Load (0.3ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = 'af02cf60-cd82-0132-5378-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `lti2_tc_tools` SET `status` = 'reregistering', `updated_at` = '2015-04-25 14:10:46' WHERE `lti2_tc_tools`.`id` = 145[0m
  [1m[35m (0.6ms)[0m  COMMIT
  Rendered text template (0.0ms)
Completed 201 Created in 24ms (Views: 0.4ms | ActiveRecord: 9.1ms)
Started GET "/admin/tool_actions?status=success" for 127.0.0.1 at 2015-04-25 07:10:46 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"status"=>"success"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.5ms)[0m  SELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name
  Rendered admin/tool_actions/_tool_actions.html.haml (0.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (32.3ms)
Completed 200 OK in 36ms (Views: 32.5ms | ActiveRecord: 0.9ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:10:46 -0700
Started GET "/lti2_tc/reregister_continue?tool_id=145" for 127.0.0.1 at 2015-04-25 07:10:48 -0700
Processing by Lti2Tc::ToolsController#reregister_continue as HTML
  Parameters: {"tool_id"=>"145"}
  [1m[36mLti2Tc::Tool Load (0.3ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 145 LIMIT 1[0m
  [1m[35mLti2Tc::DeploymentRequest Load (0.3ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = 'af02cf60-cd82-0132-5378-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `lti2_tc_tools` SET `secret` = '06a73ecebbba07c5bfe698a1d492befe', `status` = 'reregistered', `tool_proxy` = '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/13efb090-ccde-0132-5374-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"http://rails.kinexis.com:4000/tools/af02cf60-cd82-0132-5378-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"af02cf60-cd82-0132-5378-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/af02d8e0-cd82-0132-5378-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"06a73ecebbba07c5bfe698a1d492befe\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', `updated_at` = '2015-04-25 14:10:48' WHERE `lti2_tc_tools`.`id` = 145
  [1m[36m (12.2ms)[0m  [1mCOMMIT[0m
Redirected to http://rails.kinexis.com:4000/admin/tool_actions
Completed 302 Found in 60ms (ActiveRecord: 13.7ms)
Started GET "/admin/tool_actions" for 127.0.0.1 at 2015-04-25 07:10:48 -0700
Processing by Admin::ToolActionsController#index as HTML
  [1m[35mAdminUser Load (0.4ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.4ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (0.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (30.4ms)
Completed 200 OK in 33ms (Views: 30.5ms | ActiveRecord: 0.7ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:10:48 -0700
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-04-25 07:10:52 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  Rendered admin/dashboard/_dashboard.html.haml (0.9ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (28.9ms)
Completed 200 OK in 31ms (Views: 29.5ms | ActiveRecord: 0.3ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:10:52 -0700
Started GET "/admin/course_actions" for 127.0.0.1 at 2015-04-25 07:10:54 -0700
Processing by Admin::CourseActionsController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mCourse Load (0.3ms)[0m  SELECT `courses`.* FROM `courses`   ORDER BY course_label
  Rendered admin/course_actions/_course_actions.html.haml (0.7ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (34.2ms)
Completed 200 OK in 37ms (Views: 34.5ms | ActiveRecord: 0.6ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:10:54 -0700
Started GET "/admin/course_page?method=show&course_id=2" for 127.0.0.1 at 2015-04-25 07:10:56 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"show", "course_id"=>"2"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mCourse Load (0.4ms)[0m  SELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1
  [1m[36mLti2Tc::Link Load (0.3ms)[0m  [1mSELECT `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`course_id` = 2[0m
  [1m[35mGradeItem Load (0.3ms)[0m  SELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 316 LIMIT 1
  [1m[36mGradeResult Load (0.2ms)[0m  [1mSELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2440 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.3ms)[0m  SELECT `lti2_tc_resources`.* FROM `lti2_tc_resources`   ORDER BY resource_name
  [1m[36mGradeItem Load (0.3ms)[0m  [1mSELECT `grade_items`.* FROM `grade_items`   ORDER BY label[0m
  [1m[35mLti2Tc::Resource Load (0.4ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2434 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2437 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2440 LIMIT 1
  Rendered admin/course_page/_course_page.html.haml (5.2ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (38.7ms)
Completed 200 OK in 41ms (Views: 36.8ms | ActiveRecord: 2.8ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:10:56 -0700
Started GET "/admin/course_page?method=link&link_id=2437" for 127.0.0.1 at 2015-04-25 07:10:58 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"link", "link_id"=>"2437"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Link Load (0.4ms)[0m  SELECT  `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`id` = 2437 LIMIT 1
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1[0m
  [1m[35mEnrollment Load (0.6ms)[0m  SELECT  `enrollments`.* FROM `enrollments`  WHERE `enrollments`.`admin_user_id` = 2 AND `enrollments`.`course_id` = 2  ORDER BY `enrollments`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2437 LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.9ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 145 LIMIT 1
  [1m[36mLti2Tc::ToolSetting Load (0.3ms)[0m  [1mSELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 145 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Tool'[0m
  [1m[35mLti2Tc::ToolSetting Load (0.2ms)[0m  SELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 145 AND `lti2_tc_tool_settings`.`scopeable_id` = 2 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Context'
  [1m[36mLti2Tc::ToolSetting Load (0.2ms)[0m  [1mSELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 145 AND `lti2_tc_tool_settings`.`scopeable_id` = 2437 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Ltilink'[0m
  Rendered inline template (1.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (60.6ms)
Completed 200 OK in 64ms (Views: 57.9ms | ActiveRecord: 3.8ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:10:58 -0700
Started GET "/admin/course_page?method=show&course_id=2" for 127.0.0.1 at 2015-04-25 07:11:00 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"show", "course_id"=>"2"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1[0m
  [1m[35mLti2Tc::Link Load (0.3ms)[0m  SELECT `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`course_id` = 2
  [1m[36mGradeItem Load (0.2ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 316 LIMIT 1[0m
  [1m[35mGradeResult Load (0.2ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2440 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT `lti2_tc_resources`.* FROM `lti2_tc_resources`   ORDER BY resource_name[0m
  [1m[35mGradeItem Load (0.1ms)[0m  SELECT `grade_items`.* FROM `grade_items`   ORDER BY label
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2434 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.4ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2437 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.5ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2440 LIMIT 1[0m
  Rendered admin/course_page/_course_page.html.haml (6.9ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (43.1ms)
Completed 200 OK in 45ms (Views: 41.0ms | ActiveRecord: 2.9ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:11:00 -0700
  [1m[36mLti2Tc::Registry Load (0.6ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mSQL (24.1ms)[0m  [1mDELETE FROM `lti2_tc_deployment_requests`[0m
  [1m[35mSQL (16.4ms)[0m  DELETE FROM `lti2_tc_tool_consumer_profiles`
  [1m[36mSQL (10.5ms)[0m  [1mDELETE FROM `lti2_tc_resources`[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM `lti2_tc_tools`
  [1m[36mSQL (1.6ms)[0m  [1mDELETE FROM `lti2_tc_links`[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM `grade_items`
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `grade_results`[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `lti2_tc_tool_settings`
  [1m[36mLti2Tc::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
Started GET "/admin/course_page?method=show&course_id=2" for 127.0.0.1 at 2015-04-25 07:55:10 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"show", "course_id"=>"2"}
  [1m[35mAdminUser Load (0.5ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1[0m
  [1m[35mLti2Tc::Link Load (0.3ms)[0m  SELECT `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`course_id` = 2
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT `lti2_tc_resources`.* FROM `lti2_tc_resources`   ORDER BY resource_name[0m
  [1m[35mGradeItem Load (0.2ms)[0m  SELECT `grade_items`.* FROM `grade_items`   ORDER BY label
  Rendered admin/course_page/_course_page.html.haml (11.6ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (168.2ms)
Completed 200 OK in 227ms (Views: 177.6ms | ActiveRecord: 23.9ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:55:11 -0700
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-25 07:55:11 -0700
Started GET "/assets/active_admin/print.css" for 127.0.0.1 at 2015-04-25 07:55:11 -0700
Started GET "/assets/active_admin/nested_menu_arrow.gif" for 127.0.0.1 at 2015-04-25 07:55:11 -0700
Started GET "/assets/active_admin/nested_menu_arrow_dark.gif" for 127.0.0.1 at 2015-04-25 07:55:11 -0700
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-04-25 07:55:13 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  Rendered admin/dashboard/_dashboard.html.haml (3.7ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (32.9ms)
Completed 200 OK in 35ms (Views: 33.6ms | ActiveRecord: 0.3ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:55:14 -0700
Started GET "/assets/active_admin/print.css" for 127.0.0.1 at 2015-04-25 07:55:14 -0700
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-25 07:55:14 -0700
Started GET "/assets/active_admin/nested_menu_arrow.gif" for 127.0.0.1 at 2015-04-25 07:55:14 -0700
Started GET "/admin/admin_actions" for 127.0.0.1 at 2015-04-25 07:55:15 -0700
Processing by Admin::AdminActionsController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  Rendered admin/admin_actions/_admin_actions.html.haml (2.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (32.0ms)
Completed 200 OK in 34ms (Views: 32.6ms | ActiveRecord: 0.3ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:55:15 -0700
Started GET "/assets/active_admin/print.css" for 127.0.0.1 at 2015-04-25 07:55:15 -0700
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-25 07:55:15 -0700
Started GET "/assets/active_admin/nested_menu_arrow_dark.gif" for 127.0.0.1 at 2015-04-25 07:55:15 -0700
Started GET "/assets/active_admin/nested_menu_arrow.gif" for 127.0.0.1 at 2015-04-25 07:55:15 -0700
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-04-25 07:55:16 -0700
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_profile_guid`, `updated_at`) VALUES ('2015-04-25 14:55:16', '0260e530-cd89-0132-5379-20c9d07c6451', '21b9cdad1c57e824005af8d5848b6136', 'prepared', '0261cc10-cd89-0132-5379-20c9d07c6451', '2015-04-25 14:55:16')[0m
  [1m[35m (12.3ms)[0m  COMMIT
  Rendered admin/register_new_tool/_register_new_tool.html.haml (4.2ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (65.8ms)
Completed 200 OK in 68ms (Views: 51.2ms | ActiveRecord: 15.6ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:55:17 -0700
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-25 07:55:17 -0700
Started GET "/assets/active_admin/print.css" for 127.0.0.1 at 2015-04-25 07:55:17 -0700
Started GET "/assets/active_admin/nested_menu_arrow.gif" for 127.0.0.1 at 2015-04-25 07:55:17 -0700
Started GET "/assets/active_admin/nested_menu_arrow_dark.gif" for 127.0.0.1 at 2015-04-25 07:55:17 -0700
Started POST "/admin/register_new_tool" for 127.0.0.1 at 2015-04-25 07:55:22 -0700
Processing by Admin::RegisterNewToolController#index as HTML
  Parameters: {"registration_url"=>"http://localhost:5000/lti2_tp/registrations"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::DeploymentRequest Load (0.3ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`id` = 287 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `partner_url` = 'http://localhost:5000/lti2_tp/registrations', `updated_at` = '2015-04-25 14:55:22' WHERE `lti2_tc_deployment_requests`.`id` = 287
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `status` = 'submitted', `updated_at` = '2015-04-25 14:55:22' WHERE `lti2_tc_deployment_requests`.`id` = 287[0m
  [1m[35m (6.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `lti2_tc_tool_consumer_profiles` (`created_at`, `tc_profile`, `tc_profile_guid`, `updated_at`) VALUES ('2015-04-25 14:55:22', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/{tc_profile_guid}#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"0261cc10-cd89-0132-5379-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', '0261cc10-cd89-0132-5379-20c9d07c6451', '2015-04-25 14:55:22')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  Rendered inline template (0.8ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (70.3ms)
Completed 200 OK in 73ms (Views: 43.2ms | ActiveRecord: 28.1ms)
Started GET "/assets/active_admin/print.css" for 127.0.0.1 at 2015-04-25 07:55:22 -0700
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:55:22 -0700
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-25 07:55:22 -0700
Started GET "/assets/active_admin/nested_menu_arrow.gif" for 127.0.0.1 at 2015-04-25 07:55:22 -0700
Started GET "/assets/active_admin/nested_menu_arrow_dark.gif" for 127.0.0.1 at 2015-04-25 07:55:22 -0700
Started GET "/lti2_tc/tool_consumer_profiles/0261cc10-cd89-0132-5379-20c9d07c6451" for 127.0.0.1 at 2015-04-25 07:55:22 -0700
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"0261cc10-cd89-0132-5379-20c9d07c6451"}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.4ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '0261cc10-cd89-0132-5379-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0261cc10-cd89-0132-5379-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/0261cc10-cd89-0132-5379-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "0261cc10-cd89-0132-5379-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.4ms)
Started POST "/lti2_tc/tools" for 127.0.0.1 at 2015-04-25 07:55:29 -0700
Processing by Lti2Tc::ToolsController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"0260e530-cd89-0132-5379-20c9d07c6451", :oauth_nonce=>"9658119473666", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1429973729", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"+192Bvcat6mdPLKUKrkk8csspe4=", :oauth_signature=>"JlCvZI8ubj//8rS21CWq+nNh3Jo="}
  [1m[36mLti2Tc::ToolConsumerProfile Load (0.5ms)[0m  [1mSELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '0261cc10-cd89-0132-5379-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1[0m
ToolProxy as received: 
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0261cc10-cd89-0132-5379-20c9d07c6451#"
    }
  ],
  "@type": "ToolProxy",
  "@id": "ToolProxyProposal_at_2015-04-25T14:55:29Z",
  "lti_version": "LTI-2p0",
  "tool_proxy_guid": "0260e530-cd89-0132-5379-20c9d07c6451",
  "tool_consumer_profile": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0261cc10-cd89-0132-5379-20c9d07c6451",
  "tool_profile": {
    "base_url_choice": [
      {
        "default_base_url": "http://rails.kinexis.com:5000",
        "selector": {
          "applies_to": [
            "IconEndpoint",
            "MessageHandler"
          ]
        }
      }
    ],
    "lti_version": "LTI-2p0",
    "message": [
      {
        "message_type": [
          "ToolProxyRegistrationRequest",
          "ToolProxyReregistrationRequest"
        ],
        "parameter": [
          {
            "name": "tc_profile_url",
            "variable": "ToolConsumerProfile.url"
          }
        ],
        "path": "http://rails.kinexis.com:5000/lti2_tp/reregistrations"
      }
    ],
    "product_instance": {
      "guid": "fd75124a-140e-470f-944c-114d2d92bb40",
      "product_info": {
        "description": {
          "default_value": "Fabericious reflowable ePub3 Textbook",
          "key": "tool.description"
        },
        "product_family": {
          "code": "assessment-tool",
          "vendor": {
            "code": "fabericious.org",
            "contact": {
              "email": "info@fabericious.com"
            },
            "description": {
              "default_value": "Fabericious is a leading provider of interactive tools for education",
              "key": "tool.vendor.description"
            },
            "vendor_name": {
              "default_value": "Fab",
              "key": "tool.vendor.name"
            },
            "timestamp": "2012-04-05T09:08:16-04:00",
            "website": "{http://rails.kinexis.com:5000}"
          }
        },
        "product_name": {
          "default_value": "LTI2 BookTools",
          "key": "tool.name"
        },
        "product_version": "10.3",
        "technical_description": {
          "default_value": "Support provided for all LTI 1 extensions as well as LTI 2",
          "key": "tool.technical"
        }
      },
      "service_provider": {
        "description": {
          "default_value": "Provider of high performance managed hosting environments",
          "key": "service_provider.description"
        },
        "guid": "18e7ea50-3d6d-4f6b-aff2-ed3ab577716c",
        "service_provider_name": {
          "default_value": "Amazon Cloud",
          "key": "service_provider.name"
        },
        "support": {
          "email": "support@ec2.fabericious.com"
        },
        "timestamp": "2012-04-05T09:08:16-04:00"
      },
      "support": {
        "email": "helpdesk@fabericious.com"
      }
    },
    "resource_handler": [
      {
        "description": {
          "default_value": "Settings service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "tool_proxy_custom_url",
                "variable": "ToolProxy.custom.url"
              },
              {
                "name": "tool_proxy_binding_custom_url",
                "variable": "ToolProxyBinding.custom.url"
              },
              {
                "name": "lti_link_custom_url",
                "variable": "LtiLink.custom.url"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "ToolProxy.custom.url",
              "ToolProxyBinding.custom.url",
              "LtiLink.custom.url"
            ],
            "path": "/settings"
          }
        ],
        "resource_name": {
          "default_value": "Settings",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "setting"
        }
      },
      {
        "description": {
          "default_value": "Echo service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "fixed": "Narcissus",
                "name": "referrer"
              },
              {
                "fixed": "3.14159",
                "name": "pi"
              },
              {
                "name": "user_primary_email",
                "variable": "Person.email.primary"
              },
              {
                "name": "discipline",
                "variable": "CourseOffering.label"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary"
            ],
            "path": "/echoes"
          }
        ],
        "resource_name": {
          "default_value": "Echo",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "echo"
        }
      },
      {
        "description": {
          "default_value": "Interactive resource",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "vbid"
              },
              {
                "name": "result_uri",
                "variable": "Result.uri"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "Result.autocreate"
            ],
            "path": "/iresources"
          }
        ],
        "resource_name": {
          "default_value": "InteractiveResource",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "iresource"
        }
      }
    ],
    "service_offered": [
      {
        "@id": "http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection",
        "@type": "RestService",
        "action": [
          "PUT"
        ],
        "endpoint": "http://rails.kinexis.com:5000/lti2_tp/tool_proxies",
        "format": [
          ""
        ]
      }
    ]
  },
  "security_contract": {
    "shared_secret": "543c4212f5dba09b9033bcc3cb8dcc2b",
    "tool_service": [
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.collection",
        "action": [
          "POST"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:Result.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:LtiLinkSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxyBindingSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxySettings",
        "action": [
          "GET",
          "PUT"
        ]
      }
    ]
  }
}
  [1m[35mLti2Tc::DeploymentRequest Load (0.3ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = '0260e530-cd89-0132-5379-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0261cc10-cd89-0132-5379-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-04-25T14:55:29Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"0260e530-cd89-0132-5379-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0261cc10-cd89-0132-5379-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"543c4212f5dba09b9033bcc3cb8dcc2b\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-04-25 14:55:29' WHERE `lti2_tc_deployment_requests`.`id` = 287
  [1m[36m (6.2ms)[0m  [1mCOMMIT[0m
AuthHdr_Parms: {:oauth_consumer_key=>"0260e530-cd89-0132-5379-20c9d07c6451", :oauth_nonce=>"9658119473666", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1429973729", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"+192Bvcat6mdPLKUKrkk8csspe4=", :oauth_signature=>"JlCvZI8ubj//8rS21CWq+nNh3Jo="}
in verify_signature
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (2.4ms)[0m  [1mINSERT INTO `lti2_tc_tools` (`created_at`, `description`, `is_enabled`, `key`, `product_name`, `secret`, `status`, `tool_proxy`, `updated_at`) VALUES ('2015-04-25 14:55:29', 'Fabericious reflowable ePub3 Textbook', 0, '0260e530-cd89-0132-5379-20c9d07c6451', 'LTI2 BookTools', '543c4212f5dba09b9033bcc3cb8dcc2b', 'registered', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0261cc10-cd89-0132-5379-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"ToolProxyProposal_at_2015-04-25T14:55:29Z\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"0260e530-cd89-0132-5379-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0261cc10-cd89-0132-5379-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"543c4212f5dba09b9033bcc3cb8dcc2b\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', '2015-04-25 14:55:29')[0m
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (6.3ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 146)
  [1m[36m (6.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-04-25 14:55:29', 1, '{}', 2443, 'Settings', '2015-04-25 14:55:29')[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 146)
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-04-25 14:55:29', 1, '{}', 2444, 'Settings', '2015-04-25 14:55:29')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 146)
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-04-25 14:55:29', 1, '{}', 2445, 'Settings', '2015-04-25 14:55:29')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 146)
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-04-25 14:55:29', 1, '{}', 2446, 'Echo', '2015-04-25 14:55:29')[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.3ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 146)
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-04-25 14:55:29', 1, '{}', 2447, 'Echo', '2015-04-25 14:55:29')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 146)
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-04-25 14:55:29', 1, '{}', 2448, 'Echo', '2015-04-25 14:55:29')[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 146)
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (2, '2015-04-25 14:55:29', 'IRTestGrade', '2015-04-25 14:55:29')[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-04-25 14:55:29', 319, 1, '{\"vbid\":\"L-999-74180\"}', 2449, 'InteractiveResource', '2015-04-25 14:55:29')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 146)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (5, '2015-04-25 14:55:29', 'IRTestGrade', '2015-04-25 14:55:29')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-04-25 14:55:29', 320, 1, '{\"vbid\":\"L-999-74180\"}', 2450, 'InteractiveResource', '2015-04-25 14:55:29')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 146)
  [1m[36m (2.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (6, '2015-04-25 14:55:29', 'IRTestGrade', '2015-04-25 14:55:29')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-04-25 14:55:29', 321, 1, '{\"vbid\":\"L-999-74180\"}', 2451, 'InteractiveResource', '2015-04-25 14:55:29')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (2.0ms)[0m  [1mUPDATE `lti2_tc_tools` SET `tool_proxy` = '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0261cc10-cd89-0132-5379-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"http://rails.kinexis.com:4000/tools/0260e530-cd89-0132-5379-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"0260e530-cd89-0132-5379-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0261cc10-cd89-0132-5379-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"543c4212f5dba09b9033bcc3cb8dcc2b\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', `updated_at` = '2015-04-25 14:55:29' WHERE `lti2_tc_tools`.`id` = 146[0m
  [1m[35m (0.3ms)[0m  COMMIT
Exit from Tool/create(POST)--status 201  content-type: application/vnd.ims.lti.v2.toolproxy.id+json
{"@context":"http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId","@type":"ToolProxy","@id":"http://rails.kinexis.com:4000/tools/0260e530-cd89-0132-5379-20c9d07c6451","tool_proxy_guid":"0260e530-cd89-0132-5379-20c9d07c6451"}
Completed 201 Created in 200ms (Views: 0.2ms | ActiveRecord: 81.5ms)
Started GET "/admin/tool_actions?status=success&tool_guid=0260e530-cd89-0132-5379-20c9d07c6451" for 127.0.0.1 at 2015-04-25 07:55:29 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"0260e530-cd89-0132-5379-20c9d07c6451"}
  [1m[36mAdminUser Load (0.9ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (6.9ms)[0m  SELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name
  Rendered admin/tool_actions/_tool_actions.html.haml (9.6ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (62.4ms)
Completed 200 OK in 67ms (Views: 56.6ms | ActiveRecord: 7.8ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:55:29 -0700
Started GET "/assets/active_admin/print.css" for 127.0.0.1 at 2015-04-25 07:55:29 -0700
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-25 07:55:29 -0700
Started GET "/assets/active_admin/nested_menu_arrow.gif" for 127.0.0.1 at 2015-04-25 07:55:29 -0700
Started GET "/assets/active_admin/nested_menu_arrow_dark.gif" for 127.0.0.1 at 2015-04-25 07:55:29 -0700
Started GET "/admin/tool_actions?method=toggle&tool_id=146&toggle=true" for 127.0.0.1 at 2015-04-25 07:55:31 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"method"=>"toggle", "tool_id"=>"146", "toggle"=>"true"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.3ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 146 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 146 LIMIT 1[0m  [["id", "146"]]
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tc_tools` SET `is_enabled` = 1, `updated_at` = '2015-04-25 14:55:31' WHERE `lti2_tc_tools`.`id` = 146[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mLti2Tc::Tool Load (0.4ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (0.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (31.6ms)
Completed 200 OK in 34ms (Views: 30.6ms | ActiveRecord: 1.9ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:55:31 -0700
Started GET "/assets/active_admin/print.css" for 127.0.0.1 at 2015-04-25 07:55:31 -0700
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-25 07:55:31 -0700
Started GET "/assets/active_admin/nested_menu_arrow.gif" for 127.0.0.1 at 2015-04-25 07:55:31 -0700
Started GET "/assets/active_admin/nested_menu_arrow_dark.gif" for 127.0.0.1 at 2015-04-25 07:55:31 -0700
Started GET "/admin/tool_actions?method=reregister&tool_id=146" for 127.0.0.1 at 2015-04-25 07:55:33 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"method"=>"reregister", "tool_id"=>"146"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.4ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 146 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 146 LIMIT 1  [["id", "146"]]
  [1m[36mLti2Tc::DeploymentRequest Load (0.3ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = '0260e530-cd89-0132-5379-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tc_tools` SET `registration_return_url` = 'http://rails.kinexis.com:4000/admin/tool_actions', `updated_at` = '2015-04-25 14:55:33' WHERE `lti2_tc_tools`.`id` = 146[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `status` = 'reregistering', `updated_at` = '2015-04-25 14:55:33' WHERE `lti2_tc_deployment_requests`.`id` = 287
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '0261cc10-cd89-0132-5379-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (3.6ms)[0m  UPDATE `lti2_tc_tool_consumer_profiles` SET `tc_profile` = '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0261cc10-cd89-0132-5379-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/0261cc10-cd89-0132-5379-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"0261cc10-cd89-0132-5379-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', `updated_at` = '2015-04-25 14:55:33' WHERE `lti2_tc_tool_consumer_profiles`.`id` = 250
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  Rendered inline template (0.4ms)
  [1m[35mLti2Tc::Tool Load (0.5ms)[0m  SELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name
  Rendered admin/tool_actions/_tool_actions.html.haml (0.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (46.7ms)
Completed 200 OK in 49ms (Views: 39.5ms | ActiveRecord: 8.3ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:55:33 -0700
Started GET "/assets/active_admin/print.css" for 127.0.0.1 at 2015-04-25 07:55:33 -0700
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-25 07:55:33 -0700
Started GET "/assets/active_admin/nested_menu_arrow.gif" for 127.0.0.1 at 2015-04-25 07:55:33 -0700
Started GET "/assets/active_admin/nested_menu_arrow_dark.gif" for 127.0.0.1 at 2015-04-25 07:55:33 -0700
Started GET "/lti2_tc/tool_consumer_profiles/0261cc10-cd89-0132-5379-20c9d07c6451" for 127.0.0.1 at 2015-04-25 07:55:33 -0700
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"0261cc10-cd89-0132-5379-20c9d07c6451"}
  [1m[36mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  [1mSELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '0261cc10-cd89-0132-5379-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1[0m
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0261cc10-cd89-0132-5379-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/0261cc10-cd89-0132-5379-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "0261cc10-cd89-0132-5379-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.3ms)
Started POST "/lti2_tc/tools" for 127.0.0.1 at 2015-04-25 07:55:36 -0700
Processing by Lti2Tc::ToolsController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"0260e530-cd89-0132-5379-20c9d07c6451", :oauth_nonce=>"2025482823672", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1429973736", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"2x2I4T8ea/yB3DbUULhdr1NH57k=", :oauth_signature=>"nqgyH4+i/1az3zCuoMbEUbZF4TM="}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '0261cc10-cd89-0132-5379-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
ToolProxy as received: 
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0261cc10-cd89-0132-5379-20c9d07c6451#"
    }
  ],
  "@type": "ToolProxy",
  "@id": "ToolProxyProposal_at_2015-04-25T14:55:36Z",
  "lti_version": "LTI-2p0",
  "tool_proxy_guid": "0260e530-cd89-0132-5379-20c9d07c6451",
  "tool_consumer_profile": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0261cc10-cd89-0132-5379-20c9d07c6451",
  "tool_profile": {
    "base_url_choice": [
      {
        "default_base_url": "http://rails.kinexis.com:5000",
        "selector": {
          "applies_to": [
            "IconEndpoint",
            "MessageHandler"
          ]
        }
      }
    ],
    "lti_version": "LTI-2p0",
    "message": [
      {
        "message_type": [
          "ToolProxyRegistrationRequest",
          "ToolProxyReregistrationRequest"
        ],
        "parameter": [
          {
            "name": "tc_profile_url",
            "variable": "ToolConsumerProfile.url"
          }
        ],
        "path": "http://rails.kinexis.com:5000/lti2_tp/reregistrations"
      }
    ],
    "product_instance": {
      "guid": "fd75124a-140e-470f-944c-114d2d92bb40",
      "product_info": {
        "description": {
          "default_value": "Fabericious reflowable ePub3 Textbook",
          "key": "tool.description"
        },
        "product_family": {
          "code": "assessment-tool",
          "vendor": {
            "code": "fabericious.org",
            "contact": {
              "email": "info@fabericious.com"
            },
            "description": {
              "default_value": "Fabericious is a leading provider of interactive tools for education",
              "key": "tool.vendor.description"
            },
            "vendor_name": {
              "default_value": "Fab",
              "key": "tool.vendor.name"
            },
            "timestamp": "2012-04-05T09:08:16-04:00",
            "website": "{http://rails.kinexis.com:5000}"
          }
        },
        "product_name": {
          "default_value": "LTI2 BookTools",
          "key": "tool.name"
        },
        "product_version": "10.3",
        "technical_description": {
          "default_value": "Support provided for all LTI 1 extensions as well as LTI 2",
          "key": "tool.technical"
        }
      },
      "service_provider": {
        "description": {
          "default_value": "Provider of high performance managed hosting environments",
          "key": "service_provider.description"
        },
        "guid": "18e7ea50-3d6d-4f6b-aff2-ed3ab577716c",
        "service_provider_name": {
          "default_value": "Amazon Cloud",
          "key": "service_provider.name"
        },
        "support": {
          "email": "support@ec2.fabericious.com"
        },
        "timestamp": "2012-04-05T09:08:16-04:00"
      },
      "support": {
        "email": "helpdesk@fabericious.com"
      }
    },
    "resource_handler": [
      {
        "description": {
          "default_value": "Settings service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "tool_proxy_custom_url",
                "variable": "ToolProxy.custom.url"
              },
              {
                "name": "tool_proxy_binding_custom_url",
                "variable": "ToolProxyBinding.custom.url"
              },
              {
                "name": "lti_link_custom_url",
                "variable": "LtiLink.custom.url"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "ToolProxy.custom.url",
              "ToolProxyBinding.custom.url",
              "LtiLink.custom.url"
            ],
            "path": "/settings"
          }
        ],
        "resource_name": {
          "default_value": "Settings",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "setting"
        }
      },
      {
        "description": {
          "default_value": "Echo service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "fixed": "Narcissus",
                "name": "referrer"
              },
              {
                "fixed": "3.14159",
                "name": "pi"
              },
              {
                "name": "user_primary_email",
                "variable": "Person.email.primary"
              },
              {
                "name": "discipline",
                "variable": "CourseOffering.label"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary"
            ],
            "path": "/echoes"
          }
        ],
        "resource_name": {
          "default_value": "Echo",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "echo"
        }
      },
      {
        "description": {
          "default_value": "Interactive resource",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "vbid"
              },
              {
                "name": "result_uri",
                "variable": "Result.uri"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "Result.autocreate"
            ],
            "path": "/iresources"
          }
        ],
        "resource_name": {
          "default_value": "InteractiveResource",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "iresource"
        }
      }
    ],
    "service_offered": [
      {
        "@id": "http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection",
        "@type": "RestService",
        "action": [
          "PUT"
        ],
        "endpoint": "http://rails.kinexis.com:5000/lti2_tp/tool_proxies",
        "format": [
          ""
        ]
      }
    ]
  },
  "security_contract": {
    "shared_secret": "7d183162b125ae8db3424eab62d703ce",
    "tool_service": [
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.collection",
        "action": [
          "POST"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:Result.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:LtiLinkSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxyBindingSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxySettings",
        "action": [
          "GET",
          "PUT"
        ]
      }
    ]
  }
}
  [1m[36mLti2Tc::DeploymentRequest Load (0.3ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = '0260e530-cd89-0132-5379-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (6.7ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `confirm_url` = 'http://rails.kinexis.com:5000/lti2_tp/tool_proxies/0260e530-cd89-0132-5379-20c9d07c6451?correlation=0dc16ae0-cd89-0132-537a-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0261cc10-cd89-0132-5379-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-04-25T14:55:36Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"0260e530-cd89-0132-5379-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0261cc10-cd89-0132-5379-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"7d183162b125ae8db3424eab62d703ce\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-04-25 14:55:36' WHERE `lti2_tc_deployment_requests`.`id` = 287[0m
  [1m[35m (21.7ms)[0m  COMMIT
  [1m[36mLti2Tc::Tool Load (0.4ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = '0260e530-cd89-0132-5379-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (2.2ms)[0m  [1mUPDATE `lti2_tc_tools` SET `status` = 'reregistering', `updated_at` = '2015-04-25 14:55:36' WHERE `lti2_tc_tools`.`id` = 146[0m
  [1m[35m (0.9ms)[0m  COMMIT
  Rendered text template (0.0ms)
Completed 201 Created in 45ms (Views: 3.2ms | ActiveRecord: 32.7ms)
Started GET "/admin/tool_actions?status=success" for 127.0.0.1 at 2015-04-25 07:55:36 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"status"=>"success"}
  [1m[36mAdminUser Load (0.5ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.4ms)[0m  SELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name
  Rendered admin/tool_actions/_tool_actions.html.haml (0.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (31.7ms)
Completed 200 OK in 36ms (Views: 32.2ms | ActiveRecord: 0.9ms)
Started GET "/assets/active_admin/print.css" for 127.0.0.1 at 2015-04-25 07:55:36 -0700
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:55:36 -0700
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-25 07:55:36 -0700
Started GET "/assets/active_admin/nested_menu_arrow.gif" for 127.0.0.1 at 2015-04-25 07:55:36 -0700
Started GET "/assets/active_admin/nested_menu_arrow_dark.gif" for 127.0.0.1 at 2015-04-25 07:55:36 -0700
Started GET "/lti2_tc/reregister_continue?tool_id=146" for 127.0.0.1 at 2015-04-25 07:55:37 -0700
Processing by Lti2Tc::ToolsController#reregister_continue as HTML
  Parameters: {"tool_id"=>"146"}
  [1m[36mLti2Tc::Tool Load (0.3ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 146 LIMIT 1[0m
  [1m[35mLti2Tc::DeploymentRequest Load (0.2ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = '0260e530-cd89-0132-5379-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `lti2_tc_tools` SET `secret` = '7d183162b125ae8db3424eab62d703ce', `status` = 'reregistered', `tool_proxy` = '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0261cc10-cd89-0132-5379-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"http://rails.kinexis.com:4000/tools/0260e530-cd89-0132-5379-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"0260e530-cd89-0132-5379-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0261cc10-cd89-0132-5379-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"7d183162b125ae8db3424eab62d703ce\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', `updated_at` = '2015-04-25 14:55:37' WHERE `lti2_tc_tools`.`id` = 146
  [1m[36m (12.1ms)[0m  [1mCOMMIT[0m
Redirected to http://rails.kinexis.com:4000/admin/tool_actions
Completed 302 Found in 60ms (ActiveRecord: 13.6ms)
Started GET "/admin/tool_actions" for 127.0.0.1 at 2015-04-25 07:55:37 -0700
Processing by Admin::ToolActionsController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.5ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (0.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (33.4ms)
Completed 200 OK in 36ms (Views: 33.7ms | ActiveRecord: 0.8ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:55:37 -0700
Started GET "/assets/active_admin/print.css" for 127.0.0.1 at 2015-04-25 07:55:37 -0700
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-25 07:55:37 -0700
Started GET "/assets/active_admin/nested_menu_arrow.gif" for 127.0.0.1 at 2015-04-25 07:55:38 -0700
Started GET "/assets/active_admin/nested_menu_arrow_dark.gif" for 127.0.0.1 at 2015-04-25 07:55:38 -0700
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-04-25 07:55:40 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  Rendered admin/dashboard/_dashboard.html.haml (0.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (24.0ms)
Completed 200 OK in 26ms (Views: 24.5ms | ActiveRecord: 0.3ms)
Started GET "/assets/active_admin/print.css" for 127.0.0.1 at 2015-04-25 07:55:40 -0700
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:55:40 -0700
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-25 07:55:40 -0700
Started GET "/assets/active_admin/nested_menu_arrow.gif" for 127.0.0.1 at 2015-04-25 07:55:40 -0700
Started GET "/admin/course_actions" for 127.0.0.1 at 2015-04-25 07:55:41 -0700
Processing by Admin::CourseActionsController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mCourse Load (1.0ms)[0m  SELECT `courses`.* FROM `courses`   ORDER BY course_label
  Rendered admin/course_actions/_course_actions.html.haml (2.7ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (80.3ms)
Completed 200 OK in 83ms (Views: 79.9ms | ActiveRecord: 1.3ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:55:41 -0700
Started GET "/assets/active_admin/print.css" for 127.0.0.1 at 2015-04-25 07:55:41 -0700
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-25 07:55:41 -0700
Started GET "/assets/active_admin/nested_menu_arrow.gif" for 127.0.0.1 at 2015-04-25 07:55:41 -0700
Started GET "/assets/active_admin/nested_menu_arrow_dark.gif" for 127.0.0.1 at 2015-04-25 07:55:41 -0700
Started GET "/admin/course_page?method=show&course_id=2" for 127.0.0.1 at 2015-04-25 07:55:43 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"show", "course_id"=>"2"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mCourse Load (0.4ms)[0m  SELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1
  [1m[36mLti2Tc::Link Load (0.6ms)[0m  [1mSELECT `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`course_id` = 2[0m
  [1m[35mGradeItem Load (0.7ms)[0m  SELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 319 LIMIT 1
  [1m[36mGradeResult Load (0.2ms)[0m  [1mSELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2449 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT `lti2_tc_resources`.* FROM `lti2_tc_resources`   ORDER BY resource_name
  [1m[36mGradeItem Load (0.1ms)[0m  [1mSELECT `grade_items`.* FROM `grade_items`   ORDER BY label[0m
  [1m[35mLti2Tc::Resource Load (0.3ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2443 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2446 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2449 LIMIT 1
  Rendered admin/course_page/_course_page.html.haml (7.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (48.5ms)
Completed 200 OK in 53ms (Views: 46.2ms | ActiveRecord: 3.6ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:55:43 -0700
Started GET "/assets/active_admin/print.css" for 127.0.0.1 at 2015-04-25 07:55:43 -0700
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-25 07:55:43 -0700
Started GET "/assets/active_admin/nested_menu_arrow.gif" for 127.0.0.1 at 2015-04-25 07:55:43 -0700
Started GET "/assets/active_admin/nested_menu_arrow_dark.gif" for 127.0.0.1 at 2015-04-25 07:55:43 -0700
Started GET "/admin/course_page?method=link&link_id=2446" for 127.0.0.1 at 2015-04-25 07:55:46 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"link", "link_id"=>"2446"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Link Load (0.3ms)[0m  SELECT  `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`id` = 2446 LIMIT 1
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1[0m
  [1m[35mEnrollment Load (0.3ms)[0m  SELECT  `enrollments`.* FROM `enrollments`  WHERE `enrollments`.`admin_user_id` = 2 AND `enrollments`.`course_id` = 2  ORDER BY `enrollments`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2446 LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.2ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 146 LIMIT 1
  [1m[36mLti2Tc::ToolSetting Load (0.7ms)[0m  [1mSELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 146 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Tool'[0m
  [1m[35mLti2Tc::ToolSetting Load (0.3ms)[0m  SELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 146 AND `lti2_tc_tool_settings`.`scopeable_id` = 2 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Context'
  [1m[36mLti2Tc::ToolSetting Load (0.2ms)[0m  [1mSELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 146 AND `lti2_tc_tool_settings`.`scopeable_id` = 2446 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Ltilink'[0m
  Rendered inline template (0.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (78.8ms)
Completed 200 OK in 81ms (Views: 54.8ms | ActiveRecord: 24.9ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:55:46 -0700
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-25 07:55:46 -0700
Started GET "/assets/active_admin/print.css" for 127.0.0.1 at 2015-04-25 07:55:46 -0700
Started GET "/assets/active_admin/nested_menu_arrow.gif" for 127.0.0.1 at 2015-04-25 07:55:46 -0700
Started GET "/assets/active_admin/nested_menu_arrow_dark.gif" for 127.0.0.1 at 2015-04-25 07:55:46 -0700
Started GET "/admin/course_page?method=show&course_id=2" for 127.0.0.1 at 2015-04-25 07:55:48 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"show", "course_id"=>"2"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1[0m
  [1m[35mLti2Tc::Link Load (0.2ms)[0m  SELECT `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`course_id` = 2
  [1m[36mGradeItem Load (0.3ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 319 LIMIT 1[0m
  [1m[35mGradeResult Load (0.3ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 2449 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT `lti2_tc_resources`.* FROM `lti2_tc_resources`   ORDER BY resource_name[0m
  [1m[35mGradeItem Load (0.3ms)[0m  SELECT `grade_items`.* FROM `grade_items`   ORDER BY label
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2443 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2446 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 2449 LIMIT 1[0m
  Rendered admin/course_page/_course_page.html.haml (5.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (41.4ms)
Completed 200 OK in 44ms (Views: 39.4ms | ActiveRecord: 2.9ms)
Started GET "/assets/active_admin/print.css" for 127.0.0.1 at 2015-04-25 07:55:48 -0700
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-04-25 07:55:48 -0700
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-04-25 07:55:48 -0700
Started GET "/assets/active_admin/nested_menu_arrow.gif" for 127.0.0.1 at 2015-04-25 07:55:48 -0700
Started GET "/assets/active_admin/nested_menu_arrow_dark.gif" for 127.0.0.1 at 2015-04-25 07:55:48 -0700
Started GET "/assets/active_admin/nested_menu_arrow_dark.gif" for 127.0.0.1 at 2015-04-25 07:55:51 -0700
  [1m[36mLti2Tc::Registry Load (0.5ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mSQL (12.5ms)[0m  [1mDELETE FROM `lti2_tc_deployment_requests`[0m
  [1m[35mSQL (15.0ms)[0m  DELETE FROM `lti2_tc_tool_consumer_profiles`
  [1m[36mSQL (9.8ms)[0m  [1mDELETE FROM `lti2_tc_resources`[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `lti2_tc_tools`
  [1m[36mSQL (1.6ms)[0m  [1mDELETE FROM `lti2_tc_links`[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `grade_items`
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `grade_results`[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `lti2_tc_tool_settings`
  [1m[36mLti2Tc::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mLti2Tc::Registry Load (6.2ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
Started GET "/admin/" for 127.0.0.1 at 2015-05-06 09:01:02 -0400
Processing by Admin::DashboardController#index as HTML
Completed 401 Unauthorized in 1ms
Started GET "/admin/login" for 127.0.0.1 at 2015-05-06 09:01:03 -0400
Processing by ActiveAdmin::Devise::SessionsController#new as HTML
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/devise/shared/_links.erb (1.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out (106.7ms)
Completed 200 OK in 244ms (Views: 208.2ms | ActiveRecord: 19.3ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-05-06 09:01:03 -0400
Started GET "/assets/active_admin/print.css" for 127.0.0.1 at 2015-05-06 09:01:03 -0400
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-05-06 09:01:03 -0400
Started POST "/admin/login" for 127.0.0.1 at 2015-05-06 09:01:07 -0400
Processing by ActiveAdmin::Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "admin_user"=>{"email"=>"admin@lumos.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"<p>active_admin.devise.login.submit</p>"}
  [1m[35mAdminUser Load (13.5ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`email` = 'admin@lumos.org'  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.4ms)[0m  UPDATE `admin_users` SET `current_sign_in_at` = '2015-05-06 13:01:07', `last_sign_in_at` = '2015-04-23 23:50:48', `sign_in_count` = 225, `updated_at` = '2015-05-06 13:01:07' WHERE `admin_users`.`id` = 2
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:4000/admin
Completed 302 Found in 111ms (ActiveRecord: 16.3ms)
Started GET "/admin" for 127.0.0.1 at 2015-05-06 09:01:07 -0400
Processing by Admin::DashboardController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  Rendered admin/dashboard/_dashboard.html.haml (6.2ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (37.7ms)
Completed 200 OK in 45ms (Views: 40.6ms | ActiveRecord: 0.3ms)
Started GET "/assets/active_admin/nested_menu_arrow.gif" for 127.0.0.1 at 2015-05-06 09:01:08 -0400
Started GET "/admin/admin_actions" for 127.0.0.1 at 2015-05-06 09:01:14 -0400
Processing by Admin::AdminActionsController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  Rendered admin/admin_actions/_admin_actions.html.haml (2.9ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (28.2ms)
Completed 200 OK in 30ms (Views: 28.9ms | ActiveRecord: 0.3ms)
Started GET "/assets/active_admin/nested_menu_arrow_dark.gif" for 127.0.0.1 at 2015-05-06 09:01:14 -0400
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 09:01:16 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 13:01:16', 'e7a3f530-d61d-0132-88ed-20c9d07c6451', '6fb272bded7b3c67af72a72cf991d280', 'prepared', 'e7a5b920-d61d-0132-88ed-20c9d07c6451', '2015-05-06 13:01:16')
  [1m[36m (5.7ms)[0m  [1mCOMMIT[0m
  Rendered admin/register_new_tool/_register_new_tool.html.haml (2.7ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (69.8ms)
Completed 200 OK in 72ms (Views: 58.4ms | ActiveRecord: 12.4ms)
Started POST "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 09:01:21 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  Parameters: {"registration_url"=>"http://localhost:5000/lti2_tp/registrations"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::DeploymentRequest Load (0.4ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `partner_url` = 'http://localhost:5000/lti2_tp/registrations', `updated_at` = '2015-05-06 13:01:21' WHERE `lti2_tc_deployment_requests`.`id` = 1[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `status` = 'submitted', `updated_at` = '2015-05-06 13:01:21' WHERE `lti2_tc_deployment_requests`.`id` = 1
  [1m[36m (6.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `lti2_tc_tool_consumer_profiles` (`created_at`, `tc_profile`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 13:01:21', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/{tc_profile_guid}#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"e7a5b920-d61d-0132-88ed-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\",\n    \"OAuth.splitsecret\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', 'e7a5b920-d61d-0132-88ed-20c9d07c6451', '2015-05-06 13:01:21')[0m
  [1m[35m (12.0ms)[0m  COMMIT
  Rendered inline template (0.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (87.0ms)
Completed 200 OK in 89ms (Views: 45.9ms | ActiveRecord: 41.7ms)
Started GET "/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451" for 127.0.0.1 at 2015-05-06 09:01:22 -0400
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"e7a5b920-d61d-0132-88ed-20c9d07c6451"}
  [1m[36mLti2Tc::ToolConsumerProfile Load (0.4ms)[0m  [1mSELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = 'e7a5b920-d61d-0132-88ed-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1[0m
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "e7a5b920-d61d-0132-88ed-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url",
    "OAuth.splitsecret"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 8ms (Views: 1.4ms | ActiveRecord: 0.4ms)
Started POST "/lti2_tc/tools" for 127.0.0.1 at 2015-05-06 09:06:37 -0400
Processing by Lti2Tc::ToolsController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"e7a3f530-d61d-0132-88ed-20c9d07c6451", :oauth_nonce=>"6688294534851", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1430917597", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"ncCu2MtJEstc0YxNa3WrYmlhQQ0=", :oauth_signature=>"Y1b3pgVfk+SVOgmHfjvnv85I3Ko="}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = 'e7a5b920-d61d-0132-88ed-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
ToolProxy as received: 
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451#"
    }
  ],
  "@type": "ToolProxy",
  "@id": "ToolProxyProposal_at_2015-05-06T13:01:34Z",
  "lti_version": "LTI-2p0",
  "tool_proxy_guid": "e7a3f530-d61d-0132-88ed-20c9d07c6451",
  "tool_consumer_profile": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451",
  "tool_profile": {
    "base_url_choice": [
      {
        "default_base_url": "http://rails.kinexis.com:5000",
        "selector": {
          "applies_to": [
            "IconEndpoint",
            "MessageHandler"
          ]
        }
      }
    ],
    "lti_version": "LTI-2p0",
    "message": [
      {
        "message_type": [
          "ToolProxyRegistrationRequest",
          "ToolProxyReregistrationRequest"
        ],
        "parameter": [
          {
            "name": "tc_profile_url",
            "variable": "ToolConsumerProfile.url"
          }
        ],
        "path": "http://rails.kinexis.com:5000/lti2_tp/reregistrations"
      }
    ],
    "product_instance": {
      "guid": "fd75124a-140e-470f-944c-114d2d92bb40",
      "product_info": {
        "description": {
          "default_value": "Fabericious reflowable ePub3 Textbook",
          "key": "tool.description"
        },
        "product_family": {
          "code": "assessment-tool",
          "vendor": {
            "code": "fabericious.org",
            "contact": {
              "email": "info@fabericious.com"
            },
            "description": {
              "default_value": "Fabericious is a leading provider of interactive tools for education",
              "key": "tool.vendor.description"
            },
            "vendor_name": {
              "default_value": "Fab",
              "key": "tool.vendor.name"
            },
            "timestamp": "2012-04-05T09:08:16-04:00",
            "website": "{http://rails.kinexis.com:5000}"
          }
        },
        "product_name": {
          "default_value": "LTI2 BookTools",
          "key": "tool.name"
        },
        "product_version": "10.3",
        "technical_description": {
          "default_value": "Support provided for all LTI 1 extensions as well as LTI 2",
          "key": "tool.technical"
        }
      },
      "service_provider": {
        "description": {
          "default_value": "Provider of high performance managed hosting environments",
          "key": "service_provider.description"
        },
        "guid": "18e7ea50-3d6d-4f6b-aff2-ed3ab577716c",
        "service_provider_name": {
          "default_value": "Amazon Cloud",
          "key": "service_provider.name"
        },
        "support": {
          "email": "support@ec2.fabericious.com"
        },
        "timestamp": "2012-04-05T09:08:16-04:00"
      },
      "support": {
        "email": "helpdesk@fabericious.com"
      }
    },
    "resource_handler": [
      {
        "description": {
          "default_value": "Settings service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "tool_proxy_custom_url",
                "variable": "ToolProxy.custom.url"
              },
              {
                "name": "tool_proxy_binding_custom_url",
                "variable": "ToolProxyBinding.custom.url"
              },
              {
                "name": "lti_link_custom_url",
                "variable": "LtiLink.custom.url"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "ToolProxy.custom.url",
              "ToolProxyBinding.custom.url",
              "LtiLink.custom.url"
            ],
            "path": "/settings"
          }
        ],
        "resource_name": {
          "default_value": "Settings",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "setting"
        }
      },
      {
        "description": {
          "default_value": "Echo service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "fixed": "Narcissus",
                "name": "referrer"
              },
              {
                "fixed": "3.14159",
                "name": "pi"
              },
              {
                "name": "user_primary_email",
                "variable": "Person.email.primary"
              },
              {
                "name": "discipline",
                "variable": "CourseOffering.label"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary"
            ],
            "path": "/echoes"
          }
        ],
        "resource_name": {
          "default_value": "Echo",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "echo"
        }
      },
      {
        "description": {
          "default_value": "Interactive resource",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "vbid"
              },
              {
                "name": "result_uri",
                "variable": "Result.uri"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "Result.autocreate"
            ],
            "path": "/iresources"
          }
        ],
        "resource_name": {
          "default_value": "InteractiveResource",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "iresource"
        }
      }
    ],
    "service_offered": [
      {
        "@id": "http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection",
        "@type": "RestService",
        "action": [
          "PUT"
        ],
        "endpoint": "http://rails.kinexis.com:5000/lti2_tp/tool_proxies",
        "format": [
          ""
        ]
      }
    ]
  },
  "security_contract": {
    "shared_secret": "6c19707301d076fd40c12ffd53062091",
    "tool_service": [
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.collection",
        "action": [
          "POST"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:Result.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:LtiLinkSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxyBindingSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxySettings",
        "action": [
          "GET",
          "PUT"
        ]
      }
    ]
  }
}
  [1m[36mLti2Tc::DeploymentRequest Load (0.2ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = 'e7a3f530-d61d-0132-88ed-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-05-06T13:01:34Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"e7a3f530-d61d-0132-88ed-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"6c19707301d076fd40c12ffd53062091\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-05-06 13:06:37' WHERE `lti2_tc_deployment_requests`.`id` = 1[0m
  [1m[35m (11.6ms)[0m  COMMIT
AuthHdr_Parms: {:oauth_consumer_key=>"e7a3f530-d61d-0132-88ed-20c9d07c6451", :oauth_nonce=>"6688294534851", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1430917597", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"ncCu2MtJEstc0YxNa3WrYmlhQQ0=", :oauth_signature=>"Y1b3pgVfk+SVOgmHfjvnv85I3Ko="}
in verify_signature
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `lti2_tc_tools` (`created_at`, `description`, `is_enabled`, `key`, `product_name`, `secret`, `status`, `tool_proxy`, `updated_at`) VALUES ('2015-05-06 13:06:37', 'Fabericious reflowable ePub3 Textbook', 0, 'e7a3f530-d61d-0132-88ed-20c9d07c6451', 'LTI2 BookTools', '6c19707301d076fd40c12ffd53062091', 'registered', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"ToolProxyProposal_at_2015-05-06T13:01:34Z\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"e7a3f530-d61d-0132-88ed-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"6c19707301d076fd40c12ffd53062091\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', '2015-05-06 13:06:37')
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 1)[0m
  [1m[35m (6.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-05-06 13:06:37', 1, '{}', 1, 'Settings', '2015-05-06 13:06:37')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 1)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-05-06 13:06:37', 1, '{}', 2, 'Settings', '2015-05-06 13:06:37')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 1)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-05-06 13:06:37', 1, '{}', 3, 'Settings', '2015-05-06 13:06:37')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 1)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-05-06 13:06:37', 1, '{}', 4, 'Echo', '2015-05-06 13:06:37')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 1)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-05-06 13:06:37', 1, '{}', 5, 'Echo', '2015-05-06 13:06:37')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 1)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-05-06 13:06:37', 1, '{}', 6, 'Echo', '2015-05-06 13:06:37')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 1)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (2, '2015-05-06 13:06:37', 'IRTestGrade', '2015-05-06 13:06:37')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-05-06 13:06:37', 1, 1, '{\"vbid\":\"L-999-74180\"}', 7, 'InteractiveResource', '2015-05-06 13:06:37')[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 1)
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (5, '2015-05-06 13:06:37', 'IRTestGrade', '2015-05-06 13:06:37')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-05-06 13:06:37', 2, 1, '{\"vbid\":\"L-999-74180\"}', 8, 'InteractiveResource', '2015-05-06 13:06:37')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 1)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (6, '2015-05-06 13:06:37', 'IRTestGrade', '2015-05-06 13:06:37')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-05-06 13:06:37', 3, 1, '{\"vbid\":\"L-999-74180\"}', 9, 'InteractiveResource', '2015-05-06 13:06:37')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (3.2ms)[0m  UPDATE `lti2_tc_tools` SET `tool_proxy` = '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"http://rails.kinexis.com:4000/tools/e7a3f530-d61d-0132-88ed-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"e7a3f530-d61d-0132-88ed-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"6c19707301d076fd40c12ffd53062091\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', `updated_at` = '2015-05-06 13:06:37' WHERE `lti2_tc_tools`.`id` = 1
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
Exit from Tool/create(POST)--status 201  content-type: application/vnd.ims.lti.v2.toolproxy.id+json
{"@context":"http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId","@type":"ToolProxy","@id":"http://rails.kinexis.com:4000/tools/e7a3f530-d61d-0132-88ed-20c9d07c6451","tool_proxy_guid":"e7a3f530-d61d-0132-88ed-20c9d07c6451"}
Completed 201 Created in 189ms (Views: 0.4ms | ActiveRecord: 87.6ms)
Started GET "/admin/tool_actions?status=success&tool_guid=e7a3f530-d61d-0132-88ed-20c9d07c6451" for 127.0.0.1 at 2015-05-06 09:06:38 -0400
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"e7a3f530-d61d-0132-88ed-20c9d07c6451"}
Completed 401 Unauthorized in 1ms
Started GET "/admin/login" for 127.0.0.1 at 2015-05-06 09:06:38 -0400
Processing by ActiveAdmin::Devise::SessionsController#new as HTML
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/devise/shared/_links.erb (0.6ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out (14.4ms)
Completed 200 OK in 17ms (Views: 15.9ms | ActiveRecord: 0.0ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-05-06 09:06:38 -0400
Started GET "/assets/active_admin/print.css" for 127.0.0.1 at 2015-05-06 09:06:38 -0400
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-05-06 09:06:38 -0400
Started POST "/admin/login" for 127.0.0.1 at 2015-05-06 09:07:18 -0400
Processing by ActiveAdmin::Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "admin_user"=>{"email"=>"admin@lumos.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"<p>active_admin.devise.login.submit</p>"}
  [1m[35mAdminUser Load (0.5ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`email` = 'admin@lumos.org'  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `admin_users` SET `current_sign_in_at` = '2015-05-06 13:07:18', `last_sign_in_at` = '2015-05-06 13:01:07', `sign_in_count` = 226, `updated_at` = '2015-05-06 13:07:18' WHERE `admin_users`.`id` = 2
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success&tool_guid=e7a3f530-d61d-0132-88ed-20c9d07c6451
Completed 302 Found in 72ms (ActiveRecord: 1.3ms)
Started GET "/admin/tool_actions?status=success&tool_guid=e7a3f530-d61d-0132-88ed-20c9d07c6451" for 127.0.0.1 at 2015-05-06 09:07:18 -0400
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"e7a3f530-d61d-0132-88ed-20c9d07c6451"}
  [1m[35mAdminUser Load (0.4ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.5ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (4.8ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (35.6ms)
Completed 200 OK in 38ms (Views: 35.9ms | ActiveRecord: 0.9ms)
Started GET "/assets/active_admin/nested_menu_arrow.gif" for 127.0.0.1 at 2015-05-06 09:07:18 -0400
Started GET "/assets/active_admin/nested_menu_arrow_dark.gif" for 127.0.0.1 at 2015-05-06 09:07:18 -0400
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-05-06 09:07:23 -0400
Processing by Admin::DashboardController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  Rendered admin/dashboard/_dashboard.html.haml (0.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (24.1ms)
Completed 200 OK in 26ms (Views: 24.6ms | ActiveRecord: 0.3ms)
Started GET "/admin/admin_actions" for 127.0.0.1 at 2015-05-06 09:07:30 -0400
Processing by Admin::AdminActionsController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  Rendered admin/admin_actions/_admin_actions.html.haml (0.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (25.9ms)
Completed 200 OK in 28ms (Views: 26.4ms | ActiveRecord: 0.3ms)
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 09:07:34 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 13:07:34', 'c8f5c000-d61e-0132-88ed-20c9d07c6451', '2420bb0ddfd2fe3cde1f21c89e60dcc1', 'prepared', 'c8f5c420-d61e-0132-88ed-20c9d07c6451', '2015-05-06 13:07:34')
  [1m[36m (3.0ms)[0m  [1mCOMMIT[0m
  Rendered admin/register_new_tool/_register_new_tool.html.haml (0.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (31.4ms)
Completed 200 OK in 34ms (Views: 28.6ms | ActiveRecord: 3.8ms)
Started POST "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 09:07:38 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  Parameters: {"registration_url"=>"http://localhost:5000/lti2_tp/registrations"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::DeploymentRequest Load (0.4ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `partner_url` = 'http://localhost:5000/lti2_tp/registrations', `updated_at` = '2015-05-06 13:07:38' WHERE `lti2_tc_deployment_requests`.`id` = 2[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `status` = 'submitted', `updated_at` = '2015-05-06 13:07:38' WHERE `lti2_tc_deployment_requests`.`id` = 2
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO `lti2_tc_tool_consumer_profiles` (`created_at`, `tc_profile`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 13:07:38', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"c8f5c420-d61e-0132-88ed-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\",\n    \"OAuth.splitsecret\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', 'c8f5c420-d61e-0132-88ed-20c9d07c6451', '2015-05-06 13:07:38')[0m
  [1m[35m (1.0ms)[0m  COMMIT
  Rendered inline template (0.9ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (44.3ms)
Completed 200 OK in 46ms (Views: 40.0ms | ActiveRecord: 5.0ms)
Started GET "/lti2_tc/tool_consumer_profiles/c8f5c420-d61e-0132-88ed-20c9d07c6451" for 127.0.0.1 at 2015-05-06 09:07:39 -0400
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"c8f5c420-d61e-0132-88ed-20c9d07c6451"}
  [1m[36mLti2Tc::ToolConsumerProfile Load (1.2ms)[0m  [1mSELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = 'c8f5c420-d61e-0132-88ed-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1[0m
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "c8f5c420-d61e-0132-88ed-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url",
    "OAuth.splitsecret"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 8ms (Views: 2.2ms | ActiveRecord: 1.2ms)
Started POST "/lti2_tc/tools" for 127.0.0.1 at 2015-05-06 09:08:39 -0400
Processing by Lti2Tc::ToolsController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"c8f5c000-d61e-0132-88ed-20c9d07c6451", :oauth_nonce=>"2334782360654", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1430917719", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"W+Aha6z1fnre1vfkiUfiAtdUSMw=", :oauth_signature=>"/dQvxeqBibw+E8gTqfTdynBWYfA="}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.4ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = 'c8f5c420-d61e-0132-88ed-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
ToolProxy as received: 
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451#"
    }
  ],
  "@type": "ToolProxy",
  "@id": "ToolProxyProposal_at_2015-05-06T13:08:38Z",
  "lti_version": "LTI-2p0",
  "tool_proxy_guid": "c8f5c000-d61e-0132-88ed-20c9d07c6451",
  "tool_consumer_profile": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/c8f5c420-d61e-0132-88ed-20c9d07c6451",
  "tool_profile": {
    "base_url_choice": [
      {
        "default_base_url": "http://rails.kinexis.com:5000",
        "selector": {
          "applies_to": [
            "IconEndpoint",
            "MessageHandler"
          ]
        }
      }
    ],
    "lti_version": "LTI-2p0",
    "message": [
      {
        "message_type": [
          "ToolProxyRegistrationRequest",
          "ToolProxyReregistrationRequest"
        ],
        "parameter": [
          {
            "name": "tc_profile_url",
            "variable": "ToolConsumerProfile.url"
          }
        ],
        "path": "http://rails.kinexis.com:5000/lti2_tp/reregistrations"
      }
    ],
    "product_instance": {
      "guid": "fd75124a-140e-470f-944c-114d2d92bb40",
      "product_info": {
        "description": {
          "default_value": "Fabericious reflowable ePub3 Textbook",
          "key": "tool.description"
        },
        "product_family": {
          "code": "assessment-tool",
          "vendor": {
            "code": "fabericious.org",
            "contact": {
              "email": "info@fabericious.com"
            },
            "description": {
              "default_value": "Fabericious is a leading provider of interactive tools for education",
              "key": "tool.vendor.description"
            },
            "vendor_name": {
              "default_value": "Fab",
              "key": "tool.vendor.name"
            },
            "timestamp": "2012-04-05T09:08:16-04:00",
            "website": "{http://rails.kinexis.com:5000}"
          }
        },
        "product_name": {
          "default_value": "LTI2 BookTools",
          "key": "tool.name"
        },
        "product_version": "10.3",
        "technical_description": {
          "default_value": "Support provided for all LTI 1 extensions as well as LTI 2",
          "key": "tool.technical"
        }
      },
      "service_provider": {
        "description": {
          "default_value": "Provider of high performance managed hosting environments",
          "key": "service_provider.description"
        },
        "guid": "18e7ea50-3d6d-4f6b-aff2-ed3ab577716c",
        "service_provider_name": {
          "default_value": "Amazon Cloud",
          "key": "service_provider.name"
        },
        "support": {
          "email": "support@ec2.fabericious.com"
        },
        "timestamp": "2012-04-05T09:08:16-04:00"
      },
      "support": {
        "email": "helpdesk@fabericious.com"
      }
    },
    "resource_handler": [
      {
        "description": {
          "default_value": "Settings service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "tool_proxy_custom_url",
                "variable": "ToolProxy.custom.url"
              },
              {
                "name": "tool_proxy_binding_custom_url",
                "variable": "ToolProxyBinding.custom.url"
              },
              {
                "name": "lti_link_custom_url",
                "variable": "LtiLink.custom.url"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "ToolProxy.custom.url",
              "ToolProxyBinding.custom.url",
              "LtiLink.custom.url"
            ],
            "path": "/settings"
          }
        ],
        "resource_name": {
          "default_value": "Settings",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "setting"
        }
      },
      {
        "description": {
          "default_value": "Echo service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "fixed": "Narcissus",
                "name": "referrer"
              },
              {
                "fixed": "3.14159",
                "name": "pi"
              },
              {
                "name": "user_primary_email",
                "variable": "Person.email.primary"
              },
              {
                "name": "discipline",
                "variable": "CourseOffering.label"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary"
            ],
            "path": "/echoes"
          }
        ],
        "resource_name": {
          "default_value": "Echo",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "echo"
        }
      },
      {
        "description": {
          "default_value": "Interactive resource",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "vbid"
              },
              {
                "name": "result_uri",
                "variable": "Result.uri"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "Result.autocreate"
            ],
            "path": "/iresources"
          }
        ],
        "resource_name": {
          "default_value": "InteractiveResource",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "iresource"
        }
      }
    ],
    "service_offered": [
      {
        "@id": "http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection",
        "@type": "RestService",
        "action": [
          "PUT"
        ],
        "endpoint": "http://rails.kinexis.com:5000/lti2_tp/tool_proxies",
        "format": [
          ""
        ]
      }
    ]
  },
  "security_contract": {
    "shared_secret": "b2cf258546e16aaa90c645382b846dd7",
    "tool_service": [
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.collection",
        "action": [
          "POST"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:Result.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:LtiLinkSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxyBindingSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxySettings",
        "action": [
          "GET",
          "PUT"
        ]
      }
    ]
  }
}
  [1m[36mLti2Tc::DeploymentRequest Load (0.4ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = 'c8f5c000-d61e-0132-88ed-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-05-06T13:08:38Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"c8f5c000-d61e-0132-88ed-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/c8f5c420-d61e-0132-88ed-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"b2cf258546e16aaa90c645382b846dd7\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-05-06 13:08:39' WHERE `lti2_tc_deployment_requests`.`id` = 2[0m
  [1m[35m (11.2ms)[0m  COMMIT
AuthHdr_Parms: {:oauth_consumer_key=>"c8f5c000-d61e-0132-88ed-20c9d07c6451", :oauth_nonce=>"2334782360654", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1430917719", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"W+Aha6z1fnre1vfkiUfiAtdUSMw=", :oauth_signature=>"/dQvxeqBibw+E8gTqfTdynBWYfA="}
in verify_signature
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `lti2_tc_tools` (`created_at`, `description`, `is_enabled`, `key`, `product_name`, `secret`, `status`, `tool_proxy`, `updated_at`) VALUES ('2015-05-06 13:08:39', 'Fabericious reflowable ePub3 Textbook', 0, 'c8f5c000-d61e-0132-88ed-20c9d07c6451', 'LTI2 BookTools', 'b2cf258546e16aaa90c645382b846dd7', 'registered', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"ToolProxyProposal_at_2015-05-06T13:08:38Z\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"c8f5c000-d61e-0132-88ed-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/c8f5c420-d61e-0132-88ed-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"b2cf258546e16aaa90c645382b846dd7\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', '2015-05-06 13:08:39')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 2)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-05-06 13:08:39', 1, '{}', 10, 'Settings', '2015-05-06 13:08:39')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 2)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-05-06 13:08:39', 1, '{}', 11, 'Settings', '2015-05-06 13:08:39')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 2)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-05-06 13:08:39', 1, '{}', 12, 'Settings', '2015-05-06 13:08:39')
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 2)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-05-06 13:08:39', 1, '{}', 13, 'Echo', '2015-05-06 13:08:39')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 2)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-05-06 13:08:39', 1, '{}', 14, 'Echo', '2015-05-06 13:08:39')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 2)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-05-06 13:08:39', 1, '{}', 15, 'Echo', '2015-05-06 13:08:39')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 2)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (2, '2015-05-06 13:08:39', 'IRTestGrade', '2015-05-06 13:08:39')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-05-06 13:08:39', 4, 1, '{\"vbid\":\"L-999-74180\"}', 16, 'InteractiveResource', '2015-05-06 13:08:39')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 2)
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (5, '2015-05-06 13:08:39', 'IRTestGrade', '2015-05-06 13:08:39')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-05-06 13:08:39', 5, 1, '{\"vbid\":\"L-999-74180\"}', 17, 'InteractiveResource', '2015-05-06 13:08:39')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 2)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (6, '2015-05-06 13:08:39', 'IRTestGrade', '2015-05-06 13:08:39')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-05-06 13:08:39', 6, 1, '{\"vbid\":\"L-999-74180\"}', 18, 'InteractiveResource', '2015-05-06 13:08:39')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE `lti2_tc_tools` SET `tool_proxy` = '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"http://rails.kinexis.com:4000/tools/c8f5c000-d61e-0132-88ed-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"c8f5c000-d61e-0132-88ed-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/c8f5c420-d61e-0132-88ed-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"b2cf258546e16aaa90c645382b846dd7\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', `updated_at` = '2015-05-06 13:08:39' WHERE `lti2_tc_tools`.`id` = 2
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
Exit from Tool/create(POST)--status 201  content-type: application/vnd.ims.lti.v2.toolproxy.id+json
{"@context":"http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId","@type":"ToolProxy","@id":"http://rails.kinexis.com:4000/tools/c8f5c000-d61e-0132-88ed-20c9d07c6451","tool_proxy_guid":"c8f5c000-d61e-0132-88ed-20c9d07c6451"}
Completed 201 Created in 59ms (Views: 0.3ms | ActiveRecord: 26.5ms)
Started GET "/admin/tool_actions?status=success&tool_guid=c8f5c000-d61e-0132-88ed-20c9d07c6451" for 127.0.0.1 at 2015-05-06 09:08:39 -0400
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"c8f5c000-d61e-0132-88ed-20c9d07c6451"}
  [1m[35mAdminUser Load (0.4ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.4ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (0.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (26.9ms)
Completed 200 OK in 74ms (Views: 71.8ms | ActiveRecord: 0.8ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-05-06 09:10:24 -0400
Processing by Admin::DashboardController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  Rendered admin/dashboard/_dashboard.html.haml (0.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (35.9ms)
Completed 200 OK in 39ms (Views: 36.6ms | ActiveRecord: 0.3ms)
Started GET "/admin/admin_actions" for 127.0.0.1 at 2015-05-06 09:10:27 -0400
Processing by Admin::AdminActionsController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  Rendered admin/admin_actions/_admin_actions.html.haml (0.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (28.5ms)
Completed 200 OK in 31ms (Views: 29.1ms | ActiveRecord: 0.3ms)
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 09:10:28 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 13:10:28', '30ff7650-d61f-0132-88ed-20c9d07c6451', '2d6d77bf89ab860b6e7cce8fb7c767f7', 'prepared', '30ff7b40-d61f-0132-88ed-20c9d07c6451', '2015-05-06 13:10:28')
  [1m[36m (2.8ms)[0m  [1mCOMMIT[0m
  Rendered admin/register_new_tool/_register_new_tool.html.haml (0.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (35.9ms)
Completed 200 OK in 38ms (Views: 32.5ms | ActiveRecord: 4.2ms)
Started POST "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 09:10:32 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  Parameters: {"registration_url"=>"http://localhost:5000/lti2_tp/registrations"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::DeploymentRequest Load (0.3ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `partner_url` = 'http://localhost:5000/lti2_tp/registrations', `updated_at` = '2015-05-06 13:10:32' WHERE `lti2_tc_deployment_requests`.`id` = 3[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `status` = 'submitted', `updated_at` = '2015-05-06 13:10:32' WHERE `lti2_tc_deployment_requests`.`id` = 3
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO `lti2_tc_tool_consumer_profiles` (`created_at`, `tc_profile`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 13:10:32', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"30ff7b40-d61f-0132-88ed-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\",\n    \"OAuth.splitsecret\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', '30ff7b40-d61f-0132-88ed-20c9d07c6451', '2015-05-06 13:10:32')[0m
  [1m[35m (0.9ms)[0m  COMMIT
  Rendered inline template (0.7ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (39.5ms)
Completed 200 OK in 42ms (Views: 36.1ms | ActiveRecord: 4.2ms)
Started GET "/lti2_tc/tool_consumer_profiles/30ff7b40-d61f-0132-88ed-20c9d07c6451" for 127.0.0.1 at 2015-05-06 09:10:32 -0400
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"30ff7b40-d61f-0132-88ed-20c9d07c6451"}
  [1m[36mLti2Tc::ToolConsumerProfile Load (0.4ms)[0m  [1mSELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '30ff7b40-d61f-0132-88ed-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1[0m
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "30ff7b40-d61f-0132-88ed-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url",
    "OAuth.splitsecret"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.4ms)
Started GET "/lti2_tc/tool_consumer_profiles/30ff7b40-d61f-0132-88ed-20c9d07c6451" for 127.0.0.1 at 2015-05-06 09:16:49 -0400
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"30ff7b40-d61f-0132-88ed-20c9d07c6451"}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.9ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '30ff7b40-d61f-0132-88ed-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "30ff7b40-d61f-0132-88ed-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url",
    "OAuth.splitsecret"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.9ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-05-06 09:16:51 -0400
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdminUser Load (0.8ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  Rendered admin/dashboard/_dashboard.html.haml (0.7ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (139.3ms)
Completed 200 OK in 146ms (Views: 141.0ms | ActiveRecord: 0.8ms)
Started GET "/admin/admin_actions" for 127.0.0.1 at 2015-05-06 09:16:54 -0400
Processing by Admin::AdminActionsController#index as HTML
  [1m[35mAdminUser Load (0.4ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  Rendered admin/admin_actions/_admin_actions.html.haml (0.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (39.6ms)
Completed 200 OK in 43ms (Views: 40.7ms | ActiveRecord: 0.4ms)
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 09:16:56 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 13:16:56', '18436cf0-d620-0132-88ed-20c9d07c6451', 'b98ccfe1419af91f10844ad79de05170', 'prepared', '184372c0-d620-0132-88ed-20c9d07c6451', '2015-05-06 13:16:56')[0m
  [1m[35m (1.3ms)[0m  COMMIT
  Rendered admin/register_new_tool/_register_new_tool.html.haml (0.2ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (37.4ms)
Completed 200 OK in 40ms (Views: 35.6ms | ActiveRecord: 2.6ms)
Started POST "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 09:17:00 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  Parameters: {"registration_url"=>"http://localhost:5000/lti2_tp/registrations"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::DeploymentRequest Load (0.7ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`id` = 4 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `partner_url` = 'http://localhost:5000/lti2_tp/registrations', `updated_at` = '2015-05-06 13:17:00' WHERE `lti2_tc_deployment_requests`.`id` = 4
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `status` = 'submitted', `updated_at` = '2015-05-06 13:17:00' WHERE `lti2_tc_deployment_requests`.`id` = 4[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `lti2_tc_tool_consumer_profiles` (`created_at`, `tc_profile`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 13:17:00', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"184372c0-d620-0132-88ed-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\",\n    \"OAuth.splitsecret\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', '184372c0-d620-0132-88ed-20c9d07c6451', '2015-05-06 13:17:00')
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  Rendered inline template (1.0ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (61.1ms)
Completed 200 OK in 63ms (Views: 56.8ms | ActiveRecord: 5.1ms)
Started GET "/lti2_tc/tool_consumer_profiles/184372c0-d620-0132-88ed-20c9d07c6451" for 127.0.0.1 at 2015-05-06 09:17:18 -0400
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"184372c0-d620-0132-88ed-20c9d07c6451"}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '184372c0-d620-0132-88ed-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "184372c0-d620-0132-88ed-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url",
    "OAuth.splitsecret"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.3ms)
Started POST "/lti2_tc/tools" for 127.0.0.1 at 2015-05-06 09:18:32 -0400
Processing by Lti2Tc::ToolsController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"18436cf0-d620-0132-88ed-20c9d07c6451", :oauth_nonce=>"4830250298308", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1430918312", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"u6Mv0R4msoPPwIDO5W25QRH7nUM=", :oauth_signature=>"MmDOldsuNsSQtqqkpFeuFLMl7/s="}
  [1m[36mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  [1mSELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '184372c0-d620-0132-88ed-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1[0m
ToolProxy as received: 
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451#"
    }
  ],
  "@type": "ToolProxy",
  "@id": "ToolProxyProposal_at_2015-05-06T13:18:32Z",
  "lti_version": "LTI-2p0",
  "tool_proxy_guid": "18436cf0-d620-0132-88ed-20c9d07c6451",
  "tool_consumer_profile": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/184372c0-d620-0132-88ed-20c9d07c6451",
  "tool_profile": {
    "base_url_choice": [
      {
        "default_base_url": "http://rails.kinexis.com:5000",
        "selector": {
          "applies_to": [
            "IconEndpoint",
            "MessageHandler"
          ]
        }
      }
    ],
    "lti_version": "LTI-2p0",
    "message": [
      {
        "message_type": [
          "ToolProxyRegistrationRequest",
          "ToolProxyReregistrationRequest"
        ],
        "parameter": [
          {
            "name": "tc_profile_url",
            "variable": "ToolConsumerProfile.url"
          }
        ],
        "path": "http://rails.kinexis.com:5000/lti2_tp/reregistrations"
      }
    ],
    "product_instance": {
      "guid": "fd75124a-140e-470f-944c-114d2d92bb40",
      "product_info": {
        "description": {
          "default_value": "Fabericious reflowable ePub3 Textbook",
          "key": "tool.description"
        },
        "product_family": {
          "code": "assessment-tool",
          "vendor": {
            "code": "fabericious.org",
            "contact": {
              "email": "info@fabericious.com"
            },
            "description": {
              "default_value": "Fabericious is a leading provider of interactive tools for education",
              "key": "tool.vendor.description"
            },
            "vendor_name": {
              "default_value": "Fab",
              "key": "tool.vendor.name"
            },
            "timestamp": "2012-04-05T09:08:16-04:00",
            "website": "{http://rails.kinexis.com:5000}"
          }
        },
        "product_name": {
          "default_value": "LTI2 BookTools",
          "key": "tool.name"
        },
        "product_version": "10.3",
        "technical_description": {
          "default_value": "Support provided for all LTI 1 extensions as well as LTI 2",
          "key": "tool.technical"
        }
      },
      "service_provider": {
        "description": {
          "default_value": "Provider of high performance managed hosting environments",
          "key": "service_provider.description"
        },
        "guid": "18e7ea50-3d6d-4f6b-aff2-ed3ab577716c",
        "service_provider_name": {
          "default_value": "Amazon Cloud",
          "key": "service_provider.name"
        },
        "support": {
          "email": "support@ec2.fabericious.com"
        },
        "timestamp": "2012-04-05T09:08:16-04:00"
      },
      "support": {
        "email": "helpdesk@fabericious.com"
      }
    },
    "resource_handler": [
      {
        "description": {
          "default_value": "Settings service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "tool_proxy_custom_url",
                "variable": "ToolProxy.custom.url"
              },
              {
                "name": "tool_proxy_binding_custom_url",
                "variable": "ToolProxyBinding.custom.url"
              },
              {
                "name": "lti_link_custom_url",
                "variable": "LtiLink.custom.url"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "ToolProxy.custom.url",
              "ToolProxyBinding.custom.url",
              "LtiLink.custom.url"
            ],
            "path": "/settings"
          }
        ],
        "resource_name": {
          "default_value": "Settings",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "setting"
        }
      },
      {
        "description": {
          "default_value": "Echo service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "fixed": "Narcissus",
                "name": "referrer"
              },
              {
                "fixed": "3.14159",
                "name": "pi"
              },
              {
                "name": "user_primary_email",
                "variable": "Person.email.primary"
              },
              {
                "name": "discipline",
                "variable": "CourseOffering.label"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary"
            ],
            "path": "/echoes"
          }
        ],
        "resource_name": {
          "default_value": "Echo",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "echo"
        }
      },
      {
        "description": {
          "default_value": "Interactive resource",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "vbid"
              },
              {
                "name": "result_uri",
                "variable": "Result.uri"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "Result.autocreate"
            ],
            "path": "/iresources"
          }
        ],
        "resource_name": {
          "default_value": "InteractiveResource",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "iresource"
        }
      }
    ],
    "service_offered": [
      {
        "@id": "http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection",
        "@type": "RestService",
        "action": [
          "PUT"
        ],
        "endpoint": "http://rails.kinexis.com:5000/lti2_tp/tool_proxies",
        "format": [
          ""
        ]
      }
    ]
  },
  "security_contract": {
    "shared_secret": "088efe5a7ece3998004fdf03bec0bcfd",
    "tool_service": [
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.collection",
        "action": [
          "POST"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:Result.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:LtiLinkSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxyBindingSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxySettings",
        "action": [
          "GET",
          "PUT"
        ]
      }
    ]
  }
}
  [1m[35mLti2Tc::DeploymentRequest Load (0.2ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = '18436cf0-d620-0132-88ed-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-05-06T13:18:32Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"18436cf0-d620-0132-88ed-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/184372c0-d620-0132-88ed-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"088efe5a7ece3998004fdf03bec0bcfd\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-05-06 13:18:32' WHERE `lti2_tc_deployment_requests`.`id` = 4
  [1m[36m (5.0ms)[0m  [1mCOMMIT[0m
AuthHdr_Parms: {:oauth_consumer_key=>"18436cf0-d620-0132-88ed-20c9d07c6451", :oauth_nonce=>"4830250298308", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1430918312", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"u6Mv0R4msoPPwIDO5W25QRH7nUM=", :oauth_signature=>"MmDOldsuNsSQtqqkpFeuFLMl7/s="}
in verify_signature
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `lti2_tc_tools` (`created_at`, `description`, `is_enabled`, `key`, `product_name`, `secret`, `status`, `tool_proxy`, `updated_at`) VALUES ('2015-05-06 13:18:32', 'Fabericious reflowable ePub3 Textbook', 0, '18436cf0-d620-0132-88ed-20c9d07c6451', 'LTI2 BookTools', '088efe5a7ece3998004fdf03bec0bcfd', 'registered', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"ToolProxyProposal_at_2015-05-06T13:18:32Z\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"18436cf0-d620-0132-88ed-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/184372c0-d620-0132-88ed-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"088efe5a7ece3998004fdf03bec0bcfd\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', '2015-05-06 13:18:32')[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 3)
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-05-06 13:18:32', 1, '{}', 19, 'Settings', '2015-05-06 13:18:32')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 3)
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-05-06 13:18:32', 1, '{}', 20, 'Settings', '2015-05-06 13:18:32')[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 3)
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-05-06 13:18:32', 1, '{}', 21, 'Settings', '2015-05-06 13:18:32')[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 3)
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-05-06 13:18:32', 1, '{}', 22, 'Echo', '2015-05-06 13:18:32')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 3)
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-05-06 13:18:32', 1, '{}', 23, 'Echo', '2015-05-06 13:18:32')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 3)
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-05-06 13:18:32', 1, '{}', 24, 'Echo', '2015-05-06 13:18:32')[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 3)
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (2, '2015-05-06 13:18:32', 'IRTestGrade', '2015-05-06 13:18:32')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-05-06 13:18:32', 7, 1, '{\"vbid\":\"L-999-74180\"}', 25, 'InteractiveResource', '2015-05-06 13:18:32')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 3)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (5, '2015-05-06 13:18:32', 'IRTestGrade', '2015-05-06 13:18:32')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-05-06 13:18:32', 8, 1, '{\"vbid\":\"L-999-74180\"}', 26, 'InteractiveResource', '2015-05-06 13:18:32')[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 3)
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (6, '2015-05-06 13:18:32', 'IRTestGrade', '2015-05-06 13:18:32')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-05-06 13:18:32', 9, 1, '{\"vbid\":\"L-999-74180\"}', 27, 'InteractiveResource', '2015-05-06 13:18:32')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (3.3ms)[0m  [1mUPDATE `lti2_tc_tools` SET `tool_proxy` = '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"http://rails.kinexis.com:4000/tools/18436cf0-d620-0132-88ed-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"18436cf0-d620-0132-88ed-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/184372c0-d620-0132-88ed-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"088efe5a7ece3998004fdf03bec0bcfd\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', `updated_at` = '2015-05-06 13:18:32' WHERE `lti2_tc_tools`.`id` = 3[0m
  [1m[35m (0.6ms)[0m  COMMIT
Exit from Tool/create(POST)--status 201  content-type: application/vnd.ims.lti.v2.toolproxy.id+json
{"@context":"http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId","@type":"ToolProxy","@id":"http://rails.kinexis.com:4000/tools/18436cf0-d620-0132-88ed-20c9d07c6451","tool_proxy_guid":"18436cf0-d620-0132-88ed-20c9d07c6451"}
Completed 201 Created in 52ms (Views: 0.2ms | ActiveRecord: 21.9ms)
Started GET "/admin/tool_actions?status=success&tool_guid=18436cf0-d620-0132-88ed-20c9d07c6451" for 127.0.0.1 at 2015-05-06 09:18:32 -0400
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"18436cf0-d620-0132-88ed-20c9d07c6451"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.4ms)[0m  SELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name
  Rendered admin/tool_actions/_tool_actions.html.haml (0.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (38.5ms)
Completed 200 OK in 41ms (Views: 38.5ms | ActiveRecord: 0.8ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-05-06 09:18:53 -0400
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  Rendered admin/dashboard/_dashboard.html.haml (1.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (48.2ms)
Completed 200 OK in 51ms (Views: 48.9ms | ActiveRecord: 0.3ms)
Started GET "/admin/admin_actions" for 127.0.0.1 at 2015-05-06 09:18:55 -0400
Processing by Admin::AdminActionsController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  Rendered admin/admin_actions/_admin_actions.html.haml (0.2ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (33.8ms)
Completed 200 OK in 36ms (Views: 34.6ms | ActiveRecord: 0.3ms)
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 09:18:56 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 13:18:56', '5f88a530-d620-0132-88ed-20c9d07c6451', '65ff0ff138bcf5bb5fdb59fdaf2ca1b9', 'prepared', '5f88a770-d620-0132-88ed-20c9d07c6451', '2015-05-06 13:18:56')[0m
  [1m[35m (1.7ms)[0m  COMMIT
  Rendered admin/register_new_tool/_register_new_tool.html.haml (0.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (29.6ms)
Completed 200 OK in 31ms (Views: 27.9ms | ActiveRecord: 2.4ms)
Started POST "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 09:19:00 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  Parameters: {"registration_url"=>"http://localhost:5000/lti2_tp/registrations"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::DeploymentRequest Load (0.3ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`id` = 5 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.4ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `partner_url` = 'http://localhost:5000/lti2_tp/registrations', `updated_at` = '2015-05-06 13:19:00' WHERE `lti2_tc_deployment_requests`.`id` = 5
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `status` = 'submitted', `updated_at` = '2015-05-06 13:19:00' WHERE `lti2_tc_deployment_requests`.`id` = 5[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `lti2_tc_tool_consumer_profiles` (`created_at`, `tc_profile`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 13:19:00', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"5f88a770-d620-0132-88ed-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\",\n    \"OAuth.splitsecret\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', '5f88a770-d620-0132-88ed-20c9d07c6451', '2015-05-06 13:19:00')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  Rendered inline template (0.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (37.5ms)
Completed 200 OK in 40ms (Views: 34.1ms | ActiveRecord: 4.1ms)
Started GET "/lti2_tc/tool_consumer_profiles/5f88a770-d620-0132-88ed-20c9d07c6451" for 127.0.0.1 at 2015-05-06 09:19:01 -0400
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"5f88a770-d620-0132-88ed-20c9d07c6451"}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '5f88a770-d620-0132-88ed-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "5f88a770-d620-0132-88ed-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url",
    "OAuth.splitsecret"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.3ms)
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 09:20:27 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (2.5ms)[0m  [1mINSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 13:20:27', '95eed860-d620-0132-88ed-20c9d07c6451', 'ea140c87729c2e356cc054daed0f617d', 'prepared', '95eedb10-d620-0132-88ed-20c9d07c6451', '2015-05-06 13:20:27')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  Rendered admin/register_new_tool/_register_new_tool.html.haml (0.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (33.3ms)
Completed 200 OK in 36ms (Views: 31.1ms | ActiveRecord: 3.2ms)
Started POST "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 09:20:31 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  Parameters: {"registration_url"=>"http://localhost:5000/lti2_tp/registrations"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::DeploymentRequest Load (0.7ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`id` = 6 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `partner_url` = 'http://localhost:5000/lti2_tp/registrations', `updated_at` = '2015-05-06 13:20:31' WHERE `lti2_tc_deployment_requests`.`id` = 6
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `status` = 'submitted', `updated_at` = '2015-05-06 13:20:31' WHERE `lti2_tc_deployment_requests`.`id` = 6[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `lti2_tc_tool_consumer_profiles` (`created_at`, `tc_profile`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 13:20:31', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/e7a5b920-d61d-0132-88ed-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"95eedb10-d620-0132-88ed-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\",\n    \"OAuth.splitsecret\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', '95eedb10-d620-0132-88ed-20c9d07c6451', '2015-05-06 13:20:31')
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  Rendered inline template (0.7ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (52.7ms)
Completed 200 OK in 55ms (Views: 47.8ms | ActiveRecord: 5.8ms)
  [1m[36mLti2Tc::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mSQL (12.5ms)[0m  [1mDELETE FROM `lti2_tc_deployment_requests`[0m
  [1m[35mSQL (15.8ms)[0m  DELETE FROM `lti2_tc_tool_consumer_profiles`
  [1m[36mSQL (10.0ms)[0m  [1mDELETE FROM `lti2_tc_resources`[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM `lti2_tc_tools`
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `lti2_tc_links`[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `grade_items`
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `grade_results`[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `lti2_tc_tool_settings`
  [1m[36mLti2Tc::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
Started GET "/lti2_tc/tool_consumer_profiles/95eedb10-d620-0132-88ed-20c9d07c6451" for 127.0.0.1 at 2015-05-06 09:36:21 -0400
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"95eedb10-d620-0132-88ed-20c9d07c6451"}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '95eedb10-d620-0132-88ed-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
  Rendered inline template (2.6ms)
Completed 404 Not Found in 40ms (Views: 11.2ms | ActiveRecord: 18.6ms)
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 09:39:25 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[36mAdminUser Load (0.2ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (12.0ms)[0m  [1mINSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 13:39:25', '3bdcc7f0-d623-0132-88f1-20c9d07c6451', 'c5b0f0d44f5a48865cb2e44342109274', 'prepared', '95af84acb8feb18c690df5ef764d042dec229e16173132861d3dca73484c3bf85164fa5638e2611b561323cc33ac7f82decc3ed81610cab88bf3df7faee2248dca78c8869db4494af306bbec58584b06d688a16c9e8b8f5a28be8c03d15b8cbf59a59ef30b1143514efd130ddb16528d216f2618820d11fb211270c233f1cce8', '3bddd450-d623-0132-88f1-20c9d07c6451', '2015-05-06 13:39:25')[0m
Mysql2::Error: Data too long for column 'tc_oauth_half_secret' at row 1: INSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 13:39:25', '3bdcc7f0-d623-0132-88f1-20c9d07c6451', 'c5b0f0d44f5a48865cb2e44342109274', 'prepared', '95af84acb8feb18c690df5ef764d042dec229e16173132861d3dca73484c3bf85164fa5638e2611b561323cc33ac7f82decc3ed81610cab88bf3df7faee2248dca78c8869db4494af306bbec58584b06d688a16c9e8b8f5a28be8c03d15b8cbf59a59ef30b1143514efd130ddb16528d216f2618820d11fb211270c233f1cce8', '3bddd450-d623-0132-88f1-20c9d07c6451', '2015-05-06 13:39:25')
  [1m[35m (0.3ms)[0m  ROLLBACK
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (152.9ms)
Completed 500 Internal Server Error in 227ms
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 09:42:17 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 13:42:17', 'a26a5770-d623-0132-88f1-20c9d07c6451', '95b0ed1805e8abaddd33aa6456e12f21', 'prepared', '5f0ff79ce62d8435935d0ad0f8de8319138c37635e31e65f55457715da86cd98839190b8a407563581d073e8e45d78a0e45da9e9adff5e0737b68b222e6c5090549e4b8183c766138f87349774ff68c552f343556a1f309a2995769ac059a3148727702f572f68e03dd4feb2d3514cc983f962e8e1d9ad7786f81676fe5f0a35', 'a26a59b0-d623-0132-88f1-20c9d07c6451', '2015-05-06 13:42:17')[0m
  [1m[35m (0.7ms)[0m  COMMIT
  Rendered admin/register_new_tool/_register_new_tool.html.haml (3.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (36.9ms)
Completed 200 OK in 39ms (Views: 36.3ms | ActiveRecord: 1.5ms)
Started POST "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 09:42:24 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  Parameters: {"registration_url"=>"http://localhost:5000/lti2_tp/registrations"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::DeploymentRequest Load (0.8ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `partner_url` = 'http://localhost:5000/lti2_tp/registrations', `updated_at` = '2015-05-06 13:42:24' WHERE `lti2_tc_deployment_requests`.`id` = 7
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `status` = 'submitted', `updated_at` = '2015-05-06 13:42:24' WHERE `lti2_tc_deployment_requests`.`id` = 7[0m
  [1m[35m (6.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `lti2_tc_tool_consumer_profiles` (`created_at`, `tc_profile`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 13:42:24', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/{tc_profile_guid}#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"a26a59b0-d623-0132-88f1-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\",\n    \"OAuth.splitsecret\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', 'a26a59b0-d623-0132-88f1-20c9d07c6451', '2015-05-06 13:42:24')
  [1m[36m (11.2ms)[0m  [1mCOMMIT[0m
  Rendered inline template (0.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (69.3ms)
Completed 200 OK in 71ms (Views: 48.2ms | ActiveRecord: 21.9ms)
Started GET "/lti2_tc/tool_consumer_profiles/a26a59b0-d623-0132-88f1-20c9d07c6451" for 127.0.0.1 at 2015-05-06 09:42:25 -0400
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"a26a59b0-d623-0132-88f1-20c9d07c6451"}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.6ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = 'a26a59b0-d623-0132-88f1-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/a26a59b0-d623-0132-88f1-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/a26a59b0-d623-0132-88f1-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "a26a59b0-d623-0132-88f1-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url",
    "OAuth.splitsecret"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 6ms (Views: 2.7ms | ActiveRecord: 0.6ms)
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 09:44:33 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 13:44:33', 'f3a856f0-d623-0132-88f1-20c9d07c6451', '5ab0fa24cab1dab442ff00d3ad8fbbcb', 'prepared', '14e400002765051197df51b6f1179483fd582eb4a2c208bcf2ffd23641ac511db7064077c2ea3cf1f9a265fce88fa73e2b438b87104752f8639933c3038deb37a0f89472b513f396b22d0958eeb2a333fe6092a6f0d7acc8b0b5aa1fe2087f7bc1bcf2ddac78aa720de0ddd3eaa3b637f680cce52ee7635f0ac360ef6d15f784', 'f3a85b40-d623-0132-88f1-20c9d07c6451', '2015-05-06 13:44:33')[0m
  [1m[35m (2.5ms)[0m  COMMIT
  Rendered admin/register_new_tool/_register_new_tool.html.haml (0.2ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (43.9ms)
Completed 200 OK in 47ms (Views: 41.3ms | ActiveRecord: 3.7ms)
Started POST "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 09:44:39 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  Parameters: {"registration_url"=>"http://localhost:5000/lti2_tp/registrations"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::DeploymentRequest Load (0.8ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `partner_url` = 'http://localhost:5000/lti2_tp/registrations', `updated_at` = '2015-05-06 13:44:39' WHERE `lti2_tc_deployment_requests`.`id` = 8
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `status` = 'submitted', `updated_at` = '2015-05-06 13:44:39' WHERE `lti2_tc_deployment_requests`.`id` = 8[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `lti2_tc_tool_consumer_profiles` (`created_at`, `tc_profile`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 13:44:39', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/a26a59b0-d623-0132-88f1-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/a26a59b0-d623-0132-88f1-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"f3a85b40-d623-0132-88f1-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\",\n    \"OAuth.splitsecret\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', 'f3a85b40-d623-0132-88f1-20c9d07c6451', '2015-05-06 13:44:39')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  Rendered inline template (0.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (44.4ms)
Completed 200 OK in 47ms (Views: 39.7ms | ActiveRecord: 5.4ms)
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 09:45:06 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 13:45:06', '074864a0-d624-0132-88f1-20c9d07c6451', 'cc9c3d834a5c623ad61e6850c1a98f13', 'prepared', '68f2417b3ea074333e3e101c62009f66d59e28779e7bed708278f0286abcfd8a2ec3a4d600f457807fd632fda437239aa103bc8631d95fc48535c93cf26cef7d30f91a8cac2bb8f9dd9e1920ff083a764307b6e5ac90f36d33f3167979087832b18f3c2207641f8232dface454188a6c67996a9ce3d0af6f4e9ac49d3b4044de', '074869e0-d624-0132-88f1-20c9d07c6451', '2015-05-06 13:45:06')
  [1m[36m (6.2ms)[0m  [1mCOMMIT[0m
  Rendered admin/register_new_tool/_register_new_tool.html.haml (0.2ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (42.8ms)
Completed 200 OK in 45ms (Views: 36.5ms | ActiveRecord: 7.1ms)
Started POST "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 09:45:11 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  Parameters: {"registration_url"=>"http://localhost:5000/lti2_tp/registrations"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::DeploymentRequest Load (0.3ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `partner_url` = 'http://localhost:5000/lti2_tp/registrations', `updated_at` = '2015-05-06 13:45:11' WHERE `lti2_tc_deployment_requests`.`id` = 9[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `status` = 'submitted', `updated_at` = '2015-05-06 13:45:11' WHERE `lti2_tc_deployment_requests`.`id` = 9
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `lti2_tc_tool_consumer_profiles` (`created_at`, `tc_profile`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 13:45:11', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/a26a59b0-d623-0132-88f1-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/a26a59b0-d623-0132-88f1-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"074869e0-d624-0132-88f1-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\",\n    \"OAuth.splitsecret\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', '074869e0-d624-0132-88f1-20c9d07c6451', '2015-05-06 13:45:11')[0m
  [1m[35m (0.7ms)[0m  COMMIT
  Rendered inline template (0.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (39.7ms)
Completed 200 OK in 42ms (Views: 37.2ms | ActiveRecord: 3.3ms)
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 09:45:16 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[36mAdminUser Load (0.6ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 13:45:16', '0d3f1d00-d624-0132-88f1-20c9d07c6451', 'f0d3ccaecc3bbf926da8719aa810058a', 'prepared', '91c68070aa180c5311709ca162eeff184362ed3ce27f10d77ffb5fc6f8327482f6474f142ac7fbc72feef50624d7b1ff27aa34bb3ae6c2cda044ec0a4e5687387b6d3e71b909fc31c7b2d2b5316d6a3da5d66beac42ca7c94891e830273180c741d16a8285a3a7dc0dba176bb9fd0ca1cf5d47e571d668268a0ef01aab4ecfcb', '0d3f2000-d624-0132-88f1-20c9d07c6451', '2015-05-06 13:45:16')[0m
  [1m[35m (1.5ms)[0m  COMMIT
  Rendered admin/register_new_tool/_register_new_tool.html.haml (0.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (63.3ms)
Completed 200 OK in 69ms (Views: 62.0ms | ActiveRecord: 2.5ms)
Started POST "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 09:45:21 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  Parameters: {"registration_url"=>"http://localhost:5000/lti2_tp/registrations"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::DeploymentRequest Load (0.4ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`id` = 10 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `partner_url` = 'http://localhost:5000/lti2_tp/registrations', `updated_at` = '2015-05-06 13:45:21' WHERE `lti2_tc_deployment_requests`.`id` = 10
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `status` = 'submitted', `updated_at` = '2015-05-06 13:45:21' WHERE `lti2_tc_deployment_requests`.`id` = 10[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `lti2_tc_tool_consumer_profiles` (`created_at`, `tc_profile`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 13:45:21', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/a26a59b0-d623-0132-88f1-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/a26a59b0-d623-0132-88f1-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"0d3f2000-d624-0132-88f1-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\",\n    \"OAuth.splitsecret\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', '0d3f2000-d624-0132-88f1-20c9d07c6451', '2015-05-06 13:45:21')
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  Rendered inline template (0.9ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (40.4ms)
Completed 200 OK in 43ms (Views: 37.9ms | ActiveRecord: 3.5ms)
Started GET "/lti2_tc/tool_consumer_profiles/0d3f2000-d624-0132-88f1-20c9d07c6451" for 127.0.0.1 at 2015-05-06 09:45:51 -0400
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"0d3f2000-d624-0132-88f1-20c9d07c6451"}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '0d3f2000-d624-0132-88f1-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/a26a59b0-d623-0132-88f1-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/a26a59b0-d623-0132-88f1-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "0d3f2000-d624-0132-88f1-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url",
    "OAuth.splitsecret"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.3ms)
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 09:55:32 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 13:55:32', '7cb477c0-d625-0132-88f1-20c9d07c6451', '488b0e4041df0ac315a283cc2522231a', 'prepared', '3258cc639834d9305a7561f30b2eae38301244ccf17ed97582bf6f1b63967a08f73432cfc20f53c2eeccc157285af13809d4af3ef79789c0f4056b998973d4aab3fdff438a9c74c456d96fd43a9a253da5e5d00db0ef197d95d3206b4ae2d19f7b879a57badb4f6790856a6ad14dc5a14f2cc30fa0bd22e9ec3e48f703da9ecd', '7cb47ad0-d625-0132-88f1-20c9d07c6451', '2015-05-06 13:55:32')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  Rendered admin/register_new_tool/_register_new_tool.html.haml (0.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (30.6ms)
Completed 200 OK in 33ms (Views: 29.9ms | ActiveRecord: 1.5ms)
Started POST "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 09:55:41 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  Parameters: {"registration_url"=>"http://localhost:5000/lti2_tp/registrations"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::DeploymentRequest Load (0.9ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`id` = 11 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `partner_url` = 'http://localhost:5000/lti2_tp/registrations', `updated_at` = '2015-05-06 13:55:41' WHERE `lti2_tc_deployment_requests`.`id` = 11
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `status` = 'submitted', `updated_at` = '2015-05-06 13:55:41' WHERE `lti2_tc_deployment_requests`.`id` = 11[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `lti2_tc_tool_consumer_profiles` (`created_at`, `tc_profile`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 13:55:41', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/a26a59b0-d623-0132-88f1-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/a26a59b0-d623-0132-88f1-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"7cb47ad0-d625-0132-88f1-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\",\n    \"OAuth.splitsecret\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', '7cb47ad0-d625-0132-88f1-20c9d07c6451', '2015-05-06 13:55:41')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  Rendered inline template (0.7ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (45.2ms)
Completed 200 OK in 47ms (Views: 42.1ms | ActiveRecord: 3.7ms)
Started GET "/lti2_tc/tool_consumer_profiles/7cb47ad0-d625-0132-88f1-20c9d07c6451" for 127.0.0.1 at 2015-05-06 09:55:49 -0400
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"7cb47ad0-d625-0132-88f1-20c9d07c6451"}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.5ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '7cb47ad0-d625-0132-88f1-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/a26a59b0-d623-0132-88f1-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/a26a59b0-d623-0132-88f1-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "7cb47ad0-d625-0132-88f1-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url",
    "OAuth.splitsecret"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 5ms (Views: 1.6ms | ActiveRecord: 0.5ms)
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 10:04:41 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 14:04:41', 'c36b3b70-d626-0132-88f1-20c9d07c6451', '8c011c1b400e225c00733fef839e6d0c', 'prepared', '342dfb57e1327e4de7588b514bc8d49bd0ec13079f5b470733abd5a891a9bdf9fc4f6f60404df6755664b4ac04f71dfe64008fec99c342b2ec8c1511e37d092fa03a764c5a0bb5e04f12f39b6e98bc577d7e69ff735595d12b4e2ce97e0c6594ee39fa025d25804c258180c2b65b4d21d343f8652b3153733e1b15dc9e4beea5', 'c36b3de0-d626-0132-88f1-20c9d07c6451', '2015-05-06 14:04:41')[0m
  [1m[35m (0.6ms)[0m  COMMIT
  Rendered admin/register_new_tool/_register_new_tool.html.haml (0.2ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (33.6ms)
Completed 200 OK in 36ms (Views: 32.8ms | ActiveRecord: 1.9ms)
Started POST "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 10:04:45 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  Parameters: {"registration_url"=>"http://localhost:5000/lti2_tp/registrations"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::DeploymentRequest Load (0.5ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`id` = 12 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `partner_url` = 'http://localhost:5000/lti2_tp/registrations', `updated_at` = '2015-05-06 14:04:45' WHERE `lti2_tc_deployment_requests`.`id` = 12
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `status` = 'submitted', `updated_at` = '2015-05-06 14:04:45' WHERE `lti2_tc_deployment_requests`.`id` = 12[0m
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `lti2_tc_tool_consumer_profiles` (`created_at`, `tc_profile`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 14:04:45', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/a26a59b0-d623-0132-88f1-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/a26a59b0-d623-0132-88f1-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"c36b3de0-d626-0132-88f1-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\",\n    \"OAuth.splitsecret\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', 'c36b3de0-d626-0132-88f1-20c9d07c6451', '2015-05-06 14:04:45')
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  Rendered inline template (0.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (44.7ms)
Completed 200 OK in 47ms (Views: 40.8ms | ActiveRecord: 4.8ms)
Started GET "/lti2_tc/tool_consumer_profiles/c36b3de0-d626-0132-88f1-20c9d07c6451" for 127.0.0.1 at 2015-05-06 10:04:52 -0400
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"c36b3de0-d626-0132-88f1-20c9d07c6451"}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = 'c36b3de0-d626-0132-88f1-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/a26a59b0-d623-0132-88f1-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/a26a59b0-d623-0132-88f1-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "c36b3de0-d626-0132-88f1-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url",
    "OAuth.splitsecret"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.3ms)
  [1m[36mLti2Tc::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
Started POST "/lti2_tc/tools" for 127.0.0.1 at 2015-05-06 10:36:39 -0400
Processing by Lti2Tc::ToolsController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"c36b3b70-d626-0132-88f1-20c9d07c6451", :oauth_nonce=>"462689795725", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1430922999", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"cJ07SpiW/vpdpYV+7606uZAXdCU=", :oauth_signature=>"kF6jfjeD89Y6kn7/P0IOIfBg9sk="}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = 'c36b3de0-d626-0132-88f1-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
ToolProxy as received: 
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/a26a59b0-d623-0132-88f1-20c9d07c6451#"
    }
  ],
  "@type": "ToolProxy",
  "@id": "ToolProxyProposal_at_2015-05-06T14:05:17Z",
  "lti_version": "LTI-2p0",
  "tool_proxy_guid": "c36b3b70-d626-0132-88f1-20c9d07c6451",
  "tool_consumer_profile": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/c36b3de0-d626-0132-88f1-20c9d07c6451",
  "tool_profile": {
    "base_url_choice": [
      {
        "default_base_url": "http://rails.kinexis.com:5000",
        "selector": {
          "applies_to": [
            "IconEndpoint",
            "MessageHandler"
          ]
        }
      }
    ],
    "lti_version": "LTI-2p0",
    "message": [
      {
        "message_type": [
          "ToolProxyRegistrationRequest",
          "ToolProxyReregistrationRequest"
        ],
        "parameter": [
          {
            "name": "tc_profile_url",
            "variable": "ToolConsumerProfile.url"
          }
        ],
        "path": "http://rails.kinexis.com:5000/lti2_tp/reregistrations"
      }
    ],
    "product_instance": {
      "guid": "fd75124a-140e-470f-944c-114d2d92bb40",
      "product_info": {
        "description": {
          "default_value": "Fabericious reflowable ePub3 Textbook",
          "key": "tool.description"
        },
        "product_family": {
          "code": "assessment-tool",
          "vendor": {
            "code": "fabericious.org",
            "contact": {
              "email": "info@fabericious.com"
            },
            "description": {
              "default_value": "Fabericious is a leading provider of interactive tools for education",
              "key": "tool.vendor.description"
            },
            "vendor_name": {
              "default_value": "Fab",
              "key": "tool.vendor.name"
            },
            "timestamp": "2012-04-05T09:08:16-04:00",
            "website": "{http://rails.kinexis.com:5000}"
          }
        },
        "product_name": {
          "default_value": "LTI2 BookTools",
          "key": "tool.name"
        },
        "product_version": "10.3",
        "technical_description": {
          "default_value": "Support provided for all LTI 1 extensions as well as LTI 2",
          "key": "tool.technical"
        }
      },
      "service_provider": {
        "description": {
          "default_value": "Provider of high performance managed hosting environments",
          "key": "service_provider.description"
        },
        "guid": "18e7ea50-3d6d-4f6b-aff2-ed3ab577716c",
        "service_provider_name": {
          "default_value": "Amazon Cloud",
          "key": "service_provider.name"
        },
        "support": {
          "email": "support@ec2.fabericious.com"
        },
        "timestamp": "2012-04-05T09:08:16-04:00"
      },
      "support": {
        "email": "helpdesk@fabericious.com"
      }
    },
    "resource_handler": [
      {
        "description": {
          "default_value": "Settings service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "tool_proxy_custom_url",
                "variable": "ToolProxy.custom.url"
              },
              {
                "name": "tool_proxy_binding_custom_url",
                "variable": "ToolProxyBinding.custom.url"
              },
              {
                "name": "lti_link_custom_url",
                "variable": "LtiLink.custom.url"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "ToolProxy.custom.url",
              "ToolProxyBinding.custom.url",
              "LtiLink.custom.url"
            ],
            "path": "/settings"
          }
        ],
        "resource_name": {
          "default_value": "Settings",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "setting"
        }
      },
      {
        "description": {
          "default_value": "Echo service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "fixed": "Narcissus",
                "name": "referrer"
              },
              {
                "fixed": "3.14159",
                "name": "pi"
              },
              {
                "name": "user_primary_email",
                "variable": "Person.email.primary"
              },
              {
                "name": "discipline",
                "variable": "CourseOffering.label"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary"
            ],
            "path": "/echoes"
          }
        ],
        "resource_name": {
          "default_value": "Echo",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "echo"
        }
      },
      {
        "description": {
          "default_value": "Interactive resource",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "vbid"
              },
              {
                "name": "result_uri",
                "variable": "Result.uri"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "Result.autocreate"
            ],
            "path": "/iresources"
          }
        ],
        "resource_name": {
          "default_value": "InteractiveResource",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "iresource"
        }
      }
    ],
    "service_offered": [
      {
        "@id": "http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection",
        "@type": "RestService",
        "action": [
          "PUT"
        ],
        "endpoint": "http://rails.kinexis.com:5000/lti2_tp/tool_proxies",
        "format": [
          ""
        ]
      }
    ]
  },
  "security_contract": {
    "shared_secret": "dc88e399ef4b072ab4be7fb06297f7c1",
    "tool_service": [
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.collection",
        "action": [
          "POST"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:Result.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:LtiLinkSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxyBindingSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxySettings",
        "action": [
          "GET",
          "PUT"
        ]
      }
    ]
  }
}
  [1m[36mLti2Tc::DeploymentRequest Load (0.3ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = 'c36b3b70-d626-0132-88f1-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/a26a59b0-d623-0132-88f1-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-05-06T14:05:17Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"c36b3b70-d626-0132-88f1-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/c36b3de0-d626-0132-88f1-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"dc88e399ef4b072ab4be7fb06297f7c1\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-05-06 14:36:39' WHERE `lti2_tc_deployment_requests`.`id` = 12[0m
  [1m[35m (6.0ms)[0m  COMMIT
AuthHdr_Parms: {:oauth_consumer_key=>"c36b3b70-d626-0132-88f1-20c9d07c6451", :oauth_nonce=>"462689795725", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1430922999", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"cJ07SpiW/vpdpYV+7606uZAXdCU=", :oauth_signature=>"kF6jfjeD89Y6kn7/P0IOIfBg9sk="}
in verify_signature
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `lti2_tc_tools` (`created_at`, `description`, `is_enabled`, `key`, `product_name`, `secret`, `status`, `tool_proxy`, `updated_at`) VALUES ('2015-05-06 14:36:39', 'Fabericious reflowable ePub3 Textbook', 0, 'c36b3b70-d626-0132-88f1-20c9d07c6451', 'LTI2 BookTools', 'dc88e399ef4b072ab4be7fb06297f7c1', 'registered', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/a26a59b0-d623-0132-88f1-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"ToolProxyProposal_at_2015-05-06T14:05:17Z\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"c36b3b70-d626-0132-88f1-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/c36b3de0-d626-0132-88f1-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"dc88e399ef4b072ab4be7fb06297f7c1\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', '2015-05-06 14:36:39')
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 4)[0m
  [1m[35m (6.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-05-06 14:36:39', 1, '{}', 28, 'Settings', '2015-05-06 14:36:39')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 4)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-05-06 14:36:39', 1, '{}', 29, 'Settings', '2015-05-06 14:36:39')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 4)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-05-06 14:36:39', 1, '{}', 30, 'Settings', '2015-05-06 14:36:39')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 4)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-05-06 14:36:39', 1, '{}', 31, 'Echo', '2015-05-06 14:36:39')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 4)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-05-06 14:36:39', 1, '{}', 32, 'Echo', '2015-05-06 14:36:39')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 4)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-05-06 14:36:39', 1, '{}', 33, 'Echo', '2015-05-06 14:36:39')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 4)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (2, '2015-05-06 14:36:39', 'IRTestGrade', '2015-05-06 14:36:39')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-05-06 14:36:39', 10, 1, '{\"vbid\":\"L-999-74180\"}', 34, 'InteractiveResource', '2015-05-06 14:36:39')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 4)
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (5, '2015-05-06 14:36:39', 'IRTestGrade', '2015-05-06 14:36:39')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-05-06 14:36:39', 11, 1, '{\"vbid\":\"L-999-74180\"}', 35, 'InteractiveResource', '2015-05-06 14:36:39')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 4)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (6, '2015-05-06 14:36:39', 'IRTestGrade', '2015-05-06 14:36:39')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-05-06 14:36:39', 12, 1, '{\"vbid\":\"L-999-74180\"}', 36, 'InteractiveResource', '2015-05-06 14:36:39')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `lti2_tc_tools` SET `tool_proxy` = '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/a26a59b0-d623-0132-88f1-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"http://rails.kinexis.com:4000/tools/c36b3b70-d626-0132-88f1-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"c36b3b70-d626-0132-88f1-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/c36b3de0-d626-0132-88f1-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"dc88e399ef4b072ab4be7fb06297f7c1\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', `updated_at` = '2015-05-06 14:36:39' WHERE `lti2_tc_tools`.`id` = 4
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
Exit from Tool/create(POST)--status 201  content-type: application/vnd.ims.lti.v2.toolproxy.id+json
{"@context":"http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId","@type":"ToolProxy","@id":"http://rails.kinexis.com:4000/tools/c36b3b70-d626-0132-88f1-20c9d07c6451","tool_proxy_guid":"c36b3b70-d626-0132-88f1-20c9d07c6451"}
Completed 201 Created in 215ms (Views: 0.2ms | ActiveRecord: 89.6ms)
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 10:37:18 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[35mAdminUser Load (0.2ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 14:37:18', '521843b0-d62b-0132-88f3-20c9d07c6451', '6bba0ba13f2b52280d1a9fe2514a3f54', 'prepared', 'cfcb5a0e0ee127453b269b5f50fcdab84beb6190556f61bed5114f282a7ef2995e1ba13aa15492d81547bfdba0528881658519337dd2b53eba74eba74b6ee902c308e43c997319159a8d68aa11866b9b9c1ac4df8083a51db3014e143fa9ef53be67c17708740b8f1b4830841f3e69a11d01cf80820a1c2df6caa1e12904c008', '52184910-d62b-0132-88f3-20c9d07c6451', '2015-05-06 14:37:18')
  [1m[36m (11.8ms)[0m  [1mCOMMIT[0m
  Rendered admin/register_new_tool/_register_new_tool.html.haml (5.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (139.9ms)
Completed 200 OK in 188ms (Views: 142.3ms | ActiveRecord: 31.6ms)
Started POST "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 10:37:23 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  Parameters: {"registration_url"=>"http://localhost:5000/lti2_tp/registrations"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::DeploymentRequest Load (0.6ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `partner_url` = 'http://localhost:5000/lti2_tp/registrations', `updated_at` = '2015-05-06 14:37:23' WHERE `lti2_tc_deployment_requests`.`id` = 13[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `status` = 'submitted', `updated_at` = '2015-05-06 14:37:23' WHERE `lti2_tc_deployment_requests`.`id` = 13
  [1m[36m (6.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `lti2_tc_tool_consumer_profiles` (`created_at`, `tc_profile`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 14:37:23', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/{tc_profile_guid}#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"52184910-d62b-0132-88f3-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\",\n    \"OAuth.splitsecret\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', '52184910-d62b-0132-88f3-20c9d07c6451', '2015-05-06 14:37:23')[0m
  [1m[35m (6.2ms)[0m  COMMIT
  Rendered inline template (0.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (54.4ms)
Completed 200 OK in 57ms (Views: 39.7ms | ActiveRecord: 15.7ms)
Started GET "/lti2_tc/tool_consumer_profiles/52184910-d62b-0132-88f3-20c9d07c6451" for 127.0.0.1 at 2015-05-06 10:37:23 -0400
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"52184910-d62b-0132-88f3-20c9d07c6451"}
  [1m[36mLti2Tc::ToolConsumerProfile Load (0.5ms)[0m  [1mSELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '52184910-d62b-0132-88f3-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1[0m
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/52184910-d62b-0132-88f3-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/52184910-d62b-0132-88f3-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "52184910-d62b-0132-88f3-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url",
    "OAuth.splitsecret"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.5ms)
Started POST "/lti2_tc/tools" for 127.0.0.1 at 2015-05-06 10:37:33 -0400
Processing by Lti2Tc::ToolsController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"521843b0-d62b-0132-88f3-20c9d07c6451", :oauth_nonce=>"5008232653655", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1430923053", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"N6ws4uW9Kb5wmC0dgkUlE2rr/Fg=", :oauth_signature=>"WXzGViL75xrlWCnBMVnuoPurc3M="}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.8ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '52184910-d62b-0132-88f3-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
ToolProxy as received: 
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/52184910-d62b-0132-88f3-20c9d07c6451#"
    }
  ],
  "@type": "ToolProxy",
  "@id": "ToolProxyProposal_at_2015-05-06T14:37:33Z",
  "lti_version": "LTI-2p0",
  "tool_proxy_guid": "521843b0-d62b-0132-88f3-20c9d07c6451",
  "tool_consumer_profile": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/52184910-d62b-0132-88f3-20c9d07c6451",
  "tool_profile": {
    "base_url_choice": [
      {
        "default_base_url": "http://rails.kinexis.com:5000",
        "selector": {
          "applies_to": [
            "IconEndpoint",
            "MessageHandler"
          ]
        }
      }
    ],
    "lti_version": "LTI-2p0",
    "message": [
      {
        "message_type": [
          "ToolProxyRegistrationRequest",
          "ToolProxyReregistrationRequest"
        ],
        "parameter": [
          {
            "name": "tc_profile_url",
            "variable": "ToolConsumerProfile.url"
          }
        ],
        "path": "http://rails.kinexis.com:5000/lti2_tp/reregistrations"
      }
    ],
    "product_instance": {
      "guid": "fd75124a-140e-470f-944c-114d2d92bb40",
      "product_info": {
        "description": {
          "default_value": "Fabericious reflowable ePub3 Textbook",
          "key": "tool.description"
        },
        "product_family": {
          "code": "assessment-tool",
          "vendor": {
            "code": "fabericious.org",
            "contact": {
              "email": "info@fabericious.com"
            },
            "description": {
              "default_value": "Fabericious is a leading provider of interactive tools for education",
              "key": "tool.vendor.description"
            },
            "vendor_name": {
              "default_value": "Fab",
              "key": "tool.vendor.name"
            },
            "timestamp": "2012-04-05T09:08:16-04:00",
            "website": "{http://rails.kinexis.com:5000}"
          }
        },
        "product_name": {
          "default_value": "LTI2 BookTools",
          "key": "tool.name"
        },
        "product_version": "10.3",
        "technical_description": {
          "default_value": "Support provided for all LTI 1 extensions as well as LTI 2",
          "key": "tool.technical"
        }
      },
      "service_provider": {
        "description": {
          "default_value": "Provider of high performance managed hosting environments",
          "key": "service_provider.description"
        },
        "guid": "18e7ea50-3d6d-4f6b-aff2-ed3ab577716c",
        "service_provider_name": {
          "default_value": "Amazon Cloud",
          "key": "service_provider.name"
        },
        "support": {
          "email": "support@ec2.fabericious.com"
        },
        "timestamp": "2012-04-05T09:08:16-04:00"
      },
      "support": {
        "email": "helpdesk@fabericious.com"
      }
    },
    "resource_handler": [
      {
        "description": {
          "default_value": "Settings service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "tool_proxy_custom_url",
                "variable": "ToolProxy.custom.url"
              },
              {
                "name": "tool_proxy_binding_custom_url",
                "variable": "ToolProxyBinding.custom.url"
              },
              {
                "name": "lti_link_custom_url",
                "variable": "LtiLink.custom.url"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "ToolProxy.custom.url",
              "ToolProxyBinding.custom.url",
              "LtiLink.custom.url"
            ],
            "path": "/settings"
          }
        ],
        "resource_name": {
          "default_value": "Settings",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "setting"
        }
      },
      {
        "description": {
          "default_value": "Echo service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "fixed": "Narcissus",
                "name": "referrer"
              },
              {
                "fixed": "3.14159",
                "name": "pi"
              },
              {
                "name": "user_primary_email",
                "variable": "Person.email.primary"
              },
              {
                "name": "discipline",
                "variable": "CourseOffering.label"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary"
            ],
            "path": "/echoes"
          }
        ],
        "resource_name": {
          "default_value": "Echo",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "echo"
        }
      },
      {
        "description": {
          "default_value": "Interactive resource",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "vbid"
              },
              {
                "name": "result_uri",
                "variable": "Result.uri"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "Result.autocreate"
            ],
            "path": "/iresources"
          }
        ],
        "resource_name": {
          "default_value": "InteractiveResource",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "iresource"
        }
      }
    ],
    "service_offered": [
      {
        "@id": "http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection",
        "@type": "RestService",
        "action": [
          "PUT"
        ],
        "endpoint": "http://rails.kinexis.com:5000/lti2_tp/tool_proxies",
        "format": [
          ""
        ]
      }
    ]
  },
  "security_contract": {
    "shared_secret": "e663e79541855be557e2953a85c37d44",
    "tool_service": [
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.collection",
        "action": [
          "POST"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:Result.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:LtiLinkSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxyBindingSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxySettings",
        "action": [
          "GET",
          "PUT"
        ]
      }
    ]
  }
}
  [1m[36mLti2Tc::DeploymentRequest Load (0.8ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = '521843b0-d62b-0132-88f3-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/52184910-d62b-0132-88f3-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-05-06T14:37:33Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"521843b0-d62b-0132-88f3-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/52184910-d62b-0132-88f3-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"e663e79541855be557e2953a85c37d44\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-05-06 14:37:33' WHERE `lti2_tc_deployment_requests`.`id` = 13[0m
  [1m[35m (11.6ms)[0m  COMMIT
AuthHdr_Parms: {:oauth_consumer_key=>"521843b0-d62b-0132-88f3-20c9d07c6451", :oauth_nonce=>"5008232653655", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1430923053", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"N6ws4uW9Kb5wmC0dgkUlE2rr/Fg=", :oauth_signature=>"WXzGViL75xrlWCnBMVnuoPurc3M="}
in verify_signature
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `lti2_tc_tools` (`created_at`, `description`, `is_enabled`, `key`, `product_name`, `secret`, `status`, `tool_proxy`, `updated_at`) VALUES ('2015-05-06 14:37:33', 'Fabericious reflowable ePub3 Textbook', 0, '521843b0-d62b-0132-88f3-20c9d07c6451', 'LTI2 BookTools', 'e663e79541855be557e2953a85c37d44', 'registered', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/52184910-d62b-0132-88f3-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"ToolProxyProposal_at_2015-05-06T14:37:33Z\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"521843b0-d62b-0132-88f3-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/52184910-d62b-0132-88f3-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"e663e79541855be557e2953a85c37d44\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', '2015-05-06 14:37:33')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 5)[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-05-06 14:37:33', 1, '{}', 37, 'Settings', '2015-05-06 14:37:33')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 5)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-05-06 14:37:33', 1, '{}', 38, 'Settings', '2015-05-06 14:37:33')
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 5)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-05-06 14:37:33', 1, '{}', 39, 'Settings', '2015-05-06 14:37:33')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 5)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-05-06 14:37:33', 1, '{}', 40, 'Echo', '2015-05-06 14:37:33')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 5)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-05-06 14:37:33', 1, '{}', 41, 'Echo', '2015-05-06 14:37:33')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 5)[0m
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-05-06 14:37:33', 1, '{}', 42, 'Echo', '2015-05-06 14:37:33')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 5)[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (2, '2015-05-06 14:37:33', 'IRTestGrade', '2015-05-06 14:37:33')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-05-06 14:37:33', 13, 1, '{\"vbid\":\"L-999-74180\"}', 43, 'InteractiveResource', '2015-05-06 14:37:33')[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 5)
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (5, '2015-05-06 14:37:33', 'IRTestGrade', '2015-05-06 14:37:33')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-05-06 14:37:33', 14, 1, '{\"vbid\":\"L-999-74180\"}', 44, 'InteractiveResource', '2015-05-06 14:37:33')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 5)[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (6, '2015-05-06 14:37:33', 'IRTestGrade', '2015-05-06 14:37:33')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-05-06 14:37:33', 15, 1, '{\"vbid\":\"L-999-74180\"}', 45, 'InteractiveResource', '2015-05-06 14:37:33')[0m
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  UPDATE `lti2_tc_tools` SET `tool_proxy` = '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/52184910-d62b-0132-88f3-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"http://rails.kinexis.com:4000/tools/521843b0-d62b-0132-88f3-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"521843b0-d62b-0132-88f3-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/52184910-d62b-0132-88f3-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"e663e79541855be557e2953a85c37d44\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', `updated_at` = '2015-05-06 14:37:33' WHERE `lti2_tc_tools`.`id` = 5
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Exit from Tool/create(POST)--status 201  content-type: application/vnd.ims.lti.v2.toolproxy.id+json
{"@context":"http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId","@type":"ToolProxy","@id":"http://rails.kinexis.com:4000/tools/521843b0-d62b-0132-88f3-20c9d07c6451","tool_proxy_guid":"521843b0-d62b-0132-88f3-20c9d07c6451"}
Completed 201 Created in 89ms (Views: 0.2ms | ActiveRecord: 36.0ms)
Started GET "/admin/tool_actions?status=success&tool_guid=521843b0-d62b-0132-88f3-20c9d07c6451" for 127.0.0.1 at 2015-05-06 10:37:33 -0400
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"521843b0-d62b-0132-88f3-20c9d07c6451"}
  [1m[35mAdminUser Load (0.9ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (1.2ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (6.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (47.9ms)
Completed 200 OK in 54ms (Views: 48.3ms | ActiveRecord: 2.1ms)
Started GET "/admin/tool_actions?method=toggle&tool_id=5&toggle=true" for 127.0.0.1 at 2015-05-06 10:38:02 -0400
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"method"=>"toggle", "tool_id"=>"5", "toggle"=>"true"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.5ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 5 LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 5 LIMIT 1  [["id", "5"]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `lti2_tc_tools` SET `is_enabled` = 1, `updated_at` = '2015-05-06 14:38:02' WHERE `lti2_tc_tools`.`id` = 5
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tc::Tool Load (0.3ms)[0m  SELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name
  Rendered admin/tool_actions/_tool_actions.html.haml (0.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (33.6ms)
Completed 200 OK in 36ms (Views: 32.0ms | ActiveRecord: 2.7ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-05-06 10:38:04 -0400
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  Rendered admin/dashboard/_dashboard.html.haml (2.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (36.3ms)
Completed 200 OK in 39ms (Views: 37.0ms | ActiveRecord: 0.3ms)
Started GET "/admin/course_actions" for 127.0.0.1 at 2015-05-06 10:38:06 -0400
Processing by Admin::CourseActionsController#index as HTML
  [1m[35mAdminUser Load (0.6ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT `courses`.* FROM `courses`   ORDER BY course_label[0m
  Rendered admin/course_actions/_course_actions.html.haml (2.7ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (56.4ms)
Completed 200 OK in 76ms (Views: 55.9ms | ActiveRecord: 2.7ms)
Started GET "/admin/course_page?method=show&course_id=2" for 127.0.0.1 at 2015-05-06 10:38:07 -0400
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"show", "course_id"=>"2"}
  [1m[35mAdminUser Load (0.4ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mCourse Load (0.8ms)[0m  [1mSELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1[0m
  [1m[35mLti2Tc::Link Load (0.8ms)[0m  SELECT `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`course_id` = 2
  [1m[36mGradeItem Load (0.7ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 10 LIMIT 1[0m
  [1m[35mGradeResult Load (0.4ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 34 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mGradeItem Load (0.2ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 13 LIMIT 1[0m
  [1m[35mGradeResult Load (0.2ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 43 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT `lti2_tc_resources`.* FROM `lti2_tc_resources`   ORDER BY resource_name[0m
  [1m[35mGradeItem Load (0.6ms)[0m  SELECT `grade_items`.* FROM `grade_items`   ORDER BY label
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 28 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 31 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 34 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 37 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.1ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 40 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 43 LIMIT 1
  Rendered admin/course_page/_course_page.html.haml (22.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (74.7ms)
Completed 200 OK in 78ms (Views: 69.7ms | ActiveRecord: 6.3ms)
Started GET "/admin/course_page?method=link&link_id=31" for 127.0.0.1 at 2015-05-06 10:38:11 -0400
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"link", "link_id"=>"31"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Link Load (0.4ms)[0m  SELECT  `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`id` = 31 LIMIT 1
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1[0m
  [1m[35mEnrollment Load (1.1ms)[0m  SELECT  `enrollments`.* FROM `enrollments`  WHERE `enrollments`.`admin_user_id` = 2 AND `enrollments`.`course_id` = 2  ORDER BY `enrollments`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Resource Load (1.1ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 31 LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.9ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 4 LIMIT 1
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (72.1ms)
Completed 500 Internal Server Error in 75ms
  [1m[36mLti2Tc::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mSQL (14.3ms)[0m  [1mDELETE FROM `lti2_tc_deployment_requests`[0m
  [1m[35mSQL (9.1ms)[0m  DELETE FROM `lti2_tc_tool_consumer_profiles`
  [1m[36mSQL (15.5ms)[0m  [1mDELETE FROM `lti2_tc_resources`[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM `lti2_tc_tools`
  [1m[36mSQL (2.3ms)[0m  [1mDELETE FROM `lti2_tc_links`[0m
  [1m[35mSQL (1.2ms)[0m  DELETE FROM `grade_items`
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `grade_results`[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `lti2_tc_tool_settings`
  [1m[36mLti2Tc::Registry Load (0.4ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `lti2_tc_deployment_requests`[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM `lti2_tc_tool_consumer_profiles`
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM `lti2_tc_resources`[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM `lti2_tc_tools`
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM `lti2_tc_links`[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM `grade_items`
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM `grade_results`[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM `lti2_tc_tool_settings`
  [1m[36mLti2Tc::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 11:04:03 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[35mAdminUser Load (0.8ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 15:04:03', '0ed36b60-d62f-0132-88f5-20c9d07c6451', '33408960dc8b6347616942dbd7502d73', 'prepared', '9d3ee2bfeea45e85147a5c78d733ba6ce7c9fd28f36b1ca389ddf924fc8920fa6703b639fbc2f62bd632fd1db2825fdcff15e0ca1154e3c022926d55e831ffce94d42add928e3dcd77f9a3b2f202b3baa03cb61045de370ceaa510fd681bea852982123405f8200ee06039dbc1073d28a40387299d7aeb5feb8e797385e475b6', '0ed49fe0-d62f-0132-88f5-20c9d07c6451', '2015-05-06 15:04:03')
  [1m[36m (14.0ms)[0m  [1mCOMMIT[0m
  Rendered admin/register_new_tool/_register_new_tool.html.haml (4.9ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (216.6ms)
Completed 200 OK in 273ms (Views: 209.2ms | ActiveRecord: 40.4ms)
Started POST "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 11:04:10 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  Parameters: {"registration_url"=>"http://localhost:5000/lti2_tp/registrations"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::DeploymentRequest Load (0.4ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `partner_url` = 'http://localhost:5000/lti2_tp/registrations', `updated_at` = '2015-05-06 15:04:10' WHERE `lti2_tc_deployment_requests`.`id` = 14[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `status` = 'submitted', `updated_at` = '2015-05-06 15:04:10' WHERE `lti2_tc_deployment_requests`.`id` = 14
  [1m[36m (6.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `lti2_tc_tool_consumer_profiles` (`created_at`, `tc_profile`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 15:04:10', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/{tc_profile_guid}#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"0ed49fe0-d62f-0132-88f5-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\",\n    \"OAuth.splitsecret\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', '0ed49fe0-d62f-0132-88f5-20c9d07c6451', '2015-05-06 15:04:10')[0m
  [1m[35m (1.0ms)[0m  COMMIT
  Rendered inline template (0.6ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (74.9ms)
Completed 200 OK in 77ms (Views: 47.3ms | ActiveRecord: 28.3ms)
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 11:04:44 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 15:04:44', '272ca1c0-d62f-0132-88f5-20c9d07c6451', '82b63a7fb8233d197c0574953b92c99f', 'prepared', '445174cd7a14bde86948fbad786b0558f8614f80bf3a682a418d9e1d21ec4822e0f1d1ce7780f0ed3858b141491d7b30454ad1b955d3400b3d8cc7e32929929db10d570fbfec1ba31c69f99460e3109962f56821a5d5ca557a81d473b0dc83d857045997add6c7353373b5a8f233b48367fa6ed465104d1d7f2e2dd5dd827651', '272caa40-d62f-0132-88f5-20c9d07c6451', '2015-05-06 15:04:44')[0m
  [1m[35m (2.6ms)[0m  COMMIT
  Rendered admin/register_new_tool/_register_new_tool.html.haml (0.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (30.8ms)
Completed 200 OK in 33ms (Views: 28.2ms | ActiveRecord: 3.3ms)
Started POST "/admin/register_new_tool" for 127.0.0.1 at 2015-05-06 11:04:49 -0400
Processing by Admin::RegisterNewToolController#index as HTML
  Parameters: {"registration_url"=>"http://localhost:5000/lti2_tp/registrations"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::DeploymentRequest Load (0.3ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`id` = 15 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `partner_url` = 'http://localhost:5000/lti2_tp/registrations', `updated_at` = '2015-05-06 15:04:49' WHERE `lti2_tc_deployment_requests`.`id` = 15
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `status` = 'submitted', `updated_at` = '2015-05-06 15:04:49' WHERE `lti2_tc_deployment_requests`.`id` = 15[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `lti2_tc_tool_consumer_profiles` (`created_at`, `tc_profile`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-06 15:04:49', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/{tc_profile_guid}#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"272caa40-d62f-0132-88f5-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\",\n    \"OAuth.splitsecret\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', '272caa40-d62f-0132-88f5-20c9d07c6451', '2015-05-06 15:04:49')
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  Rendered inline template (0.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (34.8ms)
Completed 200 OK in 37ms (Views: 32.5ms | ActiveRecord: 3.0ms)
Started GET "/lti2_tc/tool_consumer_profiles/272caa40-d62f-0132-88f5-20c9d07c6451" for 127.0.0.1 at 2015-05-06 11:04:50 -0400
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"272caa40-d62f-0132-88f5-20c9d07c6451"}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.5ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '272caa40-d62f-0132-88f5-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/272caa40-d62f-0132-88f5-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/272caa40-d62f-0132-88f5-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "272caa40-d62f-0132-88f5-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url",
    "OAuth.splitsecret"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.5ms)
Started POST "/lti2_tc/tools" for 127.0.0.1 at 2015-05-06 11:05:22 -0400
Processing by Lti2Tc::ToolsController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"272ca1c0-d62f-0132-88f5-20c9d07c6451", :oauth_nonce=>"8303164665078", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1430924722", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"EA8c6LGwkOiIbW1+xh7sicqaM9U=", :oauth_signature=>"08Zw8tBo3YRGFHvhAyuLdLgNTIk="}
  [1m[36mLti2Tc::ToolConsumerProfile Load (0.4ms)[0m  [1mSELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '272caa40-d62f-0132-88f5-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1[0m
ToolProxy as received: 
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/272caa40-d62f-0132-88f5-20c9d07c6451#"
    }
  ],
  "@type": "ToolProxy",
  "@id": "ToolProxyProposal_at_2015-05-06T15:05:05Z",
  "lti_version": "LTI-2p0",
  "tool_proxy_guid": "272ca1c0-d62f-0132-88f5-20c9d07c6451",
  "tool_consumer_profile": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/272caa40-d62f-0132-88f5-20c9d07c6451",
  "tool_profile": {
    "base_url_choice": [
      {
        "default_base_url": "http://rails.kinexis.com:5000",
        "selector": {
          "applies_to": [
            "IconEndpoint",
            "MessageHandler"
          ]
        }
      }
    ],
    "lti_version": "LTI-2p0",
    "message": [
      {
        "message_type": [
          "ToolProxyRegistrationRequest",
          "ToolProxyReregistrationRequest"
        ],
        "parameter": [
          {
            "name": "tc_profile_url",
            "variable": "ToolConsumerProfile.url"
          }
        ],
        "path": "http://rails.kinexis.com:5000/lti2_tp/reregistrations"
      }
    ],
    "product_instance": {
      "guid": "fd75124a-140e-470f-944c-114d2d92bb40",
      "product_info": {
        "description": {
          "default_value": "Fabericious reflowable ePub3 Textbook",
          "key": "tool.description"
        },
        "product_family": {
          "code": "assessment-tool",
          "vendor": {
            "code": "fabericious.org",
            "contact": {
              "email": "info@fabericious.com"
            },
            "description": {
              "default_value": "Fabericious is a leading provider of interactive tools for education",
              "key": "tool.vendor.description"
            },
            "vendor_name": {
              "default_value": "Fab",
              "key": "tool.vendor.name"
            },
            "timestamp": "2012-04-05T09:08:16-04:00",
            "website": "{http://rails.kinexis.com:5000}"
          }
        },
        "product_name": {
          "default_value": "LTI2 BookTools",
          "key": "tool.name"
        },
        "product_version": "10.3",
        "technical_description": {
          "default_value": "Support provided for all LTI 1 extensions as well as LTI 2",
          "key": "tool.technical"
        }
      },
      "service_provider": {
        "description": {
          "default_value": "Provider of high performance managed hosting environments",
          "key": "service_provider.description"
        },
        "guid": "18e7ea50-3d6d-4f6b-aff2-ed3ab577716c",
        "service_provider_name": {
          "default_value": "Amazon Cloud",
          "key": "service_provider.name"
        },
        "support": {
          "email": "support@ec2.fabericious.com"
        },
        "timestamp": "2012-04-05T09:08:16-04:00"
      },
      "support": {
        "email": "helpdesk@fabericious.com"
      }
    },
    "resource_handler": [
      {
        "description": {
          "default_value": "Settings service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "tool_proxy_custom_url",
                "variable": "ToolProxy.custom.url"
              },
              {
                "name": "tool_proxy_binding_custom_url",
                "variable": "ToolProxyBinding.custom.url"
              },
              {
                "name": "lti_link_custom_url",
                "variable": "LtiLink.custom.url"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "ToolProxy.custom.url",
              "ToolProxyBinding.custom.url",
              "LtiLink.custom.url"
            ],
            "path": "/settings"
          }
        ],
        "resource_name": {
          "default_value": "Settings",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "setting"
        }
      },
      {
        "description": {
          "default_value": "Echo service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "fixed": "Narcissus",
                "name": "referrer"
              },
              {
                "fixed": "3.14159",
                "name": "pi"
              },
              {
                "name": "user_primary_email",
                "variable": "Person.email.primary"
              },
              {
                "name": "discipline",
                "variable": "CourseOffering.label"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary"
            ],
            "path": "/echoes"
          }
        ],
        "resource_name": {
          "default_value": "Echo",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "echo"
        }
      },
      {
        "description": {
          "default_value": "Interactive resource",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "vbid"
              },
              {
                "name": "result_uri",
                "variable": "Result.uri"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "Result.autocreate"
            ],
            "path": "/iresources"
          }
        ],
        "resource_name": {
          "default_value": "InteractiveResource",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "iresource"
        }
      }
    ],
    "service_offered": [
      {
        "@id": "http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection",
        "@type": "RestService",
        "action": [
          "PUT"
        ],
        "endpoint": "http://rails.kinexis.com:5000/lti2_tp/tool_proxies",
        "format": [
          ""
        ]
      }
    ]
  },
  "security_contract": {
    "shared_secret": "2a4aac72d9e07bbbba225495952e7491",
    "tool_service": [
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.collection",
        "action": [
          "POST"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:Result.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:LtiLinkSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxyBindingSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxySettings",
        "action": [
          "GET",
          "PUT"
        ]
      }
    ]
  }
}
  [1m[35mLti2Tc::DeploymentRequest Load (0.4ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = '272ca1c0-d62f-0132-88f5-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/272caa40-d62f-0132-88f5-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-05-06T15:05:05Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"272ca1c0-d62f-0132-88f5-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/272caa40-d62f-0132-88f5-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"2a4aac72d9e07bbbba225495952e7491\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-05-06 15:05:22' WHERE `lti2_tc_deployment_requests`.`id` = 15
  [1m[36m (12.1ms)[0m  [1mCOMMIT[0m
AuthHdr_Parms: {:oauth_consumer_key=>"272ca1c0-d62f-0132-88f5-20c9d07c6451", :oauth_nonce=>"8303164665078", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1430924722", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"EA8c6LGwkOiIbW1+xh7sicqaM9U=", :oauth_signature=>"08Zw8tBo3YRGFHvhAyuLdLgNTIk="}
in verify_signature
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `lti2_tc_tools` (`created_at`, `description`, `is_enabled`, `key`, `product_name`, `secret`, `status`, `tool_proxy`, `updated_at`) VALUES ('2015-05-06 15:05:23', 'Fabericious reflowable ePub3 Textbook', 0, '272ca1c0-d62f-0132-88f5-20c9d07c6451', 'LTI2 BookTools', '2a4aac72d9e07bbbba225495952e7491', 'registered', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/272caa40-d62f-0132-88f5-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"ToolProxyProposal_at_2015-05-06T15:05:05Z\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"272ca1c0-d62f-0132-88f5-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/272caa40-d62f-0132-88f5-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"2a4aac72d9e07bbbba225495952e7491\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', '2015-05-06 15:05:23')[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 6)
  [1m[36m (6.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-05-06 15:05:23', 1, '{}', 46, 'Settings', '2015-05-06 15:05:23')[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 6)
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-05-06 15:05:23', 1, '{}', 47, 'Settings', '2015-05-06 15:05:23')[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 6)
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-05-06 15:05:23', 1, '{}', 48, 'Settings', '2015-05-06 15:05:23')[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 6)
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-05-06 15:05:23', 1, '{}', 49, 'Echo', '2015-05-06 15:05:23')[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 6)
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-05-06 15:05:23', 1, '{}', 50, 'Echo', '2015-05-06 15:05:23')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 6)
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-05-06 15:05:23', 1, '{}', 51, 'Echo', '2015-05-06 15:05:23')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 6)
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (2, '2015-05-06 15:05:23', 'IRTestGrade', '2015-05-06 15:05:23')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-05-06 15:05:23', 16, 1, '{\"vbid\":\"L-999-74180\"}', 52, 'InteractiveResource', '2015-05-06 15:05:23')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 6)[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (5, '2015-05-06 15:05:23', 'IRTestGrade', '2015-05-06 15:05:23')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-05-06 15:05:23', 17, 1, '{\"vbid\":\"L-999-74180\"}', 53, 'InteractiveResource', '2015-05-06 15:05:23')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 6)
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (6, '2015-05-06 15:05:23', 'IRTestGrade', '2015-05-06 15:05:23')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-05-06 15:05:23', 18, 1, '{\"vbid\":\"L-999-74180\"}', 54, 'InteractiveResource', '2015-05-06 15:05:23')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `lti2_tc_tools` SET `tool_proxy` = '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/272caa40-d62f-0132-88f5-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"http://rails.kinexis.com:4000/tools/272ca1c0-d62f-0132-88f5-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"272ca1c0-d62f-0132-88f5-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/272caa40-d62f-0132-88f5-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"2a4aac72d9e07bbbba225495952e7491\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', `updated_at` = '2015-05-06 15:05:23' WHERE `lti2_tc_tools`.`id` = 6[0m
  [1m[35m (0.6ms)[0m  COMMIT
Exit from Tool/create(POST)--status 201  content-type: application/vnd.ims.lti.v2.toolproxy.id+json
{"@context":"http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId","@type":"ToolProxy","@id":"http://rails.kinexis.com:4000/tools/272ca1c0-d62f-0132-88f5-20c9d07c6451","tool_proxy_guid":"272ca1c0-d62f-0132-88f5-20c9d07c6451"}
Completed 201 Created in 141ms (Views: 0.2ms | ActiveRecord: 74.9ms)
Started GET "/admin/tool_actions?status=success&tool_guid=272ca1c0-d62f-0132-88f5-20c9d07c6451" for 127.0.0.1 at 2015-05-06 11:05:23 -0400
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"272ca1c0-d62f-0132-88f5-20c9d07c6451"}
  [1m[36mAdminUser Load (0.5ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.4ms)[0m  SELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name
  Rendered admin/tool_actions/_tool_actions.html.haml (4.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (34.4ms)
Completed 200 OK in 38ms (Views: 34.9ms | ActiveRecord: 0.8ms)
  [1m[36mLti2Tc::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
  [1m[36mLti2Tc::Registry Load (31.2ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (26.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mSQL (30.2ms)[0m  [1mDELETE FROM `lti2_tc_deployment_requests`[0m
  [1m[35mSQL (27.7ms)[0m  DELETE FROM `lti2_tc_tool_consumer_profiles`
  [1m[36mSQL (2.6ms)[0m  [1mDELETE FROM `lti2_tc_resources`[0m
  [1m[35mSQL (2.2ms)[0m  DELETE FROM `lti2_tc_tools`
  [1m[36mSQL (2.5ms)[0m  [1mDELETE FROM `lti2_tc_links`[0m
  [1m[35mSQL (1.9ms)[0m  DELETE FROM `grade_items`
  [1m[36mSQL (2.8ms)[0m  [1mDELETE FROM `grade_results`[0m
  [1m[35mSQL (19.7ms)[0m  DELETE FROM `lti2_tc_tool_settings`
  [1m[36mLti2Tc::Registry Load (5.7ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `lti2_tc_deployment_requests`[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `lti2_tc_tool_consumer_profiles`
  [1m[36mSQL (6.6ms)[0m  [1mDELETE FROM `lti2_tc_resources`[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `lti2_tc_tools`
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `lti2_tc_links`[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `grade_items`
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `grade_results`[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `lti2_tc_tool_settings`
  [1m[36mLti2Tc::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `lti2_tc_deployment_requests`[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `lti2_tc_tool_consumer_profiles`
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `lti2_tc_resources`[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `lti2_tc_tools`
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `lti2_tc_links`[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `grade_items`
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `grade_results`[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `lti2_tc_tool_settings`
  [1m[36mLti2Tc::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mLti2Tc::Registry Load (0.4ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
  [1m[36mLti2Tc::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-05-11 07:36:11 -0700
Processing by Admin::RegisterNewToolController#index as HTML
Completed 401 Unauthorized in 1ms
Started GET "/admin/login" for 127.0.0.1 at 2015-05-11 07:36:11 -0700
Processing by ActiveAdmin::Devise::SessionsController#new as HTML
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/devise/shared/_links.erb (1.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out (52.8ms)
Completed 200 OK in 206ms (Views: 161.4ms | ActiveRecord: 25.5ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-05-11 07:36:12 -0700
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-05-11 07:36:12 -0700
Started GET "/assets/active_admin/print.css" for 127.0.0.1 at 2015-05-11 07:36:12 -0700
Started POST "/admin/login" for 127.0.0.1 at 2015-05-11 07:36:16 -0700
Processing by ActiveAdmin::Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "admin_user"=>{"email"=>"admin@lumos.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"<p>active_admin.devise.login.submit</p>"}
  [1m[35mAdminUser Load (0.4ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`email` = 'admin@lumos.org'  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  UPDATE `admin_users` SET `current_sign_in_at` = '2015-05-11 14:36:16', `last_sign_in_at` = '2015-05-06 13:07:18', `sign_in_count` = 227, `updated_at` = '2015-05-11 14:36:16' WHERE `admin_users`.`id` = 2
  [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:4000/admin/register_new_tool
Completed 302 Found in 108ms (ActiveRecord: 3.7ms)
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-05-11 07:36:16 -0700
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (6.7ms)[0m  INSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-11 14:36:16', '0115cb70-da19-0132-bae2-20c9d07c6451', 'ebacf8ae7b0996ac7baa15a58180290f', 'prepared', '199c40780106bea87eb00f88f9d4d3dd8e6d4046eec7730e13595da81d42441f967922f2785bea6413b39b07ea0b3fee7dd9461df8521096fe25039bde6e2ba5977d9b8d1c3df4b626d22bbb6d69295138f0f033a2bc4a7224c10907869ff01cefea7a4226285176f63d057667727b363c96f3f0197f5fb57834eda6509b7c8d', '0116a450-da19-0132-bae2-20c9d07c6451', '2015-05-11 14:36:16')
  [1m[36m (6.2ms)[0m  [1mCOMMIT[0m
  Rendered admin/register_new_tool/_register_new_tool.html.haml (5.9ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (66.6ms)
Completed 200 OK in 73ms (Views: 49.1ms | ActiveRecord: 20.4ms)
Started GET "/assets/active_admin/print.css" for 127.0.0.1 at 2015-05-11 07:36:16 -0700
Started GET "/assets/active_admin/nested_menu_arrow_dark.gif" for 127.0.0.1 at 2015-05-11 07:36:16 -0700
Started GET "/assets/active_admin/nested_menu_arrow.gif" for 127.0.0.1 at 2015-05-11 07:36:16 -0700
Started POST "/admin/register_new_tool" for 127.0.0.1 at 2015-05-11 07:36:21 -0700
Processing by Admin::RegisterNewToolController#index as HTML
  Parameters: {"registration_url"=>"http://localhost:5000/lti2_tp/registrations"}
  [1m[35mAdminUser Load (0.4ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::DeploymentRequest Load (0.5ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `partner_url` = 'http://localhost:5000/lti2_tp/registrations', `updated_at` = '2015-05-11 14:36:21' WHERE `lti2_tc_deployment_requests`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `status` = 'submitted', `updated_at` = '2015-05-11 14:36:21' WHERE `lti2_tc_deployment_requests`.`id` = 1
  [1m[36m (6.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti2_tc_tool_consumer_profiles` (`created_at`, `tc_profile`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-11 14:36:21', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/{tc_profile_guid}#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"0116a450-da19-0132-bae2-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\",\n    \"OAuth.splitsecret\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', '0116a450-da19-0132-bae2-20c9d07c6451', '2015-05-11 14:36:21')[0m
  [1m[35m (6.3ms)[0m  COMMIT
  Rendered inline template (0.6ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (81.7ms)
Completed 200 OK in 85ms (Views: 47.9ms | ActiveRecord: 35.2ms)
Started GET "/assets/active_admin/nested_menu_arrow.gif" for 127.0.0.1 at 2015-05-11 07:36:21 -0700
Started GET "/assets/active_admin/nested_menu_arrow_dark.gif" for 127.0.0.1 at 2015-05-11 07:36:21 -0700
Started GET "/lti2_tc/tool_consumer_profiles/0116a450-da19-0132-bae2-20c9d07c6451" for 127.0.0.1 at 2015-05-11 07:36:21 -0700
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"0116a450-da19-0132-bae2-20c9d07c6451"}
  [1m[36mLti2Tc::ToolConsumerProfile Load (0.4ms)[0m  [1mSELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '0116a450-da19-0132-bae2-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1[0m
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0116a450-da19-0132-bae2-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/0116a450-da19-0132-bae2-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "0116a450-da19-0132-bae2-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url",
    "OAuth.splitsecret"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.4ms)
Started POST "/lti2_tc/tools" for 127.0.0.1 at 2015-05-11 07:36:28 -0700
Processing by Lti2Tc::ToolsController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"0115cb70-da19-0132-bae2-20c9d07c6451", :oauth_nonce=>"3176802885446", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1431354987", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"YJ6bpOzcvsiLqIieWWueNovcilw=", :oauth_signature=>"5Q/RbnTrCBrHGoCA5pYgaqHwnJ0="}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = '0116a450-da19-0132-bae2-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
ToolProxy as received: 
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0116a450-da19-0132-bae2-20c9d07c6451#"
    }
  ],
  "@type": "ToolProxy",
  "@id": "ToolProxyProposal_at_2015-05-11T14:36:27Z",
  "lti_version": "LTI-2p0",
  "tool_proxy_guid": "0115cb70-da19-0132-bae2-20c9d07c6451",
  "tool_consumer_profile": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0116a450-da19-0132-bae2-20c9d07c6451",
  "tool_profile": {
    "base_url_choice": [
      {
        "default_base_url": "http://rails.kinexis.com:5000",
        "selector": {
          "applies_to": [
            "IconEndpoint",
            "MessageHandler"
          ]
        }
      }
    ],
    "lti_version": "LTI-2p0",
    "message": [
      {
        "message_type": [
          "ToolProxyRegistrationRequest",
          "ToolProxyReregistrationRequest"
        ],
        "parameter": [
          {
            "name": "tc_profile_url",
            "variable": "ToolConsumerProfile.url"
          }
        ],
        "path": "http://rails.kinexis.com:5000/lti2_tp/reregistrations"
      }
    ],
    "product_instance": {
      "guid": "fd75124a-140e-470f-944c-114d2d92bb40",
      "product_info": {
        "description": {
          "default_value": "Fabericious reflowable ePub3 Textbook",
          "key": "tool.description"
        },
        "product_family": {
          "code": "assessment-tool",
          "vendor": {
            "code": "fabericious.org",
            "contact": {
              "email": "info@fabericious.com"
            },
            "description": {
              "default_value": "Fabericious is a leading provider of interactive tools for education",
              "key": "tool.vendor.description"
            },
            "vendor_name": {
              "default_value": "Fab",
              "key": "tool.vendor.name"
            },
            "timestamp": "2012-04-05T09:08:16-04:00",
            "website": "{http://rails.kinexis.com:5000}"
          }
        },
        "product_name": {
          "default_value": "LTI2 BookTools",
          "key": "tool.name"
        },
        "product_version": "10.3",
        "technical_description": {
          "default_value": "Support provided for all LTI 1 extensions as well as LTI 2",
          "key": "tool.technical"
        }
      },
      "service_provider": {
        "description": {
          "default_value": "Provider of high performance managed hosting environments",
          "key": "service_provider.description"
        },
        "guid": "18e7ea50-3d6d-4f6b-aff2-ed3ab577716c",
        "service_provider_name": {
          "default_value": "Amazon Cloud",
          "key": "service_provider.name"
        },
        "support": {
          "email": "support@ec2.fabericious.com"
        },
        "timestamp": "2012-04-05T09:08:16-04:00"
      },
      "support": {
        "email": "helpdesk@fabericious.com"
      }
    },
    "resource_handler": [
      {
        "description": {
          "default_value": "Settings service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "tool_proxy_custom_url",
                "variable": "ToolProxy.custom.url"
              },
              {
                "name": "tool_proxy_binding_custom_url",
                "variable": "ToolProxyBinding.custom.url"
              },
              {
                "name": "lti_link_custom_url",
                "variable": "LtiLink.custom.url"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "ToolProxy.custom.url",
              "ToolProxyBinding.custom.url",
              "LtiLink.custom.url"
            ],
            "path": "/settings"
          }
        ],
        "resource_name": {
          "default_value": "Settings",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "setting"
        }
      },
      {
        "description": {
          "default_value": "Echo service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "fixed": "Narcissus",
                "name": "referrer"
              },
              {
                "fixed": "3.14159",
                "name": "pi"
              },
              {
                "name": "user_primary_email",
                "variable": "Person.email.primary"
              },
              {
                "name": "discipline",
                "variable": "CourseOffering.label"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary"
            ],
            "path": "/echoes"
          }
        ],
        "resource_name": {
          "default_value": "Echo",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "echo"
        }
      },
      {
        "description": {
          "default_value": "Interactive resource",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "vbid"
              },
              {
                "name": "result_uri",
                "variable": "Result.uri"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "Result.autocreate"
            ],
            "path": "/iresources"
          }
        ],
        "resource_name": {
          "default_value": "InteractiveResource",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "iresource"
        }
      }
    ],
    "service_offered": [
      {
        "@id": "http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection",
        "@type": "RestService",
        "action": [
          "PUT"
        ],
        "endpoint": "http://rails.kinexis.com:5000/lti2_tp/tool_proxies",
        "format": [
          ""
        ]
      }
    ]
  },
  "security_contract": {
    "shared_secret": "ea29dd5ea952c974f2040767b4685edb",
    "tool_service": [
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.collection",
        "action": [
          "POST"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:Result.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:LtiLinkSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxyBindingSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxySettings",
        "action": [
          "GET",
          "PUT"
        ]
      }
    ]
  }
}
  [1m[36mLti2Tc::DeploymentRequest Load (0.3ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = '0115cb70-da19-0132-bae2-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0116a450-da19-0132-bae2-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-05-11T14:36:27Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"0115cb70-da19-0132-bae2-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0116a450-da19-0132-bae2-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"ea29dd5ea952c974f2040767b4685edb\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-05-11 14:36:28' WHERE `lti2_tc_deployment_requests`.`id` = 1[0m
  [1m[35m (11.8ms)[0m  COMMIT
AuthHdr_Parms: {:oauth_consumer_key=>"0115cb70-da19-0132-bae2-20c9d07c6451", :oauth_nonce=>"3176802885446", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1431354987", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"YJ6bpOzcvsiLqIieWWueNovcilw=", :oauth_signature=>"5Q/RbnTrCBrHGoCA5pYgaqHwnJ0="}
in verify_signature
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `lti2_tc_tools` (`created_at`, `description`, `is_enabled`, `key`, `product_name`, `secret`, `status`, `tool_proxy`, `updated_at`) VALUES ('2015-05-11 14:36:28', 'Fabericious reflowable ePub3 Textbook', 0, '0115cb70-da19-0132-bae2-20c9d07c6451', 'LTI2 BookTools', 'ea29dd5ea952c974f2040767b4685edb', 'registered', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0116a450-da19-0132-bae2-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"ToolProxyProposal_at_2015-05-11T14:36:27Z\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"0115cb70-da19-0132-bae2-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0116a450-da19-0132-bae2-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"ea29dd5ea952c974f2040767b4685edb\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', '2015-05-11 14:36:28')
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 1)[0m
  [1m[35m (6.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-05-11 14:36:28', 1, '{}', 1, 'Settings', '2015-05-11 14:36:28')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 1)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-05-11 14:36:28', 1, '{}', 2, 'Settings', '2015-05-11 14:36:28')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 1)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-05-11 14:36:28', 1, '{}', 3, 'Settings', '2015-05-11 14:36:28')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 1)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-05-11 14:36:28', 1, '{}', 4, 'Echo', '2015-05-11 14:36:28')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 1)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-05-11 14:36:28', 1, '{}', 5, 'Echo', '2015-05-11 14:36:28')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 1)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-05-11 14:36:28', 1, '{}', 6, 'Echo', '2015-05-11 14:36:28')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 1)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (2, '2015-05-11 14:36:28', 'IRTestGrade', '2015-05-11 14:36:28')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-05-11 14:36:28', 1, 1, '{\"vbid\":\"L-999-74180\"}', 7, 'InteractiveResource', '2015-05-11 14:36:28')[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 1)
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (5, '2015-05-11 14:36:28', 'IRTestGrade', '2015-05-11 14:36:28')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-05-11 14:36:28', 2, 1, '{\"vbid\":\"L-999-74180\"}', 8, 'InteractiveResource', '2015-05-11 14:36:28')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 1)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (6, '2015-05-11 14:36:28', 'IRTestGrade', '2015-05-11 14:36:28')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-05-11 14:36:28', 3, 1, '{\"vbid\":\"L-999-74180\"}', 9, 'InteractiveResource', '2015-05-11 14:36:28')[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE `lti2_tc_tools` SET `tool_proxy` = '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0116a450-da19-0132-bae2-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"http://rails.kinexis.com:4000/tools/0115cb70-da19-0132-bae2-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"0115cb70-da19-0132-bae2-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0116a450-da19-0132-bae2-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"ea29dd5ea952c974f2040767b4685edb\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', `updated_at` = '2015-05-11 14:36:28' WHERE `lti2_tc_tools`.`id` = 1
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
Exit from Tool/create(POST)--status 201  content-type: application/vnd.ims.lti.v2.toolproxy.id+json
{"@context":"http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId","@type":"ToolProxy","@id":"http://rails.kinexis.com:4000/tools/0115cb70-da19-0132-bae2-20c9d07c6451","tool_proxy_guid":"0115cb70-da19-0132-bae2-20c9d07c6451"}
Completed 201 Created in 138ms (Views: 0.3ms | ActiveRecord: 67.9ms)
Started GET "/admin/tool_actions?status=success&tool_guid=0115cb70-da19-0132-bae2-20c9d07c6451" for 127.0.0.1 at 2015-05-11 07:36:28 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"0115cb70-da19-0132-bae2-20c9d07c6451"}
Completed 401 Unauthorized in 1ms
Started GET "/admin/login" for 127.0.0.1 at 2015-05-11 07:36:28 -0700
Processing by ActiveAdmin::Devise::SessionsController#new as HTML
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/devise/shared/_links.erb (0.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out (16.8ms)
Completed 200 OK in 19ms (Views: 17.9ms | ActiveRecord: 0.0ms)
Started GET "/assets/active_admin.css" for 127.0.0.1 at 2015-05-11 07:36:28 -0700
Started GET "/assets/active_admin.js" for 127.0.0.1 at 2015-05-11 07:36:28 -0700
Started GET "/assets/active_admin/print.css" for 127.0.0.1 at 2015-05-11 07:36:28 -0700
Started POST "/admin/login" for 127.0.0.1 at 2015-05-11 07:36:39 -0700
Processing by ActiveAdmin::Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "admin_user"=>{"email"=>"admin@lumos.org", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"<p>active_admin.devise.login.submit</p>"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`email` = 'admin@lumos.org'  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `admin_users` SET `remember_created_at` = '2015-05-11 14:36:39', `updated_at` = '2015-05-11 14:36:39' WHERE `admin_users`.`id` = 2
  [1m[36m (5.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `admin_users` SET `current_sign_in_at` = '2015-05-11 14:36:39', `last_sign_in_at` = '2015-05-11 14:36:16', `sign_in_count` = 228, `updated_at` = '2015-05-11 14:36:39' WHERE `admin_users`.`id` = 2[0m
  [1m[35m (8.4ms)[0m  COMMIT
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success&tool_guid=0115cb70-da19-0132-bae2-20c9d07c6451
Completed 302 Found in 99ms (ActiveRecord: 15.6ms)
Started GET "/admin/tool_actions?status=success&tool_guid=0115cb70-da19-0132-bae2-20c9d07c6451" for 127.0.0.1 at 2015-05-11 07:36:39 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"0115cb70-da19-0132-bae2-20c9d07c6451"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.5ms)[0m  SELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name
  Rendered admin/tool_actions/_tool_actions.html.haml (5.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (50.9ms)
Completed 200 OK in 56ms (Views: 52.0ms | ActiveRecord: 1.0ms)
Started GET "/assets/active_admin/print.css" for 127.0.0.1 at 2015-05-11 07:36:40 -0700
Started GET "/assets/active_admin/nested_menu_arrow.gif" for 127.0.0.1 at 2015-05-11 07:36:40 -0700
Started GET "/assets/active_admin/nested_menu_arrow_dark.gif" for 127.0.0.1 at 2015-05-11 07:36:40 -0700
Started GET "/admin/tool_actions?method=toggle&tool_id=1&toggle=true" for 127.0.0.1 at 2015-05-11 07:36:46 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"method"=>"toggle", "tool_id"=>"1", "toggle"=>"true"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.6ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tc_tools` SET `is_enabled` = 1, `updated_at` = '2015-05-11 14:36:46' WHERE `lti2_tc_tools`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mLti2Tc::Tool Load (0.5ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (0.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (31.6ms)
Completed 200 OK in 34ms (Views: 30.3ms | ActiveRecord: 2.2ms)
Started GET "/assets/active_admin/nested_menu_arrow.gif" for 127.0.0.1 at 2015-05-11 07:36:46 -0700
Started GET "/assets/active_admin/nested_menu_arrow_dark.gif" for 127.0.0.1 at 2015-05-11 07:36:46 -0700
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-05-11 07:36:48 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  Rendered admin/dashboard/_dashboard.html.haml (5.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (32.3ms)
Completed 200 OK in 35ms (Views: 32.9ms | ActiveRecord: 0.3ms)
Started GET "/assets/active_admin/nested_menu_arrow.gif" for 127.0.0.1 at 2015-05-11 07:36:48 -0700
Started GET "/admin/course_actions" for 127.0.0.1 at 2015-05-11 07:36:49 -0700
Processing by Admin::CourseActionsController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mCourse Load (0.3ms)[0m  SELECT `courses`.* FROM `courses`   ORDER BY course_label
  Rendered admin/course_actions/_course_actions.html.haml (2.7ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (89.7ms)
Completed 200 OK in 92ms (Views: 88.2ms | ActiveRecord: 2.6ms)
Started GET "/admin/course_page?method=show&course_id=2" for 127.0.0.1 at 2015-05-11 07:36:51 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"show", "course_id"=>"2"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mCourse Load (0.4ms)[0m  SELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1
  [1m[36mLti2Tc::Link Load (0.3ms)[0m  [1mSELECT `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`course_id` = 2[0m
  [1m[35mGradeItem Load (0.4ms)[0m  SELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 1 LIMIT 1
  [1m[36mGradeResult Load (0.2ms)[0m  [1mSELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 7 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT `lti2_tc_resources`.* FROM `lti2_tc_resources`   ORDER BY resource_name
  [1m[36mGradeItem Load (0.1ms)[0m  [1mSELECT `grade_items`.* FROM `grade_items`   ORDER BY label[0m
  [1m[35mLti2Tc::Resource Load (0.3ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 1 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 4 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.3ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 7 LIMIT 1
  Rendered admin/course_page/_course_page.html.haml (20.6ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (57.1ms)
Completed 200 OK in 59ms (Views: 54.8ms | ActiveRecord: 3.3ms)
Started GET "/admin/course_page?method=link&link_id=4" for 127.0.0.1 at 2015-05-11 07:36:54 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"link", "link_id"=>"4"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Link Load (0.3ms)[0m  SELECT  `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`id` = 4 LIMIT 1
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1[0m
  [1m[35mEnrollment Load (0.2ms)[0m  SELECT  `enrollments`.* FROM `enrollments`  WHERE `enrollments`.`admin_user_id` = 2 AND `enrollments`.`course_id` = 2  ORDER BY `enrollments`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 4 LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.4ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 1 LIMIT 1
  [1m[36mLti2Tc::ToolSetting Load (0.3ms)[0m  [1mSELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 1 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Tool'[0m
  [1m[35mLti2Tc::ToolSetting Load (0.2ms)[0m  SELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 1 AND `lti2_tc_tool_settings`.`scopeable_id` = 2 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Context'
  [1m[36mLti2Tc::ToolSetting Load (0.2ms)[0m  [1mSELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 1 AND `lti2_tc_tool_settings`.`scopeable_id` = 4 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Ltilink'[0m
  Rendered inline template (0.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (74.2ms)
Completed 200 OK in 77ms (Views: 51.7ms | ActiveRecord: 23.5ms)
Started GET "/admin/course_page?method=show&course_id=2" for 127.0.0.1 at 2015-05-11 07:36:56 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"show", "course_id"=>"2"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1[0m
  [1m[35mLti2Tc::Link Load (0.2ms)[0m  SELECT `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`course_id` = 2
  [1m[36mGradeItem Load (0.2ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 1 LIMIT 1[0m
  [1m[35mGradeResult Load (0.2ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 7 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT `lti2_tc_resources`.* FROM `lti2_tc_resources`   ORDER BY resource_name[0m
  [1m[35mGradeItem Load (0.1ms)[0m  SELECT `grade_items`.* FROM `grade_items`   ORDER BY label
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 1 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.1ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 4 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 7 LIMIT 1[0m
  Rendered admin/course_page/_course_page.html.haml (3.7ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (35.6ms)
Completed 200 OK in 38ms (Views: 34.3ms | ActiveRecord: 2.1ms)
  [1m[36mLti2Tc::Registry Load (9.2ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-05-11 16:37:53 -0700
Processing by Admin::RegisterNewToolController#index as HTML
Completed 401 Unauthorized in 1ms
Started GET "/admin/login" for 127.0.0.1 at 2015-05-11 16:37:53 -0700
Processing by ActiveAdmin::Devise::SessionsController#new as HTML
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/devise/shared/_links.erb (1.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out (52.2ms)
Completed 200 OK in 183ms (Views: 141.4ms | ActiveRecord: 28.4ms)
Started POST "/admin/login" for 127.0.0.1 at 2015-05-11 16:37:56 -0700
Processing by ActiveAdmin::Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "admin_user"=>{"email"=>"admin@lumos.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"<p>active_admin.devise.login.submit</p>"}
  [1m[35mAdminUser Load (6.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`email` = 'admin@lumos.org'  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (3.6ms)[0m  UPDATE `admin_users` SET `current_sign_in_at` = '2015-05-11 23:37:56', `last_sign_in_at` = '2015-05-11 14:36:39', `sign_in_count` = 229, `updated_at` = '2015-05-11 23:37:56' WHERE `admin_users`.`id` = 2
  [1m[36m (2.1ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:4000/admin/register_new_tool
Completed 302 Found in 99ms (ActiveRecord: 12.2ms)
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-05-11 16:37:56 -0700
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.1ms)[0m  INSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-11 23:37:56', 'ac89de40-da64-0132-d246-20c9d07c6451', 'beb5231039bf71dc5053932b3f4fcd08', 'prepared', '2ad6054aeea72826aebbb49e69fcf0044ad63941600cbadc4107721c06087dc89a6b71b42ef1da80363b06f4e3b8670730338d6528f0683a7b040394d50dc2aa9f97a9248c866285b3b0c89601051c050da68f31c4dd78a3c92503088f8cf3d3f0a063c53832a3e2cbb3859838bebb834c1a30ac06073c32f8f45f6ae4aeecfe', 'ac8aa670-da64-0132-d246-20c9d07c6451', '2015-05-11 23:37:56')
  [1m[36m (6.1ms)[0m  [1mCOMMIT[0m
  Rendered admin/register_new_tool/_register_new_tool.html.haml (5.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (62.4ms)
Completed 200 OK in 69ms (Views: 47.2ms | ActiveRecord: 18.1ms)
Started GET "/assets/active_admin/nested_menu_arrow.gif" for 127.0.0.1 at 2015-05-11 16:37:56 -0700
Started GET "/assets/active_admin/nested_menu_arrow_dark.gif" for 127.0.0.1 at 2015-05-11 16:37:56 -0700
Started POST "/admin/register_new_tool" for 127.0.0.1 at 2015-05-11 16:38:25 -0700
Processing by Admin::RegisterNewToolController#index as HTML
  Parameters: {"registration_url"=>"http://localhost:5000/lti2_tp/registrations"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::DeploymentRequest Load (0.5ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `partner_url` = 'http://localhost:5000/lti2_tp/registrations', `updated_at` = '2015-05-11 23:38:25' WHERE `lti2_tc_deployment_requests`.`id` = 2[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `status` = 'submitted', `updated_at` = '2015-05-11 23:38:25' WHERE `lti2_tc_deployment_requests`.`id` = 2
  [1m[36m (6.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO `lti2_tc_tool_consumer_profiles` (`created_at`, `tc_profile`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-11 23:38:25', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/{tc_profile_guid}#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"ac8aa670-da64-0132-d246-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\",\n    \"OAuth.splitsecret\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', 'ac8aa670-da64-0132-d246-20c9d07c6451', '2015-05-11 23:38:25')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  Rendered inline template (0.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (79.6ms)
Completed 200 OK in 82ms (Views: 42.7ms | ActiveRecord: 37.7ms)
Started GET "/lti2_tc/tool_consumer_profiles/ac8aa670-da64-0132-d246-20c9d07c6451" for 127.0.0.1 at 2015-05-11 16:38:25 -0700
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"ac8aa670-da64-0132-d246-20c9d07c6451"}
  [1m[36mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  [1mSELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = 'ac8aa670-da64-0132-d246-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1[0m
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/ac8aa670-da64-0132-d246-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/ac8aa670-da64-0132-d246-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "ac8aa670-da64-0132-d246-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url",
    "OAuth.splitsecret"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.3ms)
Started POST "/lti2_tc/tools" for 127.0.0.1 at 2015-05-11 16:39:04 -0700
Processing by Lti2Tc::ToolsController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"ac89de40-da64-0132-d246-20c9d07c6451", :oauth_nonce=>"7210449103095", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1431387544", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"uwH3Q8pa9fgLIVJC4/5hT6FHPjA=", :oauth_signature=>"Pdfv/KrSiLpmUdbV2rcdZFP7luM="}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = 'ac8aa670-da64-0132-d246-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
ToolProxy as received: 
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/ac8aa670-da64-0132-d246-20c9d07c6451#"
    }
  ],
  "@type": "ToolProxy",
  "@id": "ToolProxyProposal_at_2015-05-11T23:39:04Z",
  "lti_version": "LTI-2p0",
  "tool_proxy_guid": "ac89de40-da64-0132-d246-20c9d07c6451",
  "tool_consumer_profile": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/ac8aa670-da64-0132-d246-20c9d07c6451",
  "tool_profile": {
    "base_url_choice": [
      {
        "default_base_url": "http://rails.kinexis.com:5000",
        "selector": {
          "applies_to": [
            "IconEndpoint",
            "MessageHandler"
          ]
        }
      }
    ],
    "lti_version": "LTI-2p0",
    "message": [
      {
        "message_type": [
          "ToolProxyRegistrationRequest",
          "ToolProxyReregistrationRequest"
        ],
        "parameter": [
          {
            "name": "tc_profile_url",
            "variable": "ToolConsumerProfile.url"
          }
        ],
        "path": "http://rails.kinexis.com:5000/lti2_tp/reregistrations"
      }
    ],
    "product_instance": {
      "guid": "fd75124a-140e-470f-944c-114d2d92bb40",
      "product_info": {
        "description": {
          "default_value": "Fabericious reflowable ePub3 Textbook",
          "key": "tool.description"
        },
        "product_family": {
          "code": "assessment-tool",
          "vendor": {
            "code": "fabericious.org",
            "contact": {
              "email": "info@fabericious.com"
            },
            "description": {
              "default_value": "Fabericious is a leading provider of interactive tools for education",
              "key": "tool.vendor.description"
            },
            "vendor_name": {
              "default_value": "Fab",
              "key": "tool.vendor.name"
            },
            "timestamp": "2012-04-05T09:08:16-04:00",
            "website": "{http://rails.kinexis.com:5000}"
          }
        },
        "product_name": {
          "default_value": "LTI2 BookTools",
          "key": "tool.name"
        },
        "product_version": "10.3",
        "technical_description": {
          "default_value": "Support provided for all LTI 1 extensions as well as LTI 2",
          "key": "tool.technical"
        }
      },
      "service_provider": {
        "description": {
          "default_value": "Provider of high performance managed hosting environments",
          "key": "service_provider.description"
        },
        "guid": "18e7ea50-3d6d-4f6b-aff2-ed3ab577716c",
        "service_provider_name": {
          "default_value": "Amazon Cloud",
          "key": "service_provider.name"
        },
        "support": {
          "email": "support@ec2.fabericious.com"
        },
        "timestamp": "2012-04-05T09:08:16-04:00"
      },
      "support": {
        "email": "helpdesk@fabericious.com"
      }
    },
    "resource_handler": [
      {
        "description": {
          "default_value": "Settings service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "tool_proxy_custom_url",
                "variable": "ToolProxy.custom.url"
              },
              {
                "name": "tool_proxy_binding_custom_url",
                "variable": "ToolProxyBinding.custom.url"
              },
              {
                "name": "lti_link_custom_url",
                "variable": "LtiLink.custom.url"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "ToolProxy.custom.url",
              "ToolProxyBinding.custom.url",
              "LtiLink.custom.url"
            ],
            "path": "/settings"
          }
        ],
        "resource_name": {
          "default_value": "Settings",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "setting"
        }
      },
      {
        "description": {
          "default_value": "Echo service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "fixed": "Narcissus",
                "name": "referrer"
              },
              {
                "fixed": "3.14159",
                "name": "pi"
              },
              {
                "name": "user_primary_email",
                "variable": "Person.email.primary"
              },
              {
                "name": "discipline",
                "variable": "CourseOffering.label"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary"
            ],
            "path": "/echoes"
          }
        ],
        "resource_name": {
          "default_value": "Echo",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "echo"
        }
      },
      {
        "description": {
          "default_value": "Interactive resource",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "vbid"
              },
              {
                "name": "result_uri",
                "variable": "Result.uri"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "Result.autocreate"
            ],
            "path": "/iresources"
          }
        ],
        "resource_name": {
          "default_value": "InteractiveResource",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "iresource"
        }
      }
    ],
    "service_offered": [
      {
        "@id": "http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection",
        "@type": "RestService",
        "action": [
          "PUT"
        ],
        "endpoint": "http://rails.kinexis.com:5000/lti2_tp/tool_proxies",
        "format": [
          ""
        ]
      }
    ]
  },
  "security_contract": {
    "shared_secret": "7337946f6c3c370ad9582750c0cb1214",
    "tool_service": [
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.collection",
        "action": [
          "POST"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:Result.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:LtiLinkSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxyBindingSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxySettings",
        "action": [
          "GET",
          "PUT"
        ]
      }
    ]
  }
}
  [1m[36mLti2Tc::DeploymentRequest Load (0.3ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = 'ac89de40-da64-0132-d246-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/ac8aa670-da64-0132-d246-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-05-11T23:39:04Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"ac89de40-da64-0132-d246-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/ac8aa670-da64-0132-d246-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"7337946f6c3c370ad9582750c0cb1214\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-05-11 23:39:04' WHERE `lti2_tc_deployment_requests`.`id` = 2[0m
  [1m[35m (11.8ms)[0m  COMMIT
AuthHdr_Parms: {:oauth_consumer_key=>"ac89de40-da64-0132-d246-20c9d07c6451", :oauth_nonce=>"7210449103095", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1431387544", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"uwH3Q8pa9fgLIVJC4/5hT6FHPjA=", :oauth_signature=>"Pdfv/KrSiLpmUdbV2rcdZFP7luM="}
in verify_signature
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO `lti2_tc_tools` (`created_at`, `description`, `is_enabled`, `key`, `product_name`, `secret`, `status`, `tool_proxy`, `updated_at`) VALUES ('2015-05-11 23:39:04', 'Fabericious reflowable ePub3 Textbook', 0, 'ac89de40-da64-0132-d246-20c9d07c6451', 'LTI2 BookTools', '7337946f6c3c370ad9582750c0cb1214', 'registered', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/ac8aa670-da64-0132-d246-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"ToolProxyProposal_at_2015-05-11T23:39:04Z\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"ac89de40-da64-0132-d246-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/ac8aa670-da64-0132-d246-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"7337946f6c3c370ad9582750c0cb1214\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', '2015-05-11 23:39:04')
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 2)[0m
  [1m[35m (6.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-05-11 23:39:05', 1, '{}', 10, 'Settings', '2015-05-11 23:39:05')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 2)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-05-11 23:39:05', 1, '{}', 11, 'Settings', '2015-05-11 23:39:05')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 2)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-05-11 23:39:05', 1, '{}', 12, 'Settings', '2015-05-11 23:39:05')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 2)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-05-11 23:39:05', 1, '{}', 13, 'Echo', '2015-05-11 23:39:05')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 2)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-05-11 23:39:05', 1, '{}', 14, 'Echo', '2015-05-11 23:39:05')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 2)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-05-11 23:39:05', 1, '{}', 15, 'Echo', '2015-05-11 23:39:05')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 2)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (2, '2015-05-11 23:39:05', 'IRTestGrade', '2015-05-11 23:39:05')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-05-11 23:39:05', 4, 1, '{\"vbid\":\"L-999-74180\"}', 16, 'InteractiveResource', '2015-05-11 23:39:05')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 2)
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (5, '2015-05-11 23:39:05', 'IRTestGrade', '2015-05-11 23:39:05')[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-05-11 23:39:05', 5, 1, '{\"vbid\":\"L-999-74180\"}', 17, 'InteractiveResource', '2015-05-11 23:39:05')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 2)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (6, '2015-05-11 23:39:05', 'IRTestGrade', '2015-05-11 23:39:05')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-05-11 23:39:05', 6, 1, '{\"vbid\":\"L-999-74180\"}', 18, 'InteractiveResource', '2015-05-11 23:39:05')[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.3ms)[0m  UPDATE `lti2_tc_tools` SET `tool_proxy` = '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/ac8aa670-da64-0132-d246-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"http://rails.kinexis.com:4000/tools/ac89de40-da64-0132-d246-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"ac89de40-da64-0132-d246-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/ac8aa670-da64-0132-d246-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"7337946f6c3c370ad9582750c0cb1214\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', `updated_at` = '2015-05-11 23:39:05' WHERE `lti2_tc_tools`.`id` = 2
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
Exit from Tool/create(POST)--status 201  content-type: application/vnd.ims.lti.v2.toolproxy.id+json
{"@context":"http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId","@type":"ToolProxy","@id":"http://rails.kinexis.com:4000/tools/ac89de40-da64-0132-d246-20c9d07c6451","tool_proxy_guid":"ac89de40-da64-0132-d246-20c9d07c6451"}
Completed 201 Created in 153ms (Views: 0.2ms | ActiveRecord: 89.0ms)
Started GET "/admin/tool_actions?status=success&tool_guid=ac89de40-da64-0132-d246-20c9d07c6451" for 127.0.0.1 at 2015-05-11 16:39:05 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"ac89de40-da64-0132-d246-20c9d07c6451"}
  [1m[35mAdminUser Load (0.6ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `admin_users` SET `current_sign_in_at` = '2015-05-11 23:39:05', `last_sign_in_at` = '2015-05-11 23:37:56', `sign_in_count` = 230, `updated_at` = '2015-05-11 23:39:05' WHERE `admin_users`.`id` = 2
  [1m[36m (5.9ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tc::Tool Load (0.8ms)[0m  SELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name
  Rendered admin/tool_actions/_tool_actions.html.haml (4.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (34.7ms)
Completed 200 OK in 52ms (Views: 35.1ms | ActiveRecord: 8.0ms)
Started GET "/admin/tool_actions?method=toggle&tool_id=2&toggle=true" for 127.0.0.1 at 2015-05-11 16:39:08 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"method"=>"toggle", "tool_id"=>"2", "toggle"=>"true"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.4ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 2 LIMIT 1[0m  [["id", "2"]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tc_tools` SET `is_enabled` = 1, `updated_at` = '2015-05-11 23:39:08' WHERE `lti2_tc_tools`.`id` = 2[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mLti2Tc::Tool Load (0.2ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (0.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (28.6ms)
Completed 200 OK in 31ms (Views: 27.7ms | ActiveRecord: 1.7ms)
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-05-11 16:39:13 -0700
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-11 23:39:13', 'da74ad40-da64-0132-d246-20c9d07c6451', 'b0fe00edf950e05dc67a3f47ac2e9eea', 'prepared', 'd9a5e687989dfe1e5ee024601ac64f047fb35ba67b031cdd2eba6e396e307a15912c3ceea6537176e54872b065448591744a2c4cb4d4ea436b31d699b040652d7a2a8a02b80848a90a2ecc7560b21e2724b16e161c74b40bd4776b473129f2180653cca7a682c38804d624f6ced611ffb1ddca326f3880428f3e384e0ffe325a', 'da74af80-da64-0132-d246-20c9d07c6451', '2015-05-11 23:39:13')
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
  Rendered admin/register_new_tool/_register_new_tool.html.haml (0.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (26.9ms)
Completed 200 OK in 29ms (Views: 25.3ms | ActiveRecord: 2.4ms)
Started POST "/admin/register_new_tool" for 127.0.0.1 at 2015-05-11 16:39:19 -0700
Processing by Admin::RegisterNewToolController#index as HTML
  Parameters: {"registration_url"=>"http://bc-dev.vitalsource.com/lti2_tp/registrations"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::DeploymentRequest Load (0.3ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `partner_url` = 'http://bc-dev.vitalsource.com/lti2_tp/registrations', `updated_at` = '2015-05-11 23:39:19' WHERE `lti2_tc_deployment_requests`.`id` = 3[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `status` = 'submitted', `updated_at` = '2015-05-11 23:39:19' WHERE `lti2_tc_deployment_requests`.`id` = 3
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO `lti2_tc_tool_consumer_profiles` (`created_at`, `tc_profile`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-11 23:39:19', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/ac8aa670-da64-0132-d246-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/ac8aa670-da64-0132-d246-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"da74af80-da64-0132-d246-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\",\n    \"OAuth.splitsecret\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', 'da74af80-da64-0132-d246-20c9d07c6451', '2015-05-11 23:39:19')[0m
  [1m[35m (0.7ms)[0m  COMMIT
  Rendered inline template (0.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (34.0ms)
Completed 200 OK in 37ms (Views: 31.1ms | ActiveRecord: 3.6ms)
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-05-11 16:40:26 -0700
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-11 23:40:26', '06320a30-da65-0132-d246-20c9d07c6451', '1bf2963836597115d7a076971684f5d1', 'prepared', 'e22f6bf5f8e317d5c03afbd3301b7763371da6d2dff2b2838fa13e0fa392b9700bbdb65b894f317bdf6a7e0d9ebc8d3326dc618c9626e1fc32ea8ce8c9e240c503b7d73a28beb3a9249e8c813641c1eb8366e16e8ea46597c32ab66e7834b141c6063aaa6d90cfb3770cefc06e4731dc15f7fb5c9f8ade6829848326a88671c7', '06320ca0-da65-0132-d246-20c9d07c6451', '2015-05-11 23:40:26')[0m
  [1m[35m (1.9ms)[0m  COMMIT
  Rendered admin/register_new_tool/_register_new_tool.html.haml (0.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (77.7ms)
Completed 200 OK in 80ms (Views: 75.8ms | ActiveRecord: 2.6ms)
Started POST "/admin/register_new_tool" for 127.0.0.1 at 2015-05-11 16:40:33 -0700
Processing by Admin::RegisterNewToolController#index as HTML
  Parameters: {"registration_url"=>"http://bc.vitalsource.com/lti2_tp/registrations"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::DeploymentRequest Load (0.5ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`id` = 4 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `partner_url` = 'http://bc.vitalsource.com/lti2_tp/registrations', `updated_at` = '2015-05-11 23:40:33' WHERE `lti2_tc_deployment_requests`.`id` = 4
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `status` = 'submitted', `updated_at` = '2015-05-11 23:40:33' WHERE `lti2_tc_deployment_requests`.`id` = 4[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `lti2_tc_tool_consumer_profiles` (`created_at`, `tc_profile`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-11 23:40:33', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/ac8aa670-da64-0132-d246-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/ac8aa670-da64-0132-d246-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"06320ca0-da65-0132-d246-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\",\n    \"OAuth.splitsecret\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', '06320ca0-da65-0132-d246-20c9d07c6451', '2015-05-11 23:40:33')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  Rendered inline template (0.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (34.4ms)
Completed 200 OK in 37ms (Views: 32.1ms | ActiveRecord: 3.4ms)
  [1m[36mLti2Tc::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-05-11 16:44:23 -0700
Processing by Admin::RegisterNewToolController#index as HTML
Completed 401 Unauthorized in 1ms
Started GET "/admin/login" for 127.0.0.1 at 2015-05-11 16:44:23 -0700
Processing by ActiveAdmin::Devise::SessionsController#new as HTML
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/devise/shared/_links.erb (1.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out (42.8ms)
Completed 200 OK in 196ms (Views: 164.7ms | ActiveRecord: 20.0ms)
Started POST "/admin/login" for 127.0.0.1 at 2015-05-11 16:44:26 -0700
Processing by ActiveAdmin::Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "admin_user"=>{"email"=>"admin@lumos.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"<p>active_admin.devise.login.submit</p>"}
  [1m[35mAdminUser Load (0.4ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`email` = 'admin@lumos.org'  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `admin_users` SET `current_sign_in_at` = '2015-05-11 23:44:26', `last_sign_in_at` = '2015-05-11 23:39:05', `sign_in_count` = 231, `updated_at` = '2015-05-11 23:44:26' WHERE `admin_users`.`id` = 2
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:4000/admin/register_new_tool
Completed 302 Found in 93ms (ActiveRecord: 1.5ms)
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-05-11 16:44:26 -0700
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-11 23:44:26', '9540fb70-da65-0132-d248-20c9d07c6451', '32768a3d40bf49249b45f48d7f603a70', 'prepared', 'ed6e2b7f3679e7cb75db8533beb5aca7187a1f58ed7936169fc2773775c82827f8f1e674141e7c3425f24a4618fb34173789d157e4ee7652337af168891000d973c29d27c1f62e8999a750a5ec211ee8206dae0b45254e491136679be84d6d21d700e6b40dddba29409e7255040da884d200e45a6f4aa1c900d38b683137e980', '9541c880-da65-0132-d248-20c9d07c6451', '2015-05-11 23:44:26')
  [1m[36m (11.9ms)[0m  [1mCOMMIT[0m
  Rendered admin/register_new_tool/_register_new_tool.html.haml (3.2ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (56.7ms)
Completed 200 OK in 63ms (Views: 44.8ms | ActiveRecord: 14.9ms)
Started POST "/admin/register_new_tool" for 127.0.0.1 at 2015-05-11 16:44:34 -0700
Processing by Admin::RegisterNewToolController#index as HTML
  Parameters: {"registration_url"=>"http://bc.vitalsource.com/lti2_tp/registrations"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::DeploymentRequest Load (0.3ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `partner_url` = 'http://bc.vitalsource.com/lti2_tp/registrations', `updated_at` = '2015-05-11 23:44:34' WHERE `lti2_tc_deployment_requests`.`id` = 5[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `status` = 'submitted', `updated_at` = '2015-05-11 23:44:34' WHERE `lti2_tc_deployment_requests`.`id` = 5
  [1m[36m (6.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `lti2_tc_tool_consumer_profiles` (`created_at`, `tc_profile`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-11 23:44:34', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/{tc_profile_guid}#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"9541c880-da65-0132-d248-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\",\n    \"OAuth.splitsecret\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', '9541c880-da65-0132-d248-20c9d07c6451', '2015-05-11 23:44:34')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  Rendered inline template (0.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (68.8ms)
Completed 200 OK in 71ms (Views: 41.0ms | ActiveRecord: 28.5ms)
  [1m[36mLti2Tc::Registry Load (0.6ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
  [1m[36mLti2Tc::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tc_registries`.* FROM `lti2_tc_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (3.8ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mSQL (7.6ms)[0m  [1mDELETE FROM `lti2_tc_deployment_requests`[0m
  [1m[35mSQL (9.7ms)[0m  DELETE FROM `lti2_tc_tool_consumer_profiles`
  [1m[36mSQL (15.7ms)[0m  [1mDELETE FROM `lti2_tc_resources`[0m
  [1m[35mSQL (1.3ms)[0m  DELETE FROM `lti2_tc_tools`
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `lti2_tc_links`[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `grade_items`
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `grade_results`[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `lti2_tc_tool_settings`
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-05-12 14:07:54 -0700
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[35mAdminUser Load (0.4ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-12 21:07:54', 'e18f27b0-db18-0132-d251-20c9d07c6451', '9682c27af6b82a03a0389197d5adbd75', 'prepared', 'c4d86ce8f53a062ff7af0a79856dc966711e90a2b9a75c89d7df01c9d54790d6c4a1d16df8a8306d8811839de1bd3bfbffb320a5a6a2778609df5fb652d5e9732c2ab256607402d1f1f106d708ce0f73f23bd746ae7f619ed84e35d94b777a4e12d16088b2499b7e81516b82d9d1121f9c7b7a6841ae122fa5d4e18b11f4bc89', 'e1903e40-db18-0132-d251-20c9d07c6451', '2015-05-12 21:07:54')
  [1m[36m (5.7ms)[0m  [1mCOMMIT[0m
  Rendered admin/register_new_tool/_register_new_tool.html.haml (14.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (159.1ms)
Completed 200 OK in 217ms (Views: 163.1ms | ActiveRecord: 28.5ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-05-12 14:07:57 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  Rendered admin/dashboard/_dashboard.html.haml (4.8ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (51.7ms)
Completed 200 OK in 54ms (Views: 52.4ms | ActiveRecord: 0.3ms)
Started GET "/admin/admin_actions" for 127.0.0.1 at 2015-05-12 14:07:59 -0700
Processing by Admin::AdminActionsController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  Rendered admin/admin_actions/_admin_actions.html.haml (2.6ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (31.3ms)
Completed 200 OK in 34ms (Views: 32.1ms | ActiveRecord: 0.3ms)
Started GET "/admin/tool_actions" for 127.0.0.1 at 2015-05-12 14:08:01 -0700
Processing by Admin::ToolActionsController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.3ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (4.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (32.4ms)
Completed 200 OK in 35ms (Views: 32.9ms | ActiveRecord: 0.6ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-05-12 14:08:03 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  Rendered admin/dashboard/_dashboard.html.haml (0.6ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (27.3ms)
Completed 200 OK in 30ms (Views: 27.9ms | ActiveRecord: 0.3ms)
Started GET "/admin/admin_actions" for 127.0.0.1 at 2015-05-12 14:08:05 -0700
Processing by Admin::AdminActionsController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  Rendered admin/admin_actions/_admin_actions.html.haml (0.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (27.1ms)
Completed 200 OK in 30ms (Views: 27.7ms | ActiveRecord: 0.3ms)
Started GET "/admin/register_new_tool" for 127.0.0.1 at 2015-05-12 14:08:06 -0700
Processing by Admin::RegisterNewToolController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `lti2_tc_deployment_requests` (`created_at`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-12 21:08:06', 'e8dbba20-db18-0132-d251-20c9d07c6451', '8791c6de73b8d68b2ad034707933a5c9', 'prepared', 'cc43928f4a5720a12b1413cac0249779165aa2fe4ed4f0035004d6e5b2620ec948ae0ca0d09b6f13d82a40a7e8064c50533525a9fe7e8b7e986649847ab1ca103de4793975934d4b7f260cd54a43e0bc4087cca89f5529a19f489ea771e0feb04144c46b8b7ec5601ed472ca7eade3d0200446683a0ac288e18e075d32d10092', 'e8dbc090-db18-0132-d251-20c9d07c6451', '2015-05-12 21:08:06')
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  Rendered admin/register_new_tool/_register_new_tool.html.haml (0.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (32.2ms)
Completed 200 OK in 35ms (Views: 30.8ms | ActiveRecord: 2.3ms)
Started POST "/admin/register_new_tool" for 127.0.0.1 at 2015-05-12 14:08:11 -0700
Processing by Admin::RegisterNewToolController#index as HTML
  Parameters: {"registration_url"=>"http://localhost:5000/lti2_tp/registrations"}
  [1m[35mAdminUser Load (0.5ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::DeploymentRequest Load (0.4ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `partner_url` = 'http://localhost:5000/lti2_tp/registrations', `updated_at` = '2015-05-12 21:08:11' WHERE `lti2_tc_deployment_requests`.`id` = 7[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `status` = 'submitted', `updated_at` = '2015-05-12 21:08:11' WHERE `lti2_tc_deployment_requests`.`id` = 7
  [1m[36m (6.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `lti2_tc_tool_consumer_profiles` (`created_at`, `tc_profile`, `tc_profile_guid`, `updated_at`) VALUES ('2015-05-12 21:08:11', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/{tc_profile_guid}#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"e8dbc090-db18-0132-d251-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\",\n    \"OAuth.splitsecret\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', 'e8dbc090-db18-0132-d251-20c9d07c6451', '2015-05-12 21:08:11')[0m
  [1m[35m (12.4ms)[0m  COMMIT
  Rendered inline template (1.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (92.1ms)
Completed 200 OK in 95ms (Views: 52.6ms | ActiveRecord: 40.7ms)
Started GET "/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451" for 127.0.0.1 at 2015-05-12 14:08:11 -0700
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"e8dbc090-db18-0132-d251-20c9d07c6451"}
  [1m[36mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  [1mSELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = 'e8dbc090-db18-0132-d251-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1[0m
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "e8dbc090-db18-0132-d251-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url",
    "OAuth.splitsecret"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.3ms)
Started POST "/lti2_tc/tools" for 127.0.0.1 at 2015-05-12 14:08:17 -0700
Processing by Lti2Tc::ToolsController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"e8dbba20-db18-0132-d251-20c9d07c6451", :oauth_nonce=>"9945633732928", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1431464897", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"XqT8G3r9N6I2qhB/OTYljqAcKVE=", :oauth_signature=>"yZVYSs+xQm7Bu/hB3+wkwI/Vq3c="}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.4ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = 'e8dbc090-db18-0132-d251-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
ToolProxy as received: 
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451#"
    }
  ],
  "@type": "ToolProxy",
  "@id": "ToolProxyProposal_at_2015-05-12T21:08:17Z",
  "lti_version": "LTI-2p0",
  "tool_proxy_guid": "e8dbba20-db18-0132-d251-20c9d07c6451",
  "tool_consumer_profile": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451",
  "tool_profile": {
    "base_url_choice": [
      {
        "default_base_url": "http://rails.kinexis.com:5000",
        "selector": {
          "applies_to": [
            "IconEndpoint",
            "MessageHandler"
          ]
        }
      }
    ],
    "lti_version": "LTI-2p0",
    "message": [
      {
        "message_type": [
          "ToolProxyRegistrationRequest",
          "ToolProxyReregistrationRequest"
        ],
        "parameter": [
          {
            "name": "tc_profile_url",
            "variable": "ToolConsumerProfile.url"
          }
        ],
        "path": "http://rails.kinexis.com:5000/lti2_tp/reregistrations"
      }
    ],
    "product_instance": {
      "guid": "fd75124a-140e-470f-944c-114d2d92bb40",
      "product_info": {
        "description": {
          "default_value": "Fabericious reflowable ePub3 Textbook",
          "key": "tool.description"
        },
        "product_family": {
          "code": "assessment-tool",
          "vendor": {
            "code": "fabericious.org",
            "contact": {
              "email": "info@fabericious.com"
            },
            "description": {
              "default_value": "Fabericious is a leading provider of interactive tools for education",
              "key": "tool.vendor.description"
            },
            "vendor_name": {
              "default_value": "Fab",
              "key": "tool.vendor.name"
            },
            "timestamp": "2012-04-05T09:08:16-04:00",
            "website": "{http://rails.kinexis.com:5000}"
          }
        },
        "product_name": {
          "default_value": "LTI2 BookTools",
          "key": "tool.name"
        },
        "product_version": "10.3",
        "technical_description": {
          "default_value": "Support provided for all LTI 1 extensions as well as LTI 2",
          "key": "tool.technical"
        }
      },
      "service_provider": {
        "description": {
          "default_value": "Provider of high performance managed hosting environments",
          "key": "service_provider.description"
        },
        "guid": "18e7ea50-3d6d-4f6b-aff2-ed3ab577716c",
        "service_provider_name": {
          "default_value": "Amazon Cloud",
          "key": "service_provider.name"
        },
        "support": {
          "email": "support@ec2.fabericious.com"
        },
        "timestamp": "2012-04-05T09:08:16-04:00"
      },
      "support": {
        "email": "helpdesk@fabericious.com"
      }
    },
    "resource_handler": [
      {
        "description": {
          "default_value": "Settings service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "tool_proxy_custom_url",
                "variable": "ToolProxy.custom.url"
              },
              {
                "name": "tool_proxy_binding_custom_url",
                "variable": "ToolProxyBinding.custom.url"
              },
              {
                "name": "lti_link_custom_url",
                "variable": "LtiLink.custom.url"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "ToolProxy.custom.url",
              "ToolProxyBinding.custom.url",
              "LtiLink.custom.url"
            ],
            "path": "/settings"
          }
        ],
        "resource_name": {
          "default_value": "Settings",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "setting"
        }
      },
      {
        "description": {
          "default_value": "Echo service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "fixed": "Narcissus",
                "name": "referrer"
              },
              {
                "fixed": "3.14159",
                "name": "pi"
              },
              {
                "name": "user_primary_email",
                "variable": "Person.email.primary"
              },
              {
                "name": "discipline",
                "variable": "CourseOffering.label"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary"
            ],
            "path": "/echoes"
          }
        ],
        "resource_name": {
          "default_value": "Echo",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "echo"
        }
      },
      {
        "description": {
          "default_value": "Interactive resource",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "vbid"
              },
              {
                "name": "result_uri",
                "variable": "Result.uri"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "Result.autocreate"
            ],
            "path": "/iresources"
          }
        ],
        "resource_name": {
          "default_value": "InteractiveResource",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "iresource"
        }
      }
    ],
    "service_offered": [
      {
        "@id": "http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection",
        "@type": "RestService",
        "action": [
          "PUT"
        ],
        "endpoint": "http://rails.kinexis.com:5000/lti2_tp/tool_proxies",
        "format": [
          ""
        ]
      }
    ]
  },
  "security_contract": {
    "shared_secret": "0d079fe2ce4668bd9dd778fe4fe2fb61",
    "tool_service": [
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.collection",
        "action": [
          "POST"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:Result.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:LtiLinkSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxyBindingSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxySettings",
        "action": [
          "GET",
          "PUT"
        ]
      }
    ]
  }
}
  [1m[36mLti2Tc::DeploymentRequest Load (0.3ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = 'e8dbba20-db18-0132-d251-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-05-12T21:08:17Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"e8dbba20-db18-0132-d251-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"0d079fe2ce4668bd9dd778fe4fe2fb61\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-05-12 21:08:17' WHERE `lti2_tc_deployment_requests`.`id` = 7[0m
  [1m[35m (12.0ms)[0m  COMMIT
AuthHdr_Parms: {:oauth_consumer_key=>"e8dbba20-db18-0132-d251-20c9d07c6451", :oauth_nonce=>"9945633732928", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1431464897", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"XqT8G3r9N6I2qhB/OTYljqAcKVE=", :oauth_signature=>"yZVYSs+xQm7Bu/hB3+wkwI/Vq3c="}
in verify_signature
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `lti2_tc_tools` (`created_at`, `description`, `is_enabled`, `key`, `product_name`, `secret`, `status`, `tool_proxy`, `updated_at`) VALUES ('2015-05-12 21:08:17', 'Fabericious reflowable ePub3 Textbook', 0, 'e8dbba20-db18-0132-d251-20c9d07c6451', 'LTI2 BookTools', '0d079fe2ce4668bd9dd778fe4fe2fb61', 'registered', '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"ToolProxyProposal_at_2015-05-12T21:08:17Z\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"e8dbba20-db18-0132-d251-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"0d079fe2ce4668bd9dd778fe4fe2fb61\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', '2015-05-12 21:08:17')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 3)[0m
  [1m[35m (6.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-05-12 21:08:17', 1, '{}', 19, 'Settings', '2015-05-12 21:08:17')
  [1m[36m (6.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 3)[0m
  [1m[35m (5.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-05-12 21:08:17', 1, '{}', 20, 'Settings', '2015-05-12 21:08:17')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Settings service', 'Settings', 'setting', 3)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-05-12 21:08:17', 1, '{}', 21, 'Settings', '2015-05-12 21:08:17')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 3)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-05-12 21:08:17', 1, '{}', 22, 'Echo', '2015-05-12 21:08:17')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 3)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-05-12 21:08:17', 1, '{}', 23, 'Echo', '2015-05-12 21:08:17')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Echo service', 'Echo', 'echo', 3)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-05-12 21:08:17', 1, '{}', 24, 'Echo', '2015-05-12 21:08:17')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 3)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (2, '2015-05-12 21:08:17', 'IRTestGrade', '2015-05-12 21:08:17')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (2, '2015-05-12 21:08:17', 7, 1, '{\"vbid\":\"L-999-74180\"}', 25, 'InteractiveResource', '2015-05-12 21:08:17')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 3)
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (5, '2015-05-12 21:08:17', 'IRTestGrade', '2015-05-12 21:08:17')[0m
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (5, '2015-05-12 21:08:17', 8, 1, '{\"vbid\":\"L-999-74180\"}', 26, 'InteractiveResource', '2015-05-12 21:08:17')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `lti2_tc_resources` (`description`, `resource_name`, `resource_type`, `tool_id`) VALUES ('Interactive resource', 'InteractiveResource', 'iresource', 3)[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `grade_items` (`course_id`, `created_at`, `label`, `updated_at`) VALUES (6, '2015-05-12 21:08:17', 'IRTestGrade', '2015-05-12 21:08:17')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti2_tc_links` (`course_id`, `created_at`, `grade_item_id`, `is_enabled`, `link_parameters`, `resource_id`, `resource_link_label`, `updated_at`) VALUES (6, '2015-05-12 21:08:17', 9, 1, '{\"vbid\":\"L-999-74180\"}', 27, 'InteractiveResource', '2015-05-12 21:08:17')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `lti2_tc_tools` SET `tool_proxy` = '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"http://rails.kinexis.com:4000/tools/e8dbba20-db18-0132-d251-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"e8dbba20-db18-0132-d251-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"0d079fe2ce4668bd9dd778fe4fe2fb61\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', `updated_at` = '2015-05-12 21:08:17' WHERE `lti2_tc_tools`.`id` = 3
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
Exit from Tool/create(POST)--status 201  content-type: application/vnd.ims.lti.v2.toolproxy.id+json
{"@context":"http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId","@type":"ToolProxy","@id":"http://rails.kinexis.com:4000/tools/e8dbba20-db18-0132-d251-20c9d07c6451","tool_proxy_guid":"e8dbba20-db18-0132-d251-20c9d07c6451"}
Completed 201 Created in 162ms (Views: 0.3ms | ActiveRecord: 88.4ms)
Started GET "/admin/tool_actions?status=success&tool_guid=e8dbba20-db18-0132-d251-20c9d07c6451" for 127.0.0.1 at 2015-05-12 14:08:17 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"e8dbba20-db18-0132-d251-20c9d07c6451"}
Completed 401 Unauthorized in 2ms
Started GET "/admin/login" for 127.0.0.1 at 2015-05-12 14:08:17 -0700
Processing by ActiveAdmin::Devise::SessionsController#new as HTML
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/devise/shared/_links.erb (1.8ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out (33.7ms)
Completed 200 OK in 47ms (Views: 42.3ms | ActiveRecord: 0.0ms)
Started POST "/admin/login" for 127.0.0.1 at 2015-05-12 14:08:28 -0700
Processing by ActiveAdmin::Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "admin_user"=>{"email"=>"admin@lumos.org", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"<p>active_admin.devise.login.submit</p>"}
  [1m[35mAdminUser Load (0.4ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`email` = 'admin@lumos.org'  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `admin_users` SET `current_sign_in_at` = '2015-05-12 21:08:28', `last_sign_in_at` = '2015-05-11 23:44:26', `sign_in_count` = 232, `updated_at` = '2015-05-12 21:08:28' WHERE `admin_users`.`id` = 2
  [1m[36m (5.6ms)[0m  [1mCOMMIT[0m
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success&tool_guid=e8dbba20-db18-0132-d251-20c9d07c6451
Completed 302 Found in 96ms (ActiveRecord: 6.4ms)
Started GET "/admin/tool_actions?status=success&tool_guid=e8dbba20-db18-0132-d251-20c9d07c6451" for 127.0.0.1 at 2015-05-12 14:08:28 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"e8dbba20-db18-0132-d251-20c9d07c6451"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.4ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (0.6ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (89.8ms)
Completed 200 OK in 93ms (Views: 90.1ms | ActiveRecord: 0.7ms)
Started GET "/admin/tool_actions?method=toggle&tool_id=3&toggle=true" for 127.0.0.1 at 2015-05-12 14:08:34 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"method"=>"toggle", "tool_id"=>"3", "toggle"=>"true"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.5ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 3 LIMIT 1  [["id", "3"]]
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `lti2_tc_tools` SET `is_enabled` = 1, `updated_at` = '2015-05-12 21:08:34' WHERE `lti2_tc_tools`.`id` = 3
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tc::Tool Load (0.2ms)[0m  SELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name
  Rendered admin/tool_actions/_tool_actions.html.haml (0.2ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (32.4ms)
Completed 200 OK in 35ms (Views: 31.2ms | ActiveRecord: 1.9ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-05-12 14:08:40 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  Rendered admin/dashboard/_dashboard.html.haml (0.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (29.8ms)
Completed 200 OK in 33ms (Views: 30.6ms | ActiveRecord: 0.4ms)
Started GET "/admin/course_actions" for 127.0.0.1 at 2015-05-12 14:08:42 -0700
Processing by Admin::CourseActionsController#index as HTML
  [1m[35mAdminUser Load (0.5ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT `courses`.* FROM `courses`   ORDER BY course_label[0m
  Rendered admin/course_actions/_course_actions.html.haml (2.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (37.9ms)
Completed 200 OK in 41ms (Views: 36.3ms | ActiveRecord: 2.8ms)
Started GET "/admin/course_page?method=show&course_id=2" for 127.0.0.1 at 2015-05-12 14:08:46 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"show", "course_id"=>"2"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1[0m
  [1m[35mLti2Tc::Link Load (0.2ms)[0m  SELECT `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`course_id` = 2
  [1m[36mGradeItem Load (0.2ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 7 LIMIT 1[0m
  [1m[35mGradeResult Load (0.4ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 25 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT `lti2_tc_resources`.* FROM `lti2_tc_resources`   ORDER BY resource_name[0m
  [1m[35mGradeItem Load (0.4ms)[0m  SELECT `grade_items`.* FROM `grade_items`   ORDER BY label
  [1m[36mLti2Tc::Resource Load (0.4ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 19 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 22 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 25 LIMIT 1[0m
  Rendered admin/course_page/_course_page.html.haml (17.9ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (52.6ms)
Completed 200 OK in 55ms (Views: 50.2ms | ActiveRecord: 3.4ms)
Started GET "/admin/course_page?method=link&link_id=25" for 127.0.0.1 at 2015-05-12 14:08:48 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"link", "link_id"=>"25"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Link Load (0.3ms)[0m  [1mSELECT  `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`id` = 25 LIMIT 1[0m
  [1m[35mCourse Load (0.4ms)[0m  SELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1
  [1m[36mEnrollment Load (0.3ms)[0m  [1mSELECT  `enrollments`.* FROM `enrollments`  WHERE `enrollments`.`admin_user_id` = 2 AND `enrollments`.`course_id` = 2  ORDER BY `enrollments`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.4ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 25 LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.3ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 3 LIMIT 1[0m
  [1m[35mLti2Tc::ToolSetting Load (0.3ms)[0m  SELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 3 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Tool'
  [1m[36mLti2Tc::ToolSetting Load (0.2ms)[0m  [1mSELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 3 AND `lti2_tc_tool_settings`.`scopeable_id` = 2 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Context'[0m
  [1m[35mLti2Tc::ToolSetting Load (0.1ms)[0m  SELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 3 AND `lti2_tc_tool_settings`.`scopeable_id` = 25 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Ltilink'
  [1m[36mGradeResult Load (0.2ms)[0m  [1mSELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 25 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `grade_results` (`admin_user_id`, `created_at`, `link_id`, `updated_at`) VALUES (2, '2015-05-12 21:08:48', 25, '2015-05-12 21:08:48')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  Rendered inline template (0.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (85.2ms)
Completed 200 OK in 88ms (Views: 56.0ms | ActiveRecord: 30.1ms)
Started PUT "/results/1" for 127.0.0.1 at 2015-05-12 14:08:54 -0700
Processing by ResultsController#update as HTML
  Parameters: {"id"=>"1"}
AuthHdr_Parms: {:oauth_consumer_key=>"e8dbba20-db18-0132-d251-20c9d07c6451", :oauth_nonce=>"117478599701", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1431464934", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"CKGumsZG0u82/qXg9cCQ3/66Ysw=", :oauth_signature=>"jfZwKWR9icA4pqzoVKNLaQgjjB8="}
  [1m[36mLti2Tc::Tool Load (0.4ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = 'e8dbba20-db18-0132-d251-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {:oauth_consumer_key=>"e8dbba20-db18-0132-d251-20c9d07c6451", :oauth_nonce=>"117478599701", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1431464934", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"CKGumsZG0u82/qXg9cCQ3/66Ysw=", :oauth_signature=>"jfZwKWR9icA4pqzoVKNLaQgjjB8="}
in verify_signature
  [1m[35mGradeResult Load (0.4ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `grade_results` SET `result` = 0.57, `updated_at` = '2015-05-12 21:08:54' WHERE `grade_results`.`id` = 1
  [1m[36m (6.2ms)[0m  [1mCOMMIT[0m
  Rendered text template (0.0ms)
Completed 200 OK in 15ms (Views: 2.0ms | ActiveRecord: 7.4ms)
Started GET "/admin/course_page?method=show&course_id=2" for 127.0.0.1 at 2015-05-12 14:08:54 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"show", "course_id"=>"2"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mCourse Load (0.5ms)[0m  [1mSELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1[0m
  [1m[35mLti2Tc::Link Load (0.2ms)[0m  SELECT `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`course_id` = 2
  [1m[36mGradeItem Load (0.3ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 7 LIMIT 1[0m
  [1m[35mGradeResult Load (0.2ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 25 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT `lti2_tc_resources`.* FROM `lti2_tc_resources`   ORDER BY resource_name[0m
  [1m[35mGradeItem Load (0.2ms)[0m  SELECT `grade_items`.* FROM `grade_items`   ORDER BY label
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 19 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 22 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.1ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 25 LIMIT 1[0m
  Rendered admin/course_page/_course_page.html.haml (3.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (39.9ms)
Completed 200 OK in 42ms (Views: 38.2ms | ActiveRecord: 2.4ms)
Started GET "/admin/course_page?method=link&link_id=19" for 127.0.0.1 at 2015-05-12 14:09:22 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"link", "link_id"=>"19"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Link Load (0.3ms)[0m  [1mSELECT  `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`id` = 19 LIMIT 1[0m
  [1m[35mCourse Load (0.6ms)[0m  SELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1
  [1m[36mEnrollment Load (0.4ms)[0m  [1mSELECT  `enrollments`.* FROM `enrollments`  WHERE `enrollments`.`admin_user_id` = 2 AND `enrollments`.`course_id` = 2  ORDER BY `enrollments`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.4ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 19 LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.3ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 3 LIMIT 1[0m
  [1m[35mLti2Tc::ToolSetting Load (0.4ms)[0m  SELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 3 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Tool'
  [1m[36mLti2Tc::ToolSetting Load (0.2ms)[0m  [1mSELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 3 AND `lti2_tc_tool_settings`.`scopeable_id` = 2 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Context'[0m
  [1m[35mLti2Tc::ToolSetting Load (0.2ms)[0m  SELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 3 AND `lti2_tc_tool_settings`.`scopeable_id` = 19 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Ltilink'
  Rendered inline template (0.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (42.5ms)
Completed 200 OK in 45ms (Views: 40.2ms | ActiveRecord: 3.0ms)
Started GET "/lti2_tc/tool_settings/e8dbba20-db18-0132-d251-20c9d07c6451" for 127.0.0.1 at 2015-05-12 14:09:22 -0700
Processing by Lti2Tc::ToolSettingsController#show as application/vnd.ims.lti.v2.toolsettings.simple+json
  Parameters: {"tool_guid"=>"e8dbba20-db18-0132-d251-20c9d07c6451"}
AuthHdr_Parms: {:oauth_consumer_key=>"e8dbba20-db18-0132-d251-20c9d07c6451", :oauth_nonce=>"3733620522025", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1431464962", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"2jmj7l5rSw0yVb/vlWAYkK/YBwk=", :oauth_signature=>"jHhKXjmw+8LrdlqtS5GlOT6EQHA="}
  [1m[36mLti2Tc::Tool Load (0.4ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = 'e8dbba20-db18-0132-d251-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {:oauth_consumer_key=>"e8dbba20-db18-0132-d251-20c9d07c6451", :oauth_nonce=>"3733620522025", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1431464962", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"2jmj7l5rSw0yVb/vlWAYkK/YBwk=", :oauth_signature=>"jHhKXjmw+8LrdlqtS5GlOT6EQHA="}
in verify_signature
  [1m[35mCACHE (0.0ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = 'e8dbba20-db18-0132-d251-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::ToolSetting Load (0.4ms)[0m  [1mSELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 3 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Tool'[0m
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.8ms)
Started GET "/lti2_tc/tool_settings/e8dbba20-db18-0132-d251-20c9d07c6451/context/2" for 127.0.0.1 at 2015-05-12 14:09:22 -0700
Processing by Lti2Tc::ToolSettingsController#show as application/vnd.ims.lti.v2.toolsettings.simple+json
  Parameters: {"tool_guid"=>"e8dbba20-db18-0132-d251-20c9d07c6451", "node_id"=>"2"}
AuthHdr_Parms: {:oauth_consumer_key=>"e8dbba20-db18-0132-d251-20c9d07c6451", :oauth_nonce=>"7535743943791", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1431464962", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"2jmj7l5rSw0yVb/vlWAYkK/YBwk=", :oauth_signature=>"/+2ilg0Umnq1ycibk4nd5AOyT58="}
  [1m[35mLti2Tc::Tool Load (0.3ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = 'e8dbba20-db18-0132-d251-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"e8dbba20-db18-0132-d251-20c9d07c6451", :oauth_nonce=>"7535743943791", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1431464962", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"2jmj7l5rSw0yVb/vlWAYkK/YBwk=", :oauth_signature=>"/+2ilg0Umnq1ycibk4nd5AOyT58="}
in verify_signature
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = 'e8dbba20-db18-0132-d251-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::ToolSetting Load (0.5ms)[0m  SELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 3 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Context' AND `lti2_tc_tool_settings`.`scopeable_id` = 2
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.8ms)
Started GET "/lti2_tc/tool_settings/e8dbba20-db18-0132-d251-20c9d07c6451/ltilink/19" for 127.0.0.1 at 2015-05-12 14:09:22 -0700
Processing by Lti2Tc::ToolSettingsController#show as application/vnd.ims.lti.v2.toolsettings.simple+json
  Parameters: {"tool_guid"=>"e8dbba20-db18-0132-d251-20c9d07c6451", "node_id"=>"19"}
AuthHdr_Parms: {:oauth_consumer_key=>"e8dbba20-db18-0132-d251-20c9d07c6451", :oauth_nonce=>"344951477523", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1431464962", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"2jmj7l5rSw0yVb/vlWAYkK/YBwk=", :oauth_signature=>"CbeOW8581aI3KcLH15bv8i/KTLU="}
  [1m[36mLti2Tc::Tool Load (0.4ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = 'e8dbba20-db18-0132-d251-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {:oauth_consumer_key=>"e8dbba20-db18-0132-d251-20c9d07c6451", :oauth_nonce=>"344951477523", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1431464962", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"2jmj7l5rSw0yVb/vlWAYkK/YBwk=", :oauth_signature=>"CbeOW8581aI3KcLH15bv8i/KTLU="}
in verify_signature
  [1m[35mCACHE (0.0ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = 'e8dbba20-db18-0132-d251-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::ToolSetting Load (0.3ms)[0m  [1mSELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 3 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Ltilink' AND `lti2_tc_tool_settings`.`scopeable_id` = 19[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.7ms)
Started PUT "/lti2_tc/tool_settings/e8dbba20-db18-0132-d251-20c9d07c6451" for 127.0.0.1 at 2015-05-12 14:09:30 -0700
Processing by Lti2Tc::ToolSettingsController#update as HTML
  Parameters: {"tool_guid"=>"e8dbba20-db18-0132-d251-20c9d07c6451"}
AuthHdr_Parms: {:oauth_consumer_key=>"e8dbba20-db18-0132-d251-20c9d07c6451", :oauth_nonce=>"3710915574679", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1431464970", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"b8B2HAdBbh8dG4EcOdONEjc/bvw=", :oauth_signature=>"rJTVL20ItabLJ7yVA5LVZfXQ1ug="}
  [1m[35mLti2Tc::Tool Load (0.4ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = 'e8dbba20-db18-0132-d251-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"e8dbba20-db18-0132-d251-20c9d07c6451", :oauth_nonce=>"3710915574679", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1431464970", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"b8B2HAdBbh8dG4EcOdONEjc/bvw=", :oauth_signature=>"rJTVL20ItabLJ7yVA5LVZfXQ1ug="}
in verify_signature
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = 'e8dbba20-db18-0132-d251-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `lti2_tc_tool_settings` WHERE `lti2_tc_tool_settings`.`scopeable_type` = 'Tool' AND `lti2_tc_tool_settings`.`tool_id` = 3
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `lti2_tc_tool_settings` (`name`, `scopeable_id`, `scopeable_type`, `tool_id`, `value`) VALUES ('client', 3, 'Tool', 3, 'k12')
  [1m[36m (6.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 19ms (Views: 0.1ms | ActiveRecord: 7.9ms)
Started PUT "/lti2_tc/tool_settings/e8dbba20-db18-0132-d251-20c9d07c6451/context/2" for 127.0.0.1 at 2015-05-12 14:09:30 -0700
Processing by Lti2Tc::ToolSettingsController#update as HTML
  Parameters: {"tool_guid"=>"e8dbba20-db18-0132-d251-20c9d07c6451", "node_id"=>"2"}
AuthHdr_Parms: {:oauth_consumer_key=>"e8dbba20-db18-0132-d251-20c9d07c6451", :oauth_nonce=>"8837404106617", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1431464970", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"3/ihcx9ZzK0FazRhAtHh0BS4Q/M=", :oauth_signature=>"yNrA6c9Dfp3NA1DWWpcXtG/QYAM="}
  [1m[35mLti2Tc::Tool Load (0.4ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = 'e8dbba20-db18-0132-d251-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"e8dbba20-db18-0132-d251-20c9d07c6451", :oauth_nonce=>"8837404106617", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1431464970", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"3/ihcx9ZzK0FazRhAtHh0BS4Q/M=", :oauth_signature=>"yNrA6c9Dfp3NA1DWWpcXtG/QYAM="}
in verify_signature
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = 'e8dbba20-db18-0132-d251-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `lti2_tc_tool_settings` WHERE `lti2_tc_tool_settings`.`scopeable_type` = 'Context' AND `lti2_tc_tool_settings`.`tool_id` = 3 AND `lti2_tc_tool_settings`.`scopeable_id` = 2
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.8ms)
Started PUT "/lti2_tc/tool_settings/e8dbba20-db18-0132-d251-20c9d07c6451/ltilink/19" for 127.0.0.1 at 2015-05-12 14:09:30 -0700
Processing by Lti2Tc::ToolSettingsController#update as HTML
  Parameters: {"tool_guid"=>"e8dbba20-db18-0132-d251-20c9d07c6451", "node_id"=>"19"}
AuthHdr_Parms: {:oauth_consumer_key=>"e8dbba20-db18-0132-d251-20c9d07c6451", :oauth_nonce=>"7134764293048", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1431464970", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"3/ihcx9ZzK0FazRhAtHh0BS4Q/M=", :oauth_signature=>"e2d46B0oMWFAd3hxFy15YvF5qws="}
  [1m[36mLti2Tc::Tool Load (0.4ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = 'e8dbba20-db18-0132-d251-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {:oauth_consumer_key=>"e8dbba20-db18-0132-d251-20c9d07c6451", :oauth_nonce=>"7134764293048", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1431464970", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"3/ihcx9ZzK0FazRhAtHh0BS4Q/M=", :oauth_signature=>"e2d46B0oMWFAd3hxFy15YvF5qws="}
in verify_signature
  [1m[35mCACHE (0.0ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = 'e8dbba20-db18-0132-d251-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `lti2_tc_tool_settings` WHERE `lti2_tc_tool_settings`.`scopeable_type` = 'Ltilink' AND `lti2_tc_tool_settings`.`tool_id` = 3 AND `lti2_tc_tool_settings`.`scopeable_id` = 19[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms)
Started GET "/admin/course_page?method=link&link_id=22" for 127.0.0.1 at 2015-05-12 14:09:44 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"link", "link_id"=>"22"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Link Load (0.3ms)[0m  [1mSELECT  `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`id` = 22 LIMIT 1[0m
  [1m[35mCourse Load (0.2ms)[0m  SELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1
  [1m[36mEnrollment Load (0.3ms)[0m  [1mSELECT  `enrollments`.* FROM `enrollments`  WHERE `enrollments`.`admin_user_id` = 2 AND `enrollments`.`course_id` = 2  ORDER BY `enrollments`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.3ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 22 LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.5ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 3 LIMIT 1[0m
  [1m[35mLti2Tc::ToolSetting Load (0.5ms)[0m  SELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 3 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Tool'
  [1m[36mLti2Tc::ToolSetting Load (0.6ms)[0m  [1mSELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 3 AND `lti2_tc_tool_settings`.`scopeable_id` = 2 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Context'[0m
  [1m[35mLti2Tc::ToolSetting Load (0.3ms)[0m  SELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 3 AND `lti2_tc_tool_settings`.`scopeable_id` = 22 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Ltilink'
  Rendered inline template (0.6ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (59.9ms)
Completed 200 OK in 62ms (Views: 57.4ms | ActiveRecord: 3.3ms)
Started GET "/admin/course_page?method=show&course_id=2" for 127.0.0.1 at 2015-05-12 14:09:46 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"show", "course_id"=>"2"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mCourse Load (0.3ms)[0m  SELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1
  [1m[36mLti2Tc::Link Load (0.2ms)[0m  [1mSELECT `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`course_id` = 2[0m
  [1m[35mGradeItem Load (0.2ms)[0m  SELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 7 LIMIT 1
  [1m[36mGradeResult Load (0.2ms)[0m  [1mSELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 25 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT `lti2_tc_resources`.* FROM `lti2_tc_resources`   ORDER BY resource_name
  [1m[36mGradeItem Load (0.2ms)[0m  [1mSELECT `grade_items`.* FROM `grade_items`   ORDER BY label[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 19 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.1ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 22 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 25 LIMIT 1
  Rendered admin/course_page/_course_page.html.haml (3.9ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (35.6ms)
Completed 200 OK in 38ms (Views: 34.3ms | ActiveRecord: 2.1ms)
Started GET "/admin/course_page?method=show&course_id=2" for 127.0.0.1 at 2015-05-12 14:10:18 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"show", "course_id"=>"2"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mCourse Load (0.3ms)[0m  SELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1
  [1m[36mLti2Tc::Link Load (0.3ms)[0m  [1mSELECT `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`course_id` = 2[0m
  [1m[35mGradeItem Load (0.2ms)[0m  SELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 7 LIMIT 1
  [1m[36mGradeResult Load (0.2ms)[0m  [1mSELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 25 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT `lti2_tc_resources`.* FROM `lti2_tc_resources`   ORDER BY resource_name
  [1m[36mGradeItem Load (0.2ms)[0m  [1mSELECT `grade_items`.* FROM `grade_items`   ORDER BY label[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 19 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.1ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 22 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.1ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 25 LIMIT 1
  Rendered admin/course_page/_course_page.html.haml (3.6ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (37.7ms)
Completed 200 OK in 40ms (Views: 36.2ms | ActiveRecord: 2.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-05-12 14:10:21 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  Rendered admin/dashboard/_dashboard.html.haml (0.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (26.4ms)
Completed 200 OK in 29ms (Views: 26.9ms | ActiveRecord: 0.3ms)
Started GET "/admin/admin_actions" for 127.0.0.1 at 2015-05-12 14:10:25 -0700
Processing by Admin::AdminActionsController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  Rendered admin/admin_actions/_admin_actions.html.haml (0.1ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (28.2ms)
Completed 200 OK in 31ms (Views: 28.9ms | ActiveRecord: 0.3ms)
Started GET "/admin/tool_actions" for 127.0.0.1 at 2015-05-12 14:10:29 -0700
Processing by Admin::ToolActionsController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.3ms)[0m  SELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name
  Rendered admin/tool_actions/_tool_actions.html.haml (0.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (26.5ms)
Completed 200 OK in 29ms (Views: 26.8ms | ActiveRecord: 0.6ms)
Started GET "/admin/tool_actions?method=reregister&tool_id=3" for 127.0.0.1 at 2015-05-12 14:10:31 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"method"=>"reregister", "tool_id"=>"3"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.4ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 3 LIMIT 1[0m  [["id", "3"]]
  [1m[35mLti2Tc::DeploymentRequest Load (0.5ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = 'e8dbba20-db18-0132-d251-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `lti2_tc_tools` SET `registration_return_url` = 'http://rails.kinexis.com:4000/admin/tool_actions', `updated_at` = '2015-05-12 21:10:31' WHERE `lti2_tc_tools`.`id` = 3
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tc_deployment_requests` SET `status` = 'reregistering', `updated_at` = '2015-05-12 21:10:31' WHERE `lti2_tc_deployment_requests`.`id` = 7[0m
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36mLti2Tc::ToolConsumerProfile Load (0.3ms)[0m  [1mSELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = 'e8dbc090-db18-0132-d251-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `lti2_tc_tool_consumer_profiles` SET `tc_profile` = '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolConsumerProfile\",\n  \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"guid\": \"e8dbc090-db18-0132-d251-20c9d07c6451\",\n  \"product_instance\": {\n    \"guid\": \"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\n    \"product_info\": {\n      \"product_name\": {\n        \"default_value\": \"Elan/LuMoS\",\n        \"key\": \"product.name\"\n      },\n      \"product_version\": \"3.1\",\n      \"description\": {\n        \"default_value\": \"Elan University/LuMoS Learning Platform\",\n        \"key\": \"product.version\"\n      },\n      \"technical_description\": {\n        \"default_value\": \"LTI 1, 1.1 and 2.0 compliant\",\n        \"key\": \"product.technicalDescription\"\n      },\n      \"product_family\": {\n        \"code\": \"LuMoS\",\n        \"vendor\": {\n          \"code\": \"lms.LuMoS.org\",\n          \"vendor_name\": {\n            \"default_value\": \"LuMoS Corporation\",\n            \"key\": \"product.vendor.name\"\n          },\n          \"description\": {\n            \"default_value\": \"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\n            \"key\": \"product.vendor.description\"\n          },\n          \"website\": \"http://lms.LuMoS.org/products/omega\",\n          \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n          \"contact\": {\n            \"email\": \"support@lms.LuMoS.org\"\n          }\n        }\n      }\n    },\n    \"support\": {\n      \"email\": \"john.tibbetts@kinexis.com\"\n    },\n    \"service_owner\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceOwner\",\n      \"timestamp\": \"2012-03-28T09:08:16-04:00\",\n      \"service_owner_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_owner.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_owner.description\"\n      },\n      \"support\": {\n        \"email\": \"techsupport@elan.edu\"\n      }\n    },\n    \"service_provider\": {\n      \"@id\": \"http://ec2.LuMoS.org/ServiceProvider\",\n      \"guid\": \"ec2.LuMoS.org\",\n      \"timestamp\": \"2012-07-09T012:08:16-04:00\",\n      \"service_provider_name\": {\n        \"default_value\": \"Elan University\",\n        \"key\": \"service_provider.name\"\n      },\n      \"description\": {\n        \"default_value\": \"Elan University EC2 Cloud\",\n        \"key\": \"service_provider.description\"\n      },\n      \"support\": {\n        \"email\": \"support@yasp.LuMoS.org\"\n      }\n    }\n  },\n  \"capability_offered\": [\n    \"basic-lti-launch-request\",\n    \"Result.autocreate\",\n    \"Result.sourcedId\",\n    \"User.id\",\n    \"User.username\",\n    \"CourseSection.sourcedId\",\n    \"Person.sourcedId\",\n    \"Person.email.primary\",\n    \"Person.name.given\",\n    \"Person.name.family\",\n    \"Person.name.full\",\n    \"Membership.role\",\n    \"ToolProxy.custom.url\",\n    \"ToolProxyBinding.custom.url\",\n    \"LtiLink.custom.url\",\n    \"ToolConsumerProfile.url\",\n    \"OAuth.splitsecret\"\n  ],\n  \"service_offered\": [\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.collection\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"POST\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxy.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolproxy+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:Result.item\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\n      \"format\": [\n        \"application/vnd.ims.lis.v2.result+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:LtiLinkSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxyBindingSettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"@type\": \"RestService\",\n      \"@id\": \"ltitcp:ToolProxySettings\",\n      \"endpoint\": \"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\n      \"format\": [\n        \"application/vnd.ims.lti.v2.toolsettings+json\",\n        \"application/vnd.ims.lti.v2.toolsettings.simple+json\"\n      ],\n      \"action\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    }\n  ]\n}', `updated_at` = '2015-05-12 21:10:31' WHERE `lti2_tc_tool_consumer_profiles`.`id` = 6[0m
  [1m[35m (0.8ms)[0m  COMMIT
  Rendered inline template (0.4ms)
  [1m[36mLti2Tc::Tool Load (0.3ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (0.2ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (45.6ms)
Completed 200 OK in 48ms (Views: 40.3ms | ActiveRecord: 6.1ms)
Started GET "/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451" for 127.0.0.1 at 2015-05-12 14:10:31 -0700
Processing by Lti2Tc::ToolConsumerProfilesController#show as HTML
  Parameters: {"id"=>"e8dbc090-db18-0132-d251-20c9d07c6451"}
  [1m[35mLti2Tc::ToolConsumerProfile Load (0.8ms)[0m  SELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = 'e8dbc090-db18-0132-d251-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451#"
    }
  ],
  "@type": "ToolConsumerProfile",
  "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451",
  "lti_version": "LTI-2p0",
  "guid": "e8dbc090-db18-0132-d251-20c9d07c6451",
  "product_instance": {
    "guid": "dcddf9808107-81ea-eaa4-1edf-5d24568c",
    "product_info": {
      "product_name": {
        "default_value": "Elan/LuMoS",
        "key": "product.name"
      },
      "product_version": "3.1",
      "description": {
        "default_value": "Elan University/LuMoS Learning Platform",
        "key": "product.version"
      },
      "technical_description": {
        "default_value": "LTI 1, 1.1 and 2.0 compliant",
        "key": "product.technicalDescription"
      },
      "product_family": {
        "code": "LuMoS",
        "vendor": {
          "code": "lms.LuMoS.org",
          "vendor_name": {
            "default_value": "LuMoS Corporation",
            "key": "product.vendor.name"
          },
          "description": {
            "default_value": "LuMoS Corporation is a fictitious vendor of a Learning Management System",
            "key": "product.vendor.description"
          },
          "website": "http://lms.LuMoS.org/products/omega",
          "timestamp": "2012-07-09T012:08:16-04:00",
          "contact": {
            "email": "support@lms.LuMoS.org"
          }
        }
      }
    },
    "support": {
      "email": "john.tibbetts@kinexis.com"
    },
    "service_owner": {
      "@id": "http://ec2.LuMoS.org/ServiceOwner",
      "timestamp": "2012-03-28T09:08:16-04:00",
      "service_owner_name": {
        "default_value": "Elan University",
        "key": "service_owner.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_owner.description"
      },
      "support": {
        "email": "techsupport@elan.edu"
      }
    },
    "service_provider": {
      "@id": "http://ec2.LuMoS.org/ServiceProvider",
      "guid": "ec2.LuMoS.org",
      "timestamp": "2012-07-09T012:08:16-04:00",
      "service_provider_name": {
        "default_value": "Elan University",
        "key": "service_provider.name"
      },
      "description": {
        "default_value": "Elan University EC2 Cloud",
        "key": "service_provider.description"
      },
      "support": {
        "email": "support@yasp.LuMoS.org"
      }
    }
  },
  "capability_offered": [
    "basic-lti-launch-request",
    "Result.autocreate",
    "Result.sourcedId",
    "User.id",
    "User.username",
    "CourseSection.sourcedId",
    "Person.sourcedId",
    "Person.email.primary",
    "Person.name.given",
    "Person.name.family",
    "Person.name.full",
    "Membership.role",
    "ToolProxy.custom.url",
    "ToolProxyBinding.custom.url",
    "LtiLink.custom.url",
    "ToolConsumerProfile.url",
    "OAuth.splitsecret"
  ],
  "service_offered": [
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.collection",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "POST"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxy.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolproxy+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:Result.item",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}",
      "format": [
        "application/vnd.ims.lis.v2.result+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:LtiLinkSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxyBindingSettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    },
    {
      "@type": "RestService",
      "@id": "ltitcp:ToolProxySettings",
      "endpoint": "http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
      "format": [
        "application/vnd.ims.lti.v2.toolsettings+json",
        "application/vnd.ims.lti.v2.toolsettings.simple+json"
      ],
      "action": [
        "GET",
        "PUT"
      ]
    }
  ]
}
Completed 200 OK in 6ms (Views: 1.8ms | ActiveRecord: 0.8ms)
Started POST "/lti2_tc/tools" for 127.0.0.1 at 2015-05-12 14:10:33 -0700
Processing by Lti2Tc::ToolsController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"e8dbba20-db18-0132-d251-20c9d07c6451", :oauth_nonce=>"7881445689770", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1431465033", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"VO8GVY/qgmmEVNAPdODIfCP17Yo=", :oauth_signature=>"9VBzZn0aiiWvo+zj3XFEz12w8oA="}
  [1m[36mLti2Tc::ToolConsumerProfile Load (0.5ms)[0m  [1mSELECT  `lti2_tc_tool_consumer_profiles`.* FROM `lti2_tc_tool_consumer_profiles`  WHERE `lti2_tc_tool_consumer_profiles`.`tc_profile_guid` = 'e8dbc090-db18-0132-d251-20c9d07c6451'  ORDER BY `lti2_tc_tool_consumer_profiles`.`id` ASC LIMIT 1[0m
ToolProxy as received: 
{
  "@context": [
    "http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile",
    {
      "ltitcp": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451#"
    }
  ],
  "@type": "ToolProxy",
  "@id": "ToolProxyProposal_at_2015-05-12T21:10:33Z",
  "lti_version": "LTI-2p0",
  "tool_proxy_guid": "e8dbba20-db18-0132-d251-20c9d07c6451",
  "tool_consumer_profile": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451",
  "tool_profile": {
    "base_url_choice": [
      {
        "default_base_url": "http://rails.kinexis.com:5000",
        "selector": {
          "applies_to": [
            "IconEndpoint",
            "MessageHandler"
          ]
        }
      }
    ],
    "lti_version": "LTI-2p0",
    "message": [
      {
        "message_type": [
          "ToolProxyRegistrationRequest",
          "ToolProxyReregistrationRequest"
        ],
        "parameter": [
          {
            "name": "tc_profile_url",
            "variable": "ToolConsumerProfile.url"
          }
        ],
        "path": "http://rails.kinexis.com:5000/lti2_tp/reregistrations"
      }
    ],
    "product_instance": {
      "guid": "fd75124a-140e-470f-944c-114d2d92bb40",
      "product_info": {
        "description": {
          "default_value": "Fabericious reflowable ePub3 Textbook",
          "key": "tool.description"
        },
        "product_family": {
          "code": "assessment-tool",
          "vendor": {
            "code": "fabericious.org",
            "contact": {
              "email": "info@fabericious.com"
            },
            "description": {
              "default_value": "Fabericious is a leading provider of interactive tools for education",
              "key": "tool.vendor.description"
            },
            "vendor_name": {
              "default_value": "Fab",
              "key": "tool.vendor.name"
            },
            "timestamp": "2012-04-05T09:08:16-04:00",
            "website": "{http://rails.kinexis.com:5000}"
          }
        },
        "product_name": {
          "default_value": "LTI2 BookTools",
          "key": "tool.name"
        },
        "product_version": "10.3",
        "technical_description": {
          "default_value": "Support provided for all LTI 1 extensions as well as LTI 2",
          "key": "tool.technical"
        }
      },
      "service_provider": {
        "description": {
          "default_value": "Provider of high performance managed hosting environments",
          "key": "service_provider.description"
        },
        "guid": "18e7ea50-3d6d-4f6b-aff2-ed3ab577716c",
        "service_provider_name": {
          "default_value": "Amazon Cloud",
          "key": "service_provider.name"
        },
        "support": {
          "email": "support@ec2.fabericious.com"
        },
        "timestamp": "2012-04-05T09:08:16-04:00"
      },
      "support": {
        "email": "helpdesk@fabericious.com"
      }
    },
    "resource_handler": [
      {
        "description": {
          "default_value": "Settings service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "tool_proxy_custom_url",
                "variable": "ToolProxy.custom.url"
              },
              {
                "name": "tool_proxy_binding_custom_url",
                "variable": "ToolProxyBinding.custom.url"
              },
              {
                "name": "lti_link_custom_url",
                "variable": "LtiLink.custom.url"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "ToolProxy.custom.url",
              "ToolProxyBinding.custom.url",
              "LtiLink.custom.url"
            ],
            "path": "/settings"
          }
        ],
        "resource_name": {
          "default_value": "Settings",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "setting"
        }
      },
      {
        "description": {
          "default_value": "Echo service",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "fixed": "Narcissus",
                "name": "referrer"
              },
              {
                "fixed": "3.14159",
                "name": "pi"
              },
              {
                "name": "user_primary_email",
                "variable": "Person.email.primary"
              },
              {
                "name": "discipline",
                "variable": "CourseOffering.label"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary"
            ],
            "path": "/echoes"
          }
        ],
        "resource_name": {
          "default_value": "Echo",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "echo"
        }
      },
      {
        "description": {
          "default_value": "Interactive resource",
          "key": "resource.description"
        },
        "message": [
          {
            "message_type": "basic-lti-launch-request",
            "parameter": [
              {
                "name": "vbid"
              },
              {
                "name": "result_uri",
                "variable": "Result.uri"
              }
            ],
            "enabled_capability": [
              "User.id",
              "Context.id",
              "CourseSection.label",
              "CourseSection.title",
              "Person.name.family",
              "Person.name.given",
              "Person.email.primary",
              "Result.autocreate"
            ],
            "path": "/iresources"
          }
        ],
        "resource_name": {
          "default_value": "InteractiveResource",
          "key": "resource.name"
        },
        "resource_type": {
          "code": "iresource"
        }
      }
    ],
    "service_offered": [
      {
        "@id": "http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection",
        "@type": "RestService",
        "action": [
          "PUT"
        ],
        "endpoint": "http://rails.kinexis.com:5000/lti2_tp/tool_proxies",
        "format": [
          ""
        ]
      }
    ]
  },
  "security_contract": {
    "shared_secret": "ceaf4ecd890151e8cebcecda8f16805b",
    "tool_service": [
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.collection",
        "action": [
          "POST"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxy.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:Result.item",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:LtiLinkSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxyBindingSettings",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "ltitcp:ToolProxySettings",
        "action": [
          "GET",
          "PUT"
        ]
      }
    ]
  }
}
  [1m[35mLti2Tc::DeploymentRequest Load (0.4ms)[0m  SELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = 'e8dbba20-db18-0132-d251-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `lti2_tc_deployment_requests` SET `confirm_url` = 'http://rails.kinexis.com:5000/lti2_tp/tool_proxies/e8dbba20-db18-0132-d251-20c9d07c6451?correlation=402a0c10-db19-0132-d252-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-05-12T21:10:33Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"e8dbba20-db18-0132-d251-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"ceaf4ecd890151e8cebcecda8f16805b\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-05-12 21:10:33' WHERE `lti2_tc_deployment_requests`.`id` = 7
  [1m[36m (10.6ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tc::Tool Load (0.6ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`key` = 'e8dbba20-db18-0132-d251-20c9d07c6451'  ORDER BY `lti2_tc_tools`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `lti2_tc_tools` SET `status` = 'reregistering', `updated_at` = '2015-05-12 21:10:33' WHERE `lti2_tc_tools`.`id` = 3
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  Rendered text template (0.0ms)
Completed 201 Created in 27ms (Views: 0.6ms | ActiveRecord: 13.9ms)
Started GET "/admin/tool_actions?status=success" for 127.0.0.1 at 2015-05-12 14:10:33 -0700
Processing by Admin::ToolActionsController#index as HTML
  Parameters: {"status"=>"success"}
  [1m[35mAdminUser Load (0.4ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.4ms)[0m  [1mSELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name[0m
  Rendered admin/tool_actions/_tool_actions.html.haml (0.2ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (30.6ms)
Completed 200 OK in 34ms (Views: 30.8ms | ActiveRecord: 0.8ms)
Started GET "/lti2_tc/reregister_continue?tool_id=3" for 127.0.0.1 at 2015-05-12 14:10:34 -0700
Processing by Lti2Tc::ToolsController#reregister_continue as HTML
  Parameters: {"tool_id"=>"3"}
  [1m[35mLti2Tc::Tool Load (0.3ms)[0m  SELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 3 LIMIT 1
  [1m[36mLti2Tc::DeploymentRequest Load (0.2ms)[0m  [1mSELECT  `lti2_tc_deployment_requests`.* FROM `lti2_tc_deployment_requests`  WHERE `lti2_tc_deployment_requests`.`reg_key` = 'e8dbba20-db18-0132-d251-20c9d07c6451'  ORDER BY `lti2_tc_deployment_requests`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `lti2_tc_tools` SET `secret` = 'ceaf4ecd890151e8cebcecda8f16805b', `status` = 'reregistered', `tool_proxy` = '{\n  \"@context\": [\n    \"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",\n    {\n      \"ltitcp\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451#\"\n    }\n  ],\n  \"@type\": \"ToolProxy\",\n  \"@id\": \"http://rails.kinexis.com:4000/tools/e8dbba20-db18-0132-d251-20c9d07c6451\",\n  \"lti_version\": \"LTI-2p0\",\n  \"tool_proxy_guid\": \"e8dbba20-db18-0132-d251-20c9d07c6451\",\n  \"tool_consumer_profile\": \"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451\",\n  \"tool_profile\": {\n    \"base_url_choice\": [\n      {\n        \"default_base_url\": \"http://rails.kinexis.com:5000\",\n        \"selector\": {\n          \"applies_to\": [\n            \"IconEndpoint\",\n            \"MessageHandler\"\n          ]\n        }\n      }\n    ],\n    \"lti_version\": \"LTI-2p0\",\n    \"message\": [\n      {\n        \"message_type\": [\n          \"ToolProxyRegistrationRequest\",\n          \"ToolProxyReregistrationRequest\"\n        ],\n        \"parameter\": [\n          {\n            \"name\": \"tc_profile_url\",\n            \"variable\": \"ToolConsumerProfile.url\"\n          }\n        ],\n        \"path\": \"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"\n      }\n    ],\n    \"product_instance\": {\n      \"guid\": \"fd75124a-140e-470f-944c-114d2d92bb40\",\n      \"product_info\": {\n        \"description\": {\n          \"default_value\": \"Fabericious reflowable ePub3 Textbook\",\n          \"key\": \"tool.description\"\n        },\n        \"product_family\": {\n          \"code\": \"assessment-tool\",\n          \"vendor\": {\n            \"code\": \"fabericious.org\",\n            \"contact\": {\n              \"email\": \"info@fabericious.com\"\n            },\n            \"description\": {\n              \"default_value\": \"Fabericious is a leading provider of interactive tools for education\",\n              \"key\": \"tool.vendor.description\"\n            },\n            \"vendor_name\": {\n              \"default_value\": \"Fab\",\n              \"key\": \"tool.vendor.name\"\n            },\n            \"timestamp\": \"2012-04-05T09:08:16-04:00\",\n            \"website\": \"{http://rails.kinexis.com:5000}\"\n          }\n        },\n        \"product_name\": {\n          \"default_value\": \"LTI2 BookTools\",\n          \"key\": \"tool.name\"\n        },\n        \"product_version\": \"10.3\",\n        \"technical_description\": {\n          \"default_value\": \"Support provided for all LTI 1 extensions as well as LTI 2\",\n          \"key\": \"tool.technical\"\n        }\n      },\n      \"service_provider\": {\n        \"description\": {\n          \"default_value\": \"Provider of high performance managed hosting environments\",\n          \"key\": \"service_provider.description\"\n        },\n        \"guid\": \"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\n        \"service_provider_name\": {\n          \"default_value\": \"Amazon Cloud\",\n          \"key\": \"service_provider.name\"\n        },\n        \"support\": {\n          \"email\": \"support@ec2.fabericious.com\"\n        },\n        \"timestamp\": \"2012-04-05T09:08:16-04:00\"\n      },\n      \"support\": {\n        \"email\": \"helpdesk@fabericious.com\"\n      }\n    },\n    \"resource_handler\": [\n      {\n        \"description\": {\n          \"default_value\": \"Settings service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"tool_proxy_custom_url\",\n                \"variable\": \"ToolProxy.custom.url\"\n              },\n              {\n                \"name\": \"tool_proxy_binding_custom_url\",\n                \"variable\": \"ToolProxyBinding.custom.url\"\n              },\n              {\n                \"name\": \"lti_link_custom_url\",\n                \"variable\": \"LtiLink.custom.url\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"ToolProxy.custom.url\",\n              \"ToolProxyBinding.custom.url\",\n              \"LtiLink.custom.url\"\n            ],\n            \"path\": \"/settings\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Settings\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"setting\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Echo service\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"fixed\": \"Narcissus\",\n                \"name\": \"referrer\"\n              },\n              {\n                \"fixed\": \"3.14159\",\n                \"name\": \"pi\"\n              },\n              {\n                \"name\": \"user_primary_email\",\n                \"variable\": \"Person.email.primary\"\n              },\n              {\n                \"name\": \"discipline\",\n                \"variable\": \"CourseOffering.label\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\"\n            ],\n            \"path\": \"/echoes\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"Echo\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"echo\"\n        }\n      },\n      {\n        \"description\": {\n          \"default_value\": \"Interactive resource\",\n          \"key\": \"resource.description\"\n        },\n        \"message\": [\n          {\n            \"message_type\": \"basic-lti-launch-request\",\n            \"parameter\": [\n              {\n                \"name\": \"vbid\"\n              },\n              {\n                \"name\": \"result_uri\",\n                \"variable\": \"Result.uri\"\n              }\n            ],\n            \"enabled_capability\": [\n              \"User.id\",\n              \"Context.id\",\n              \"CourseSection.label\",\n              \"CourseSection.title\",\n              \"Person.name.family\",\n              \"Person.name.given\",\n              \"Person.email.primary\",\n              \"Result.autocreate\"\n            ],\n            \"path\": \"/iresources\"\n          }\n        ],\n        \"resource_name\": {\n          \"default_value\": \"InteractiveResource\",\n          \"key\": \"resource.name\"\n        },\n        \"resource_type\": {\n          \"code\": \"iresource\"\n        }\n      }\n    ],\n    \"service_offered\": [\n      {\n        \"@id\": \"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\n        \"@type\": \"RestService\",\n        \"action\": [\n          \"PUT\"\n        ],\n        \"endpoint\": \"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\n        \"format\": [\n          \"\"\n        ]\n      }\n    ]\n  },\n  \"security_contract\": {\n    \"shared_secret\": \"ceaf4ecd890151e8cebcecda8f16805b\",\n    \"tool_service\": [\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.collection\",\n        \"action\": [\n          \"POST\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxy.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:Result.item\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:LtiLinkSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxyBindingSettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      },\n      {\n        \"@type\": \"RestServiceProfile\",\n        \"service\": \"ltitcp:ToolProxySettings\",\n        \"action\": [\n          \"GET\",\n          \"PUT\"\n        ]\n      }\n    ]\n  }\n}', `updated_at` = '2015-05-12 21:10:34' WHERE `lti2_tc_tools`.`id` = 3[0m
  [1m[35m (12.2ms)[0m  COMMIT
Redirected to http://rails.kinexis.com:4000/admin/tool_actions
Completed 302 Found in 48ms (ActiveRecord: 13.4ms)
Started GET "/admin/tool_actions" for 127.0.0.1 at 2015-05-12 14:10:34 -0700
Processing by Admin::ToolActionsController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Tool Load (0.5ms)[0m  SELECT `lti2_tc_tools`.* FROM `lti2_tc_tools`   ORDER BY product_name
  Rendered admin/tool_actions/_tool_actions.html.haml (0.3ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (30.1ms)
Completed 200 OK in 33ms (Views: 30.2ms | ActiveRecord: 0.9ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-05-12 14:10:37 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  Rendered admin/dashboard/_dashboard.html.haml (0.5ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (26.9ms)
Completed 200 OK in 30ms (Views: 27.4ms | ActiveRecord: 0.4ms)
Started GET "/admin/course_actions" for 127.0.0.1 at 2015-05-12 14:10:39 -0700
Processing by Admin::CourseActionsController#index as HTML
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT `courses`.* FROM `courses`   ORDER BY course_label[0m
  Rendered admin/course_actions/_course_actions.html.haml (0.7ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (39.3ms)
Completed 200 OK in 42ms (Views: 39.5ms | ActiveRecord: 0.7ms)
Started GET "/admin/course_page?method=show&course_id=2" for 127.0.0.1 at 2015-05-12 14:10:40 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"show", "course_id"=>"2"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mCourse Load (0.5ms)[0m  [1mSELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1[0m
  [1m[35mLti2Tc::Link Load (0.5ms)[0m  SELECT `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`course_id` = 2
  [1m[36mGradeItem Load (0.3ms)[0m  [1mSELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 7 LIMIT 1[0m
  [1m[35mGradeResult Load (0.3ms)[0m  SELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 25 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT `lti2_tc_resources`.* FROM `lti2_tc_resources`   ORDER BY resource_name[0m
  [1m[35mGradeItem Load (0.3ms)[0m  SELECT `grade_items`.* FROM `grade_items`   ORDER BY label
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 19 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.3ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 22 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.3ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 25 LIMIT 1[0m
  Rendered admin/course_page/_course_page.html.haml (5.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (43.1ms)
Completed 200 OK in 46ms (Views: 40.7ms | ActiveRecord: 3.3ms)
Started GET "/admin/course_page?method=link&link_id=22" for 127.0.0.1 at 2015-05-12 14:10:43 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"link", "link_id"=>"22"}
  [1m[35mAdminUser Load (0.3ms)[0m  SELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1
  [1m[36mLti2Tc::Link Load (0.3ms)[0m  [1mSELECT  `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`id` = 22 LIMIT 1[0m
  [1m[35mCourse Load (0.2ms)[0m  SELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1
  [1m[36mEnrollment Load (0.4ms)[0m  [1mSELECT  `enrollments`.* FROM `enrollments`  WHERE `enrollments`.`admin_user_id` = 2 AND `enrollments`.`course_id` = 2  ORDER BY `enrollments`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.1ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 22 LIMIT 1
  [1m[36mLti2Tc::Tool Load (0.2ms)[0m  [1mSELECT  `lti2_tc_tools`.* FROM `lti2_tc_tools`  WHERE `lti2_tc_tools`.`id` = 3 LIMIT 1[0m
  [1m[35mLti2Tc::ToolSetting Load (0.3ms)[0m  SELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 3 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Tool'
  [1m[36mLti2Tc::ToolSetting Load (0.2ms)[0m  [1mSELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 3 AND `lti2_tc_tool_settings`.`scopeable_id` = 2 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Context'[0m
  [1m[35mLti2Tc::ToolSetting Load (0.2ms)[0m  SELECT `lti2_tc_tool_settings`.* FROM `lti2_tc_tool_settings`  WHERE `lti2_tc_tool_settings`.`tool_id` = 3 AND `lti2_tc_tool_settings`.`scopeable_id` = 22 AND `lti2_tc_tool_settings`.`scopeable_type` = 'Ltilink'
  Rendered inline template (0.6ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (41.8ms)
Completed 200 OK in 44ms (Views: 40.5ms | ActiveRecord: 2.2ms)
Started GET "/admin/course_page?method=show&course_id=2" for 127.0.0.1 at 2015-05-12 14:10:45 -0700
Processing by Admin::CoursePageController#index as HTML
  Parameters: {"method"=>"show", "course_id"=>"2"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1mSELECT  `admin_users`.* FROM `admin_users`  WHERE `admin_users`.`id` = 2  ORDER BY `admin_users`.`id` ASC LIMIT 1[0m
  [1m[35mCourse Load (0.4ms)[0m  SELECT  `courses`.* FROM `courses`  WHERE `courses`.`id` = 2 LIMIT 1
  [1m[36mLti2Tc::Link Load (0.4ms)[0m  [1mSELECT `lti2_tc_links`.* FROM `lti2_tc_links`  WHERE `lti2_tc_links`.`course_id` = 2[0m
  [1m[35mGradeItem Load (0.4ms)[0m  SELECT  `grade_items`.* FROM `grade_items`  WHERE `grade_items`.`id` = 7 LIMIT 1
  [1m[36mGradeResult Load (0.2ms)[0m  [1mSELECT  `grade_results`.* FROM `grade_results`  WHERE `grade_results`.`link_id` = 25 AND `grade_results`.`admin_user_id` = 2  ORDER BY `grade_results`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT `lti2_tc_resources`.* FROM `lti2_tc_resources`   ORDER BY resource_name
  [1m[36mGradeItem Load (0.3ms)[0m  [1mSELECT `grade_items`.* FROM `grade_items`   ORDER BY label[0m
  [1m[35mLti2Tc::Resource Load (0.4ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 19 LIMIT 1
  [1m[36mLti2Tc::Resource Load (0.2ms)[0m  [1mSELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 22 LIMIT 1[0m
  [1m[35mLti2Tc::Resource Load (0.2ms)[0m  SELECT  `lti2_tc_resources`.* FROM `lti2_tc_resources`  WHERE `lti2_tc_resources`.`id` = 25 LIMIT 1
  Rendered admin/course_page/_course_page.html.haml (4.4ms)
  Rendered /Users/johntibbetts/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/active_admin-e3a7354c0196/app/views/active_admin/page/index.html.arb (38.9ms)
Completed 200 OK in 41ms (Views: 36.7ms | ActiveRecord: 3.0ms)
